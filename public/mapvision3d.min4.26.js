const _0x259d=['clientWidth','ClearObjectStyle','type','streams','audio','offerExtmapAllowMixed','timestamp','aggregatedStats','_onMouseSelectedObj','send','RightControl','SplitBuilding','Clear','has','movementY','GetObjectsVisible','token','candidate-pair','getStats','this._webSocket\x20error:\x20','oncontextmenu','decode','streamingVideo','./adapter','wheelDelta','MouseMove','position','iceCandidate','MouseButton','frameWidthStart','FlyToPosition','_onWebRtcIce','arraybuffer','onkeydown','use\x20strict','onAggregatedStats','MapVision.View3d','FrameDisplayDeltaTimeMs','Content-type','OverLayerRemoveObject','SetMouseCallback','SetGroundVisible','enableMouse','stringify','video','_onWebRtcAnswer','speed','answer','GetFloorRoomNum','oniceconnectionstatechange','videoWidth','->\x20SS:\x20iceCandidate\x0a','hasOwnProperty','OverLayerCreateObject','UpdateObject','keyCode','StreamVideoClose','framesDecoded','startLatencyTest','FindObjectByPrefix','kind','FlyToObjectById','_onMouseUpCallback','close','_releaseMouseButtons','onmousemove','pressMouseButtons','CreateObject','MouseButtonsMask','ws://','movementX','DOMMouseScroll','GetBuildingNames','aggregateStats','_sendInputData','framesDecodedStart','TransmissionTimeMs','GetFloorRoomNames','AuxiliaryButton','length','framesDroppedPercentage','releaseMouseButtons','Your\x20browser\x20doesn\x27t\x20support\x20WebSocket.','timestampStart',')\x20connect','candidate','FifthButton','Bad\x20Request','Response','LayersLoad','IsClose','clientHeight','WS\x20closed:\x20','_createWebRtcPlayer','_mouseDownStatus','bitrate','LayerSelectObject','onMouse','createOffer','floors','button','GetFloorDeviceNum','mediaType','OverLayerRemoveAll','binaryType','framerate','sdpConstraints','createElement','addTransceiver','_normalizeAndQuantizeSigned','UEPostCaptureTimeMs','WebSocket','receiveToCompositeMs','RightShift','useMic','protocol','createDataChannel','SetObjectsHighlight','_webRtcPlayerObj','setUint8','expectedDisplayTime','For\x20testing\x20you\x20can\x20enable\x20HTTP\x20microphone\x20access\x20Chrome\x20by\x20visiting\x20chrome://flags/\x20and\x20enabling\x20\x27unsafely-treat-insecure-origin-as-secure\x27','offsetX','useinbandfec=1;stereo=1;sprop-maxcapturerate=48000','receiveTime','currentRoundTripTime','srcObject','XMLHttpRequest','hostname','utf-16','setInt16','GetBuildingNum','toUpperCase','highBitrate','GET','Open','getTracks','FindObjectById','GetFloorNames','amd','offsetY','CreateRoute','hidden','setUint16','Close','_callback','GetScrrenPosition','SELECTE','responseText','round','你的浏览器不支持XMLHttp','UpdateObjectVisibleByPrefix','Control','muted','Rotate','parse','PauseSequence','playsInline','Label','OverLayerStartEdit','onDataChannelMessage','setRequestHeader','error','onsignalingstatechange','GetUpFloorNames','GetBuildingVisible','replace','frameHeightStart','LayerLoad','Shift','Position','includes','OverLayerRemoveObjectsById','BrowserReceiptTimeMs','Alt','MessageType','_requestQualityControl','OverLayerRemoveObjects','GetSelectedObject','receiveAnswer','FourthButton','_unregisterEvents','get','TestStartTimeMs','_registerCallback','_webRtcPlayerHtmlElement','repeat','indexOf','OverLayerRemoveObjectById','LayerRemove','building','LayerReLoad','requestVideoFrameCallback','name','preventDefault','localhost','127.0.0.1','GetFloorDeviceNames','GetFloorRoomVisible','inbound-rtp','lowBitrate','onWebRtcCandidate','then','getElementById','gid','GetHomePosition','prototype','ShiftRight','data','View3d','now','track','GetBuildingName','SetFloorRoomVisible','ResetHome','frameWidth','UIInteraction','Building','onreadystatechange','SetObjectsHighlightByPrefix','error\x20_webRtcPlayerObj\x20is\x20null','playoutDelayHint','GetFloorVisible','push','_registerMouseEvents','WS_OPEN_STATE','MouseDown','aimapvision3d\x20server\x20is\x20not\x20started.','log','highFramerate','slice','OverLayerFindObject','SetMousePositionCallback','SetMapStatus','GetFloorDeviceVisible','style','floor','readyState','onerror','PlayRoute','ToClientMessageType','SetBitrate','UEPreEncodeTimeMs','_webSocket','avgframerate','SetResolution','forEach','search','_httpRequest','projectId','FlyToObject','SetObjectsVisible','Stop','frameHeight','OverLayerStopEdit','RegisterEvent','onicecandidate','bytesReceivedStart','geom','ReceiptTimeMs','substring','FindObjectByName','_onMouseDownCallback','_emiUICommand','UEPreCaptureTimeMs','showlocation','dcClient','ontrack','StopRoute','SetNorthControl','appendChild','pcClient','url','SetFloorDeviceVisible','setLocalDescription','_callbackMouse','loadedmetadata','OverLayerCreateObjects','_connectWebsocket','bytesReceived','onmessage','peerConnectionOptions','/aimapvision3d','_pressMouseButtons','videoHeight','No\x20data\x20channel','\x20_webSocket\x20closed\x20','framesReceived','onkeypress','onmousedown','UEPostEncodeTimeMs','PauseRoute','onVideoInitialised','mediaDevices','buffer','location','setRemoteDescription','OpenMap','async','code','_onMouseMove','UEReceiptTimeMs','toLowerCase','MapStatusType','LayerSetVisible','Couldn\x27t\x20create\x20offer','_registerTouchEvents','framesDropped','ClearHighlight','onmousewheel','RightAlt','OverLayerRemoveAllCustom','_command','playerCount','onmouseup','SetObjectHighlight','ActiveXObject','onmouseenter','warn','CommandType','SecondaryButton','enableKeyboard','cfg','POST','_emitDescriptor','GetCurrentPosition','KeyPress','latencyTestTimings','Microsoft.XMLHTTP','_onMouseDown','RequestInitialSettings','Microphone\x20access\x20in\x20the\x20browser\x20will\x20not\x20work\x20if\x20you\x20are\x20not\x20on\x20HTTPS\x20or\x20localhost.\x20Disabling\x20mic\x20access.','_requestInitialSettings','addEventListener','ResetAllBuildings','avgBitrate','open','UpdateObjectVisible','play','_onMouseUp','IsPlayingSequence'];const _0x1b7e=function(_0x259d19,_0x1b7eb2){_0x259d19=_0x259d19-0x0;let _0x5aeb3e=_0x259d[_0x259d19];return _0x5aeb3e;};(function(_0x278c40,_0x24dcad){if(typeof define==='function'&&define[_0x1b7e('0x8b')]){define([_0x1b7e('0x17')],_0x24dcad);}else if(typeof exports==='object'){module['exports']=_0x24dcad(require('./adapter'));}else{_0x278c40['webRtcPlayer']=_0x24dcad(_0x278c40['adapter']);}}(this,function(_0x366adf){function _0x4d1048(_0x3e236d){_0x3e236d=_0x3e236d||{};var _0xb2e307=this;this[_0x1b7e('0x142')]=_0x3e236d[_0x1b7e('0x119')]||{};this['cfg']['sdpSemantics']='unified-plan';this[_0x1b7e('0x142')][_0x1b7e('0x5')]=![];this[_0x1b7e('0x10f')]=null;this['dcClient']=null;this['tnClient']=null;this[_0x1b7e('0x6a')]={'offerToReceiveAudio':0x1,'offerToReceiveVideo':0x1,'voiceActivityDetection':![]};this['dataChannelOptions']={'ordered':!![]};const _0x11c35c=new URLSearchParams(window[_0x1b7e('0x127')][_0x1b7e('0xf7')]);this['useMic']=_0x11c35c[_0x1b7e('0xd')](_0x1b7e('0x72'));if(!this[_0x1b7e('0x72')]){console['log']('Microphone\x20access\x20is\x20not\x20enabled.\x20Pass\x20?useMic\x20in\x20the\x20url\x20to\x20enable\x20it.');}let _0x11002a=location[_0x1b7e('0x80')]===_0x1b7e('0xc3')||location[_0x1b7e('0x80')]===_0x1b7e('0xc4');let _0x28f089=location[_0x1b7e('0x73')]==='https:';if(this['useMic']&&!_0x11002a&&!_0x28f089){this[_0x1b7e('0x72')]=![];console[_0x1b7e('0xa2')](_0x1b7e('0x14b'));console['error'](_0x1b7e('0x79'));}this[_0x1b7e('0x147')]={'TestStartTimeMs':null,'UEReceiptTimeMs':null,'UEPreCaptureTimeMs':null,'UEPostCaptureTimeMs':null,'UEPreEncodeTimeMs':null,'UEPostEncodeTimeMs':null,'UETransmissionTimeMs':null,'BrowserReceiptTimeMs':null,'FrameDisplayDeltaTimeMs':null,'Reset':function(){this[_0x1b7e('0xb7')]=null;this[_0x1b7e('0x12d')]=null;this['UEPreCaptureTimeMs']=null;this['UEPostCaptureTimeMs']=null;this['UEPreEncodeTimeMs']=null;this[_0x1b7e('0x122')]=null;this['UETransmissionTimeMs']=null;this[_0x1b7e('0xad')]=null;this[_0x1b7e('0x25')]=null;},'SetUETimings':function(_0x5b6d50){this[_0x1b7e('0x12d')]=_0x5b6d50[_0x1b7e('0x103')];this[_0x1b7e('0x108')]=_0x5b6d50['PreCaptureTimeMs'];this[_0x1b7e('0x6e')]=_0x5b6d50['PostCaptureTimeMs'];this[_0x1b7e('0xf2')]=_0x5b6d50['PreEncodeTimeMs'];this[_0x1b7e('0x122')]=_0x5b6d50['PostEncodeTimeMs'];this['UETransmissionTimeMs']=_0x5b6d50[_0x1b7e('0x4c')];this[_0x1b7e('0xad')]=Date[_0x1b7e('0xd2')]();this['OnAllLatencyTimingsReady'](this);},'SetFrameDisplayDeltaTime':function(_0x44dacd){if(this[_0x1b7e('0x25')]==null){this[_0x1b7e('0x25')]=Math[_0x1b7e('0x95')](_0x44dacd);this['OnAllLatencyTimingsReady'](this);}},'OnAllLatencyTimingsReady':function(_0x8e8530){}};createWebRtcVideo=function(){var _0x50da49=document[_0x1b7e('0x6b')](_0x1b7e('0x2c'));_0x50da49['id']=_0x1b7e('0x16');_0x50da49[_0x1b7e('0x9d')]=!![];_0x50da49['disablepictureinpicture']=!![];_0x50da49[_0x1b7e('0x99')]=![];_0x50da49[_0x1b7e('0x14d')](_0x1b7e('0x114'),function(_0x1f89eb){if(_0xb2e307['onVideoInitialised']){_0xb2e307['onVideoInitialised']();}},!![]);if(_0x1b7e('0xc0')in HTMLVideoElement['prototype']){const _0x425199=(_0x2a4d9a,_0x43c16c)=>{if(_0x43c16c['receiveTime']&&_0x43c16c[_0x1b7e('0x78')]){const _0x212e88=_0x43c16c['presentationTime']-_0x43c16c[_0x1b7e('0x7c')];_0xb2e307['aggregatedStats']['receiveToCompositeMs']=_0x212e88;}_0x50da49[_0x1b7e('0xc0')](_0x425199);};_0x50da49[_0x1b7e('0xc0')](_0x425199);}return _0x50da49;};this['video']=createWebRtcVideo();onsignalingstatechange=function(_0x1391d6){console['info']('signaling\x20state\x20change:',_0x1391d6);};oniceconnectionstatechange=function(_0x58d482){console['info']('ice\x20connection\x20state\x20change:',_0x58d482);};onicegatheringstatechange=function(_0x50d8c5){console['info']('ice\x20gathering\x20state\x20change:',_0x50d8c5);};handleOnTrack=function(_0x121cbb){if(_0x121cbb[_0x1b7e('0xd3')]){}if(_0x121cbb['track']['kind']=='audio'){handleOnAudioTrack(_0x121cbb['streams'][0x0]);return;}else _0x121cbb[_0x1b7e('0xd3')]['kind']==_0x1b7e('0x2c')&&_0xb2e307['video'][_0x1b7e('0x7e')]!==_0x121cbb['streams'][0x0];{_0xb2e307['video'][_0x1b7e('0x7e')]=_0x121cbb[_0x1b7e('0x3')][0x0];return;}};handleOnAudioTrack=function(_0x150033){if(_0xb2e307['video']['srcObject']==_0x150033){return;}else if(_0xb2e307[_0x1b7e('0x2c')][_0x1b7e('0x7e')]&&_0xb2e307['video'][_0x1b7e('0x7e')]!==_0x150033){let _0x13e866=document['createElement']('Audio');_0x13e866['autoplay']=!![];_0x13e866['srcObject']=_0x150033;_0x13e866[_0x1b7e('0x152')]();console['log']('Created\x20new\x20audio\x20element\x20to\x20play\x20seperate\x20audio\x20stream.');}};setupDataChannel=function(_0x5d79ad,_0xd16f1c,_0x5b7ca0){try{let _0x42c9f5=_0x5d79ad[_0x1b7e('0x74')](_0xd16f1c,_0x5b7ca0);console[_0x1b7e('0xe4')]('Created\x20datachannel\x20('+_0xd16f1c+')');_0x42c9f5[_0x1b7e('0x68')]=_0x1b7e('0x20');_0x42c9f5['onopen']=function(_0x34912c){console['log']('data\x20channel\x20('+_0xd16f1c+_0x1b7e('0x54'));if(_0xb2e307['onDataChannelConnected']){_0xb2e307['onDataChannelConnected']();}};_0x42c9f5['onclose']=function(_0x276a37){console['log']('data\x20channel\x20('+_0xd16f1c+')\x20closed');};_0x42c9f5[_0x1b7e('0x118')]=function(_0x14cec5){if(_0xb2e307['onDataChannelMessage'])_0xb2e307[_0x1b7e('0xa0')](_0x14cec5['data']);};return _0x42c9f5;}catch(_0xd3db71){console[_0x1b7e('0x13e')](_0x1b7e('0x11d'),_0xd3db71);return null;}};onicecandidate=function(_0x2b01ce){console['log']('ICE\x20candidate',_0x2b01ce);if(_0x2b01ce[_0x1b7e('0x55')]&&_0x2b01ce['candidate']['candidate']){_0xb2e307[_0x1b7e('0xc9')](_0x2b01ce[_0x1b7e('0x55')]);}};handleCreateOffer=function(_0x3b7a20){_0x3b7a20[_0x1b7e('0x62')](_0xb2e307['sdpConstraints'])[_0x1b7e('0xca')](function(_0x4e600a){mungeSDPOffer(_0x4e600a);_0x3b7a20[_0x1b7e('0x112')](_0x4e600a);if(_0xb2e307['onWebRtcOffer']){_0xb2e307['onWebRtcOffer'](_0x4e600a);}},function(){console[_0x1b7e('0x13e')](_0x1b7e('0x131'));});};mungeSDPOffer=function(_0x198484){_0x198484['sdp']=_0x198484['sdp']['replace']('useinbandfec=1',_0x1b7e('0x7b'));};setupPeerConnection=function(_0x1708ac){if(_0x1708ac[_0x1b7e('0xf1')])console['log']('Hurray!\x20there\x27s\x20RTCPeerConnection.SetBitrate\x20function');_0x1708ac[_0x1b7e('0xa3')]=onsignalingstatechange;_0x1708ac[_0x1b7e('0x31')]=oniceconnectionstatechange;_0x1708ac['onicegatheringstatechange']=onicegatheringstatechange;_0x1708ac[_0x1b7e('0x10b')]=handleOnTrack;_0x1708ac[_0x1b7e('0x100')]=onicecandidate;};generateAggregatedStatsFunction=function(){if(!_0xb2e307[_0x1b7e('0x7')])_0xb2e307['aggregatedStats']={};return function(_0x493b9a){let _0x573e96={};_0x493b9a[_0x1b7e('0xf6')](_0x589832=>{if(_0x589832[_0x1b7e('0x2')]==_0x1b7e('0xc7')&&!_0x589832['isRemote']&&(_0x589832[_0x1b7e('0x66')]==_0x1b7e('0x2c')||_0x589832['id'][_0x1b7e('0x12e')]()[_0x1b7e('0xab')]('video'))){_0x573e96[_0x1b7e('0x6')]=_0x589832['timestamp'];_0x573e96[_0x1b7e('0x117')]=_0x589832['bytesReceived'];_0x573e96[_0x1b7e('0x39')]=_0x589832[_0x1b7e('0x39')];_0x573e96['packetsLost']=_0x589832['packetsLost'];_0x573e96[_0x1b7e('0x101')]=_0xb2e307[_0x1b7e('0x7')]&&_0xb2e307[_0x1b7e('0x7')][_0x1b7e('0x101')]?_0xb2e307['aggregatedStats']['bytesReceivedStart']:_0x589832['bytesReceived'];_0x573e96[_0x1b7e('0x4b')]=_0xb2e307[_0x1b7e('0x7')]&&_0xb2e307['aggregatedStats'][_0x1b7e('0x4b')]?_0xb2e307[_0x1b7e('0x7')][_0x1b7e('0x4b')]:_0x589832['framesDecoded'];_0x573e96['timestampStart']=_0xb2e307[_0x1b7e('0x7')]&&_0xb2e307[_0x1b7e('0x7')][_0x1b7e('0x53')]?_0xb2e307['aggregatedStats'][_0x1b7e('0x53')]:_0x589832['timestamp'];if(_0xb2e307[_0x1b7e('0x7')]&&_0xb2e307['aggregatedStats']['timestamp']){if(_0xb2e307['aggregatedStats'][_0x1b7e('0x117')]){_0x573e96[_0x1b7e('0x5f')]=0x8*(_0x573e96[_0x1b7e('0x117')]-_0xb2e307[_0x1b7e('0x7')]['bytesReceived'])/(_0x573e96['timestamp']-_0xb2e307['aggregatedStats']['timestamp']);_0x573e96['bitrate']=Math['floor'](_0x573e96[_0x1b7e('0x5f')]);_0x573e96[_0x1b7e('0xc8')]=_0xb2e307[_0x1b7e('0x7')][_0x1b7e('0xc8')]&&_0xb2e307[_0x1b7e('0x7')]['lowBitrate']<_0x573e96[_0x1b7e('0x5f')]?_0xb2e307[_0x1b7e('0x7')]['lowBitrate']:_0x573e96['bitrate'];_0x573e96['highBitrate']=_0xb2e307[_0x1b7e('0x7')][_0x1b7e('0x85')]&&_0xb2e307[_0x1b7e('0x7')]['highBitrate']>_0x573e96[_0x1b7e('0x5f')]?_0xb2e307['aggregatedStats'][_0x1b7e('0x85')]:_0x573e96['bitrate'];}if(_0xb2e307[_0x1b7e('0x7')]['bytesReceivedStart']){_0x573e96['avgBitrate']=0x8*(_0x573e96[_0x1b7e('0x117')]-_0xb2e307['aggregatedStats']['bytesReceivedStart'])/(_0x573e96[_0x1b7e('0x6')]-_0xb2e307[_0x1b7e('0x7')][_0x1b7e('0x53')]);_0x573e96[_0x1b7e('0x14f')]=Math['floor'](_0x573e96[_0x1b7e('0x14f')]);}if(_0xb2e307[_0x1b7e('0x7')]['framesDecoded']){_0x573e96['framerate']=(_0x573e96['framesDecoded']-_0xb2e307['aggregatedStats'][_0x1b7e('0x39')])/((_0x573e96['timestamp']-_0xb2e307[_0x1b7e('0x7')][_0x1b7e('0x6')])/0x3e8);_0x573e96[_0x1b7e('0x69')]=Math[_0x1b7e('0xec')](_0x573e96[_0x1b7e('0x69')]);_0x573e96['lowFramerate']=_0xb2e307['aggregatedStats']['lowFramerate']&&_0xb2e307[_0x1b7e('0x7')]['lowFramerate']<_0x573e96['framerate']?_0xb2e307[_0x1b7e('0x7')]['lowFramerate']:_0x573e96[_0x1b7e('0x69')];_0x573e96[_0x1b7e('0xe5')]=_0xb2e307['aggregatedStats']['highFramerate']&&_0xb2e307[_0x1b7e('0x7')][_0x1b7e('0xe5')]>_0x573e96[_0x1b7e('0x69')]?_0xb2e307['aggregatedStats']['highFramerate']:_0x573e96['framerate'];}if(_0xb2e307[_0x1b7e('0x7')]['framesDecodedStart']){_0x573e96[_0x1b7e('0xf4')]=(_0x573e96[_0x1b7e('0x39')]-_0xb2e307[_0x1b7e('0x7')][_0x1b7e('0x4b')])/((_0x573e96[_0x1b7e('0x6')]-_0xb2e307['aggregatedStats'][_0x1b7e('0x53')])/0x3e8);_0x573e96['avgframerate']=Math['floor'](_0x573e96[_0x1b7e('0xf4')]);}}}if(_0x589832['type']=='track'&&(_0x589832['trackIdentifier']=='video_label'||_0x589832['kind']=='video')){_0x573e96[_0x1b7e('0x133')]=_0x589832['framesDropped'];_0x573e96['framesReceived']=_0x589832[_0x1b7e('0x11f')];_0x573e96[_0x1b7e('0x50')]=_0x589832['framesDropped']/_0x589832['framesReceived']*0x64;_0x573e96[_0x1b7e('0xfd')]=_0x589832['frameHeight'];_0x573e96[_0x1b7e('0xd7')]=_0x589832[_0x1b7e('0xd7')];_0x573e96[_0x1b7e('0xa7')]=_0xb2e307['aggregatedStats']&&_0xb2e307[_0x1b7e('0x7')]['frameHeightStart']?_0xb2e307[_0x1b7e('0x7')][_0x1b7e('0xa7')]:_0x589832[_0x1b7e('0xfd')];_0x573e96[_0x1b7e('0x1d')]=_0xb2e307['aggregatedStats']&&_0xb2e307['aggregatedStats'][_0x1b7e('0x1d')]?_0xb2e307['aggregatedStats'][_0x1b7e('0x1d')]:_0x589832[_0x1b7e('0xd7')];}if(_0x589832[_0x1b7e('0x2')]==_0x1b7e('0x11')&&_0x589832[_0x1b7e('0x34')](_0x1b7e('0x7d'))&&_0x589832['currentRoundTripTime']!=0x0){_0x573e96[_0x1b7e('0x7d')]=_0x589832[_0x1b7e('0x7d')];}});if(_0xb2e307['aggregatedStats'][_0x1b7e('0x70')]){_0x573e96[_0x1b7e('0x70')]=_0xb2e307[_0x1b7e('0x7')][_0x1b7e('0x70')];_0xb2e307['latencyTestTimings']['SetFrameDisplayDeltaTime'](_0xb2e307['aggregatedStats']['receiveToCompositeMs']);}_0xb2e307[_0x1b7e('0x7')]=_0x573e96;if(_0xb2e307[_0x1b7e('0x23')])_0xb2e307[_0x1b7e('0x23')](_0x573e96);};};setupTracksToSendAsync=async function(_0x120b65){_0x120b65['addTransceiver'](_0x1b7e('0x2c'),{'direction':'recvonly'});if(!_0xb2e307['useMic']){_0x120b65['addTransceiver'](_0x1b7e('0x4'),{'direction':'recvonly'});}else{let _0x3e899d=_0xb2e307[_0x1b7e('0x72')]?{'autoGainControl':![],'channelCount':0x1,'echoCancellation':![],'latency':0x0,'noiseSuppression':![],'sampleRate':0x3e80,'volume':0x1}:![];const _0x35df77=await navigator[_0x1b7e('0x125')]['getUserMedia']({'video':![],'audio':_0x3e899d});if(_0x35df77){for(const _0x2cf1b6 of _0x35df77[_0x1b7e('0x88')]()){if(_0x2cf1b6[_0x1b7e('0x3c')]&&_0x2cf1b6['kind']=='audio'){_0x120b65['addTransceiver'](_0x2cf1b6,{'direction':'sendrecv'});}}}else{_0x120b65[_0x1b7e('0x6c')]('audio',{'direction':'recvonly'});}}};this[_0x1b7e('0x3a')]=function(_0x4092ff){if(!_0xb2e307['video']){return;}_0xb2e307[_0x1b7e('0x147')]['Reset']();_0xb2e307[_0x1b7e('0x147')][_0x1b7e('0xb7')]=Date['now']();_0x4092ff(_0xb2e307['latencyTestTimings']['TestStartTimeMs']);};this['handleCandidateFromServer']=function(_0x400ef1){console[_0x1b7e('0xe4')]('ICE\x20candidate:\x20',_0x400ef1);let _0x43dcb1=new RTCIceCandidate(_0x400ef1);_0xb2e307['pcClient']['addIceCandidate'](_0x43dcb1)[_0x1b7e('0xca')](_0x472b87=>{console[_0x1b7e('0xe4')]('ICE\x20candidate\x20successfully\x20added');});};this[_0x1b7e('0x62')]=function(){if(_0xb2e307['pcClient']){console['log']('Closing\x20existing\x20PeerConnection');_0xb2e307['pcClient']['close']();_0xb2e307[_0x1b7e('0x10f')]=null;}_0xb2e307[_0x1b7e('0x10f')]=new RTCPeerConnection(_0xb2e307['cfg']);setupTracksToSendAsync(_0xb2e307['pcClient'])['finally'](function(){setupPeerConnection(_0xb2e307['pcClient']);_0xb2e307['dcClient']=setupDataChannel(_0xb2e307[_0x1b7e('0x10f')],'cirrus',_0xb2e307['dataChannelOptions']);handleCreateOffer(_0xb2e307['pcClient']);});};this[_0x1b7e('0xb3')]=function(_0x3ff19e){var _0x2f9613=new RTCSessionDescription(_0x3ff19e);_0xb2e307[_0x1b7e('0x10f')][_0x1b7e('0x128')](_0x2f9613);let _0x2b9724=_0xb2e307['pcClient']['getReceivers']();for(let _0x1cbcf5 of _0x2b9724){_0x1cbcf5[_0x1b7e('0xdd')]=0x0;}};this['close']=function(){if(_0xb2e307['pcClient']){console[_0x1b7e('0xe4')]('Closing\x20existing\x20peerClient');_0xb2e307['pcClient'][_0x1b7e('0x3f')]();_0xb2e307['pcClient']=null;}if(_0xb2e307['aggregateStatsIntervalId'])clearInterval(_0xb2e307['aggregateStatsIntervalId']);};this['send']=function(_0x38f84f){if(_0xb2e307['dcClient']&&_0xb2e307[_0x1b7e('0x10a')][_0x1b7e('0xed')]=='open'){_0xb2e307['dcClient'][_0x1b7e('0x9')](_0x38f84f);}};this['getStats']=function(_0x2c7bc8){if(_0xb2e307['pcClient']&&_0x2c7bc8){_0xb2e307['pcClient']['getStats'](null)['then'](_0x1d7a5d=>{_0x2c7bc8(_0x1d7a5d);});}};this['aggregateStats']=function(_0x308a55){let _0x52f3a6=generateAggregatedStatsFunction();let _0x4be44d=()=>{_0xb2e307[_0x1b7e('0x12')](_0x52f3a6);};_0xb2e307['aggregateStatsIntervalId']=setInterval(_0x4be44d,_0x308a55);};};return _0x4d1048;}));_0x1b7e('0x22');var MapVision=window['MapVision']||{};MapVision['version']=()=>{return'1.0.1';};MapVision['OpenStatus']={'Unknown':0x0,'Connected':0x1,'UnConnected':0x2};MapVision['Events']={'MouseEvents':0x1,'TouchEvents':0x2,'KeyboardEvents':0x3};MapVision['ToClientMessageType']={'QualityControlOwnership':0x0,'Response':0x1,'Command':0x2,'FreezeFrame':0x3,'UnfreezeFrame':0x4};MapVision[_0x1b7e('0xaf')]={'IFrameRequest':0x0,'RequestQualityControl':0x1,'MaxFpsRequest':0x2,'AverageBitrateRequest':0x3,'StartStreaming':0x4,'StopStreaming':0x5,'LatencyTest':0x6,'RequestInitialSettings':0x7,'UIInteraction':0x32,'Command':0x33,'KeyDown':0x3c,'KeyUp':0x3d,'KeyPress':0x3e,'MouseEnter':0x46,'MouseLeave':0x47,'MouseDown':0x48,'MouseUp':0x49,'MouseMove':0x4a,'MouseWheel':0x4b,'TouchStart':0x50,'TouchEnd':0x51,'TouchMove':0x52};MapVision['MouseButton']={'MainButton':0x0,'AuxiliaryButton':0x1,'SecondaryButton':0x2,'FourthButton':0x3,'FifthButton':0x4};MapVision[_0x1b7e('0x44')]={'PrimaryButton':0x1,'SecondaryButton':0x2,'AuxiliaryButton':0x4,'FourthButton':0x8,'FifthButton':0x10};MapVision[_0x1b7e('0x12f')]={'Pan':0x0,'Select':0x1,'SelectPositionCallback':0x2,'SelectObjectCallback':0x3};MapVision['CommandType']={'SetParameters':0x186a0,'ScreenToWorld':0x186a1,'WorldToScreen':0x186a2,'SetResolution':0x186a4,'EnableKeyboard':0x186a5,'SetMapStatus':0x18704,'Stop':0x18705,'Clear':0x18706,'Rotate':0x18707,'GetHomePosition':0x18708,'ResetHome':0x18709,'GetCurrentPosition':0x1870a,'SetMouseCallback':0x1870b,'SetPosition':0x1870c,'FlyToPosition':0x1870d,'FlyToObject':0x1870e,'FlyToObjectById':0x18711,'SetMousePositionCallback':0x18712,'GetMaps':0x18718,'OpenMap':0x18719,'GetScrrenPosition':0x18723,'CreateObject':0x18769,'CreateRoute':0x1876a,'PlayRoute':0x1876d,'PauseRoute':0x1876e,'StopRoute':0x1876f,'ResumeRoute':0x18770,'PlaySequence':0x18773,'PauseSequence':0x18774,'IsPlayingSequence':0x18775,'IsPausedSequence':0x18776,'StopSequence':0x18777,'StreamVideoOpen':0x1877d,'StreamVideoClose':0x1877e,'FindObjectById':0x18787,'FindObjectByName':0x18789,'FindObjectByPrefix':0x1878a,'GetSelectedObject':0x1878b,'UpdateObject':0x1878d,'UpdateObjectVisible':0x1878e,'UpdateObjectStyle':0x1878f,'UpdateObjectVisibleByPrefix':0x18790,'ClearObjectStyle':0x1879a,'GetObjectsVisible':0x187a5,'SetObjectsVisible':0x187a6,'SetObjectHighlight':0x187af,'SetObjectsHighlight':0x187b0,'SetObjectsHighlightByPrefix':0x187b1,'ClearHighlight':0x187b2,'GetBuildingNum':0x18831,'GetBuildingName':0x18832,'GetBuildingNames':0x18833,'GetBuildingVisible':0x18834,'SetBuildingVisible':0x18835,'SetBuildingWkVisible':0x18836,'ResetAllBuildings':0x18837,'SplitBuilding':0x18838,'SplitBuildingReset':0x18839,'GetFloorNum':0x1883b,'GetFloorName':0x1883c,'GetFloorNames':0x1883d,'GetFloorVisible':0x1883e,'SetFloorVisible':0x1883f,'GetUpFloorNum':0x18840,'GetUpFloorNames':0x18841,'GetDownFloorNum':0x18842,'GetDownFloorNames':0x18843,'GetFloorRoomNum':0x18845,'GetFloorRoomName':0x18846,'GetFloorRoomNames':0x18847,'GetFloorRoomVisible':0x18848,'SetFloorRoomVisible':0x18849,'GetFloorDeviceNum':0x1884f,'GetFloorDeviceName':0x18850,'GetFloorDeviceNames':0x18851,'GetFloorDeviceVisible':0x18852,'SetFloorDeviceVisible':0x18853,'SetGroundVisible':0x18895,'OverLayerStartEdit':0x188f9,'OverLayerStopEdit':0x188fa,'OverLayerSelectObjectEdit':0x188fb,'OverLayerFindObject':0x188fc,'OverLayerCreateObject':0x18903,'OverLayerUpdateObject':0x18904,'OverLayerRemoveObject':0x18905,'OverLayerRemoveAll':0x18906,'OverLayerRemoveAllCustom':0x18907,'OverLayerCreateObjects':0x18908,'OverLayerRemoveObjects':0x18909,'LayerLoad':0x18917,'LayerReLoad':0x18918,'LayersLoad':0x18919,'LayerSelectObject':0x1891b,'LayerRemove':0x1891c,'LayerSetVisible':0x1891d,'NorthControl':0x18a25,'PositionControl':0x18a26};MapVision['Point2D']=function(){this['x']=0x0;this['y']=0x0;};MapVision['Point']=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;};MapVision['Position']=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;this['pitch']=0x0;this['yaw']=0x0;this['roll']=0x0;};MapVision[_0x1b7e('0x9e')]=function(){this['type']='label';this['gid']=0x1;this['name']='';this[_0x1b7e('0xeb')]='';this[_0x1b7e('0x1a')]=new MapVision[(_0x1b7e('0xaa'))]();};MapVision['Model3D']=function(){this[_0x1b7e('0x2')]='model';this['gid']=0x1;this[_0x1b7e('0xc1')]='';this['style']='';this[_0x1b7e('0x1a')]=new MapVision[(_0x1b7e('0xaa'))]();};MapVision['LineString']=function(){this['type']='linestring';this['gid']=0x1;this['name']='';this['style']='';this[_0x1b7e('0x102')]=[];};MapVision['Polygon']=function(){this['type']='polygon';this[_0x1b7e('0xcc')]=0x1;this[_0x1b7e('0xc1')]='';this[_0x1b7e('0xeb')]='';this[_0x1b7e('0x102')]=[];};MapVision[_0x1b7e('0xd9')]=function(){this['type']=_0x1b7e('0xbe');this['gid']=0x0;this['name']='';this[_0x1b7e('0x63')]=[{'type':_0x1b7e('0xec'),'gid':0x0,'name':''}];this['position']=new MapVision[(_0x1b7e('0xaa'))]();};MapVision['WS_OPEN_STATE']=0x1;MapVision['View3d']=function(_0x42b484){this['id']=_0x42b484['id'];this[_0x1b7e('0xc1')]=_0x1b7e('0x24');this['url']=_0x42b484['url'];this['projectId']=_0x42b484[_0x1b7e('0xf9')];this[_0x1b7e('0x10')]=_0x42b484[_0x1b7e('0x10')];this['enableKeyboard']=!![];this['enableMouse']=!![];this['_registerCallback']=null;this['_webRtcPlayerHtmlElement']=null;this[_0x1b7e('0x76')]=null;this[_0x1b7e('0xf3')]=null;this['_callback']=null;this['_callbackMouse']=null;this['_mouseDownStatus']=![];this[_0x1b7e('0x138')]=null;this[_0x1b7e('0x8')]=null;this[_0x1b7e('0x106')]=null;this[_0x1b7e('0x3e')]=null;this['_onMouseMoveCallback']=null;};MapVision['View3d']['prototype'][_0x1b7e('0x87')]=function(_0x232cfc){let _0x41ecec=this;_0x41ecec[_0x1b7e('0xb8')]=_0x232cfc;_0x41ecec['_callback']=null;if(_0x41ecec['id']==''||_0x41ecec[_0x1b7e('0x110')]==''||_0x41ecec['projectId']==''){if(_0x41ecec['_registerCallback']){const _0x148a65={'code':0xc9,'msg':'Parameter\x20ERROR'};_0x41ecec[_0x1b7e('0xb8')](_0x148a65);_0x41ecec['_registerCallback']=null;}return;}window['WebSocket']=window[_0x1b7e('0x6f')]||window['MozWebSocket'];if(!window['WebSocket']){if(_0x41ecec['_registerCallback']){const _0x52779a={'code':0x1f9,'msg':_0x1b7e('0x52')};_0x41ecec[_0x1b7e('0xb8')](_0x52779a);_0x41ecec['_registerCallback']=null;}return;}const _0x108d73=_0x41ecec['_webSocket'];if(_0x108d73){_0x108d73['close']();_0x41ecec[_0x1b7e('0xf3')]=undefined;console['log'](_0x1b7e('0x11e'));_0x41ecec[_0x1b7e('0xb5')](_0x41ecec['_webRtcPlayerHtmlElement']);}if(_0x41ecec['url']['indexOf'](_0x1b7e('0x11a'))<0x0){let _0x5f5d5f=_0x41ecec['url'][_0x1b7e('0xa6')]('http:','');_0x5f5d5f=_0x5f5d5f[_0x1b7e('0xa6')]('/','');_0x5f5d5f=_0x1b7e('0x45')+_0x5f5d5f;_0x5f5d5f=_0x5f5d5f['replace']('///','//');console['log'](_0x5f5d5f);_0x41ecec['_connectWebsocket'](_0x5f5d5f);return;}const _0x1ff7e7={'httpUrl':_0x41ecec['url']+'/project3d/getInfo?id='+_0x41ecec['projectId']+'&token='+_0x41ecec[_0x1b7e('0x10')],'type':_0x1b7e('0xb6')};setTimeout(()=>{_0x41ecec[_0x1b7e('0xf8')](_0x1ff7e7,function(_0x261fe6){if(_0x261fe6[_0x1b7e('0x12b')]&&_0x261fe6[_0x1b7e('0x12b')]===0xc8){const _0x2efa9c=_0x261fe6['data'];if(_0x2efa9c['port']<0xa){console['log']('aimapvision3d\x20server\x20is\x20not\x20started.');if(_0x41ecec['_registerCallback']){const _0x2f623b={'code':0x12c,'msg':_0x1b7e('0xe3')};_0x41ecec[_0x1b7e('0xb8')](_0x2f623b);_0x41ecec['_registerCallback']=null;}return;}let _0x3d111c=_0x41ecec['url']['replace']('http://','');const _0x5cc6f6=_0x3d111c[_0x1b7e('0xbb')](':',0x0);if(_0x5cc6f6>0x0)_0x3d111c=_0x3d111c[_0x1b7e('0x104')](0x0,_0x5cc6f6);_0x3d111c='ws://'+_0x3d111c+':'+_0x2efa9c['port'];_0x41ecec[_0x1b7e('0x116')](_0x3d111c);}else{console['log'](_0x261fe6);if(_0x41ecec['_registerCallback']){_0x41ecec['_registerCallback'](_0x261fe6);_0x41ecec[_0x1b7e('0xb8')]=null;}}},function(){if(_0x41ecec['_registerCallback']){const _0xbbfd61={'code':0x1f4,'msg':_0x1b7e('0x57')};_0x41ecec[_0x1b7e('0xb8')](_0xbbfd61);_0x41ecec['_registerCallback']=null;}});},0x64);};MapVision[_0x1b7e('0xd1')][_0x1b7e('0xce')][_0x1b7e('0x90')]=function(){let _0x1db114=this;const _0x5001c7=_0x1db114[_0x1b7e('0xf3')];if(_0x5001c7){_0x5001c7['close']();_0x1db114['_webSocket']=undefined;console['log'](_0x1b7e('0x11e'));}};MapVision['View3d'][_0x1b7e('0xce')][_0x1b7e('0xff')]=function(_0x364341,_0x5c397b){if(_0x364341===_0x1b7e('0x121')){this[_0x1b7e('0x106')]=_0x5c397b;this['_emiUICommand'](MapVision['CommandType']['SetMouseCallback']);}else if(_0x364341==='onmousemove'){this['_onMouseMoveCallback']=_0x5c397b;}else if(_0x364341===_0x1b7e('0x13a')){this['_onMouseUpCallback']=_0x5c397b;}else{this['_registerCallback']=_0x5c397b;}};MapVision[_0x1b7e('0xd1')][_0x1b7e('0xce')]['UnRegisterEvent']=function(){this[_0x1b7e('0x106')]=null;this['_onMouseMoveCallback']=null;this[_0x1b7e('0x3e')]=null;this['_registerCallback']=null;};MapVision['View3d'][_0x1b7e('0xce')][_0x1b7e('0x5a')]=function(){const _0x555fcf=this[_0x1b7e('0xf3')]===undefined;return _0x555fcf;};MapVision['View3d'][_0x1b7e('0xce')]['SetParameters']=function(_0x1621c7){this['_emiUICommand'](MapVision[_0x1b7e('0x13f')]['SetParameters'],_0x1621c7);};MapVision[_0x1b7e('0xd1')]['prototype'][_0x1b7e('0xf5')]=function(_0x3413ae,_0x152789){this['_callback']=null;this[_0x1b7e('0x107')](MapVision[_0x1b7e('0x13f')]['SetResolution'],{'width':_0x3413ae,'height':_0x152789});};MapVision[_0x1b7e('0xd1')][_0x1b7e('0xce')][_0x1b7e('0xe9')]=function(_0x102216,_0x554e24){if(_0x102216>MapVision['MapStatusType'][_0x1b7e('0x93')])this['_callback']=_0x554e24;else this[_0x1b7e('0x91')]=null;this['_emiUICommand'](MapVision[_0x1b7e('0x13f')][_0x1b7e('0xe9')],{'mapstatus':_0x102216});};MapVision['View3d'][_0x1b7e('0xce')][_0x1b7e('0xc')]=function(){this['_callback']=null;this['_onMouseSelectedObj']=null;this['_emiUICommand'](MapVision['CommandType'][_0x1b7e('0xc')]);};MapVision[_0x1b7e('0xd1')][_0x1b7e('0xce')]['Stop']=function(){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType'][_0x1b7e('0xfc')]);};MapVision['View3d']['prototype'][_0x1b7e('0xd6')]=function(){this['_callback']=null;this['_emiUICommand'](MapVision[_0x1b7e('0x13f')][_0x1b7e('0xd6')]);};MapVision[_0x1b7e('0xd1')]['prototype'][_0x1b7e('0x9a')]=function(_0x753cc2,_0x93eb1c,_0x43186a,_0x2472a2,_0x299b51){this['_callback']=null;let _0xb4acc5={};if(_0x753cc2){_0xb4acc5['pitch']=_0x753cc2;}if(_0x93eb1c){_0xb4acc5['radio']=_0x93eb1c;}if(_0x43186a){_0xb4acc5['distance']=_0x43186a;}if(_0x2472a2){_0xb4acc5[_0x1b7e('0xcc')]=_0x2472a2;}if(_0x299b51){_0xb4acc5['highlight']=_0x299b51;}this['_emiUICommand'](MapVision['CommandType'][_0x1b7e('0x9a')],{'gid':_0x2472a2,'pitch':_0x753cc2,'radio':_0x93eb1c,'distance':_0x43186a,'highlight':_0x299b51});};MapVision['View3d']['prototype'][_0x1b7e('0x145')]=function(_0x4f396d){this['_callback']=_0x4f396d;this[_0x1b7e('0x107')](MapVision[_0x1b7e('0x13f')][_0x1b7e('0x145')]);};MapVision[_0x1b7e('0xd1')][_0x1b7e('0xce')][_0x1b7e('0x92')]=function(_0x2bb693,_0x23eb62){this['_callback']=_0x23eb62;const _0x3b667c=[];_0x2bb693['forEach'](_0x1836c0=>{_0x3b667c[_0x1b7e('0xdf')]({'gid':_0x1836c0[_0x1b7e('0xcc')]});});this[_0x1b7e('0x107')](MapVision['CommandType'][_0x1b7e('0x92')],{'objects':_0x3b667c});};MapVision[_0x1b7e('0xd1')]['prototype'][_0x1b7e('0x28')]=function(_0x2f23e4){this['_callbackMouse']=_0x2f23e4;this['_emiUICommand'](MapVision[_0x1b7e('0x13f')][_0x1b7e('0x28')]);};MapVision['View3d']['prototype']['SetMousePositionCallback']=function(_0x31ce6e){this['_callbackMouse']=_0x31ce6e;this[_0x1b7e('0x107')](MapVision['CommandType'][_0x1b7e('0xe8')]);};MapVision[_0x1b7e('0xd1')][_0x1b7e('0xce')]['OpenMap']=function(_0x138675){this['_emiUICommand'](MapVision[_0x1b7e('0x13f')][_0x1b7e('0x129')],{'mapname':_0x138675});};MapVision[_0x1b7e('0xd1')]['prototype'][_0x1b7e('0xcd')]=function(_0x37a889){this['_callback']=_0x37a889;this[_0x1b7e('0x107')](MapVision['CommandType']['GetHomePosition']);};MapVision['View3d']['prototype']['SetPosition']=function(_0x355108,_0x579456){this['_callback']=null;_0x355108['showlocation']=_0x579456;this[_0x1b7e('0x107')](MapVision[_0x1b7e('0x13f')]['SetPosition'],_0x355108);};MapVision[_0x1b7e('0xd1')]['prototype'][_0x1b7e('0x1e')]=function(_0x475e6f,_0x11bdac,_0x4c76c5){this['_callback']=null;_0x475e6f[_0x1b7e('0x109')]=_0x11bdac;_0x475e6f[_0x1b7e('0x2e')]=_0x4c76c5;this['_emiUICommand'](MapVision[_0x1b7e('0x13f')][_0x1b7e('0x1e')],_0x475e6f);};MapVision[_0x1b7e('0xd1')]['prototype'][_0x1b7e('0xfa')]=function(_0x393abd,_0x31155d,_0x5120d8){this['_callback']=null;_0x393abd[_0x1b7e('0x109')]=_0x31155d;_0x393abd[_0x1b7e('0x2e')]=_0x5120d8;this['_emiUICommand'](MapVision['CommandType'][_0x1b7e('0xfa')],_0x393abd);};MapVision['View3d']['prototype'][_0x1b7e('0x3d')]=function(_0x56a58f,_0x67262a,_0x429e6e,_0x21f55f,_0x1e5b31){this['_callback']=null;this[_0x1b7e('0x107')](MapVision[_0x1b7e('0x13f')][_0x1b7e('0x3d')],{'gid':_0x56a58f,'showlocation':_0x67262a,'distance':_0x21f55f,'speed':_0x1e5b31,'position':{'x':0x0,'y':0x0,'z':0x0,'pitch':_0x429e6e,'yaw':0x0,'roll':0x0}});};MapVision['View3d']['prototype'][_0x1b7e('0x89')]=function(_0xdf6b0c,_0x111863){this[_0x1b7e('0x91')]=_0x111863;this['_emiUICommand'](MapVision[_0x1b7e('0x13f')]['FindObjectById'],{'gid':_0xdf6b0c});};MapVision[_0x1b7e('0xd1')]['prototype'][_0x1b7e('0x105')]=function(_0xd6c8ee,_0x5a5e10){this['_callback']=_0x5a5e10;this[_0x1b7e('0x107')](MapVision[_0x1b7e('0x13f')][_0x1b7e('0x105')],{'gid':_0xd6c8ee,'name':_0xd6c8ee});};MapVision['View3d']['prototype']['FindObjectByPrefix']=function(_0x4033e7,_0x488cac,_0x114cf1){this[_0x1b7e('0x91')]=_0x114cf1;if(!_0x488cac)_0x488cac=0x14;this[_0x1b7e('0x107')](MapVision['CommandType'][_0x1b7e('0x3b')],{'gid':_0x4033e7,'limit':_0x488cac});};MapVision[_0x1b7e('0xd1')]['prototype'][_0x1b7e('0xb2')]=function(_0x113504){this[_0x1b7e('0x91')]=_0x113504;this['_emiUICommand'](MapVision['CommandType'][_0x1b7e('0xb2')]);};MapVision[_0x1b7e('0xd1')][_0x1b7e('0xce')][_0x1b7e('0x36')]=function(_0x68f9d2){this['_callback']=null;this[_0x1b7e('0x107')](MapVision['CommandType']['UpdateObject'],_0x68f9d2);};MapVision[_0x1b7e('0xd1')][_0x1b7e('0xce')]['UpdateObjectStyle']=function(_0x31a524,_0x26b866){this['_callback']=null;this[_0x1b7e('0x107')](MapVision[_0x1b7e('0x13f')]['UpdateObjectStyle'],{'gid':_0x31a524,'style':_0x26b866});};MapVision[_0x1b7e('0xd1')]['prototype'][_0x1b7e('0x1')]=function(){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType'][_0x1b7e('0x1')]);};MapVision['View3d']['prototype'][_0x1b7e('0xf')]=function(_0x2ce090){this['_callback']=_0x2ce090;this['_emiUICommand'](MapVision[_0x1b7e('0x13f')][_0x1b7e('0xf')]);};MapVision[_0x1b7e('0xd1')]['prototype'][_0x1b7e('0xfb')]=function(_0x17fdce){this[_0x1b7e('0x91')]=null;this['_emiUICommand'](MapVision[_0x1b7e('0x13f')][_0x1b7e('0xfb')],{'objects':_0x17fdce});};MapVision['View3d']['prototype']['SetObjectHighlight']=function(_0x3f1677){this[_0x1b7e('0x91')]=null;this[_0x1b7e('0x107')](MapVision[_0x1b7e('0x13f')][_0x1b7e('0x13b')],{'gid':_0x3f1677});};MapVision[_0x1b7e('0xd1')][_0x1b7e('0xce')][_0x1b7e('0x75')]=function(_0x1deff4){this[_0x1b7e('0x91')]=null;this['_emiUICommand'](MapVision['CommandType']['SetObjectsHighlight'],{'objects':_0x1deff4});};MapVision[_0x1b7e('0xd1')]['prototype']['SetObjectsHighlightByPrefix']=function(_0x162a53){this[_0x1b7e('0x91')]=null;this[_0x1b7e('0x107')](MapVision['CommandType'][_0x1b7e('0xdb')],{'prefix':_0x162a53});};MapVision['View3d']['prototype'][_0x1b7e('0x134')]=function(){this[_0x1b7e('0x107')](MapVision[_0x1b7e('0x13f')]['ClearHighlight']);};MapVision[_0x1b7e('0xd1')][_0x1b7e('0xce')][_0x1b7e('0x151')]=function(_0x3ac987,_0x2d6573){this[_0x1b7e('0x91')]=null;this['_emiUICommand'](MapVision['CommandType'][_0x1b7e('0x151')],{'gid':_0x3ac987,'visible':_0x2d6573});};MapVision['View3d'][_0x1b7e('0xce')][_0x1b7e('0x97')]=function(_0x121f0b,_0x1d4265){this['_callback']=null;this[_0x1b7e('0x107')](MapVision[_0x1b7e('0x13f')]['UpdateObjectVisibleByPrefix'],{'gid':_0x121f0b,'visible':_0x1d4265});};MapVision[_0x1b7e('0xd1')]['prototype']['CreateObject']=function(_0x237a75){this['_callback']=null;this['_emiUICommand'](MapVision[_0x1b7e('0x13f')][_0x1b7e('0x43')],_0x237a75);};MapVision['View3d']['prototype'][_0x1b7e('0x8d')]=function(_0x4eb3a0){this[_0x1b7e('0x91')]=null;this['_emiUICommand'](MapVision['CommandType'][_0x1b7e('0x8d')],_0x4eb3a0);};MapVision['View3d']['prototype']['StartRoute']=function(_0x573930){this[_0x1b7e('0x91')]=null;this[_0x1b7e('0x107')](MapVision['CommandType']['StartRoute'],_0x573930);};MapVision['View3d'][_0x1b7e('0xce')][_0x1b7e('0xef')]=function(_0x87aed1){this['_callback']=_0x87aed1;this['_emiUICommand'](MapVision[_0x1b7e('0x13f')][_0x1b7e('0xef')]);};MapVision['View3d']['prototype'][_0x1b7e('0x123')]=function(){this[_0x1b7e('0x107')](MapVision[_0x1b7e('0x13f')]['PauseRoute']);};MapVision['View3d']['prototype'][_0x1b7e('0x10c')]=function(){this['_callback']=null;this['_emiUICommand'](MapVision[_0x1b7e('0x13f')][_0x1b7e('0x10c')]);};MapVision[_0x1b7e('0xd1')][_0x1b7e('0xce')]['ResumeRoute']=function(){this[_0x1b7e('0x107')](MapVision['CommandType']['ResumeRoute']);};MapVision['View3d']['prototype']['PlaySequence']=function(_0x2edbc2){this['_callback']=null;this[_0x1b7e('0x107')](MapVision['CommandType']['PlaySequence'],{'gid':_0x2edbc2});};MapVision['View3d']['prototype']['PauseSequence']=function(_0x16f5ad){this[_0x1b7e('0x91')]=null;this[_0x1b7e('0x107')](MapVision[_0x1b7e('0x13f')][_0x1b7e('0x9c')],{'gid':_0x16f5ad});};MapVision[_0x1b7e('0xd1')][_0x1b7e('0xce')][_0x1b7e('0x154')]=function(_0x31b2e1,_0x3f8e85){this[_0x1b7e('0x91')]=_0x3f8e85;this[_0x1b7e('0x107')](MapVision['CommandType']['IsPlayingSequence'],{'gid':_0x31b2e1});};MapVision['View3d'][_0x1b7e('0xce')]['IsPausedSequence']=function(_0x2c78a7,_0x2a8639){this[_0x1b7e('0x91')]=_0x2a8639;this[_0x1b7e('0x107')](MapVision['CommandType']['IsPausedSequence'],{'gid':_0x2c78a7});};MapVision[_0x1b7e('0xd1')][_0x1b7e('0xce')]['StopSequence']=function(_0x3a5b47,_0x54787f){this['_callback']=null;this['_emiUICommand'](MapVision[_0x1b7e('0x13f')]['StopSequence'],{'gid':_0x3a5b47});};MapVision[_0x1b7e('0xd1')]['prototype']['StreamVideoOpen']=function(_0x3eee72){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType']['StreamVideoOpen'],_0x3eee72);};MapVision['View3d'][_0x1b7e('0xce')]['StreamVideoClose']=function(){this['_callback']=null;this[_0x1b7e('0x107')](MapVision['CommandType'][_0x1b7e('0x38')]);};MapVision[_0x1b7e('0xd1')]['prototype']['GetBuildingNum']=function(_0x49de0f){this[_0x1b7e('0x91')]=_0x49de0f;this['_emiUICommand'](MapVision[_0x1b7e('0x13f')][_0x1b7e('0x83')]);};MapVision['View3d'][_0x1b7e('0xce')][_0x1b7e('0xd4')]=function(_0x33caa6,_0xb09c39){this[_0x1b7e('0x91')]=_0xb09c39;this['_emiUICommand'](MapVision['CommandType'][_0x1b7e('0xd4')],{'bindex':_0x33caa6});};MapVision[_0x1b7e('0xd1')]['prototype']['GetBuildingNames']=function(_0x504eee){this['_callback']=_0x504eee;this['_emiUICommand'](MapVision[_0x1b7e('0x13f')][_0x1b7e('0x48')]);};MapVision['View3d']['prototype'][_0x1b7e('0xa5')]=function(_0x418e1f,_0x51aa63){this['_callback']=_0x51aa63;this[_0x1b7e('0x107')](MapVision[_0x1b7e('0x13f')]['GetBuildingVisible'],{'gid':_0x418e1f});};MapVision['View3d']['prototype']['SetBuildingVisible']=function(_0x4061cc,_0x45c894,_0x33619f){this[_0x1b7e('0x107')](MapVision['CommandType']['SetBuildingVisible'],{'gid':_0x4061cc,'visible':_0x45c894,'opacity':_0x33619f});};MapVision[_0x1b7e('0xd1')]['prototype']['SetBuildingWkVisible']=function(_0x260e84,_0x159c44,_0x559a42){this['_emiUICommand'](MapVision[_0x1b7e('0x13f')]['SetBuildingWkVisible'],{'gid':_0x260e84,'visible':_0x159c44,'opacity':_0x559a42});};MapVision['View3d'][_0x1b7e('0xce')]['ResetAllBuildings']=function(){this[_0x1b7e('0x107')](MapVision['CommandType'][_0x1b7e('0x14e')]);};MapVision[_0x1b7e('0xd1')][_0x1b7e('0xce')][_0x1b7e('0xb')]=function(_0x595b9f,_0x5cfb78){this[_0x1b7e('0x107')](MapVision[_0x1b7e('0x13f')]['SplitBuilding'],{'gid':_0x595b9f,'height':_0x5cfb78});};MapVision['View3d'][_0x1b7e('0xce')]['SplitBuildingReset']=function(_0x3802fd){this['_emiUICommand'](MapVision[_0x1b7e('0x13f')]['SplitBuildingReset'],{'gid':_0x3802fd});};MapVision[_0x1b7e('0xd1')]['prototype']['GetFloorNum']=function(_0x53cb62,_0x5d8162){this[_0x1b7e('0x91')]=_0x5d8162;this['_emiUICommand'](MapVision[_0x1b7e('0x13f')]['GetFloorNum'],{'gid':_0x53cb62});};MapVision[_0x1b7e('0xd1')]['prototype']['GetFloorName']=function(_0xda0742,_0x364bc8){this[_0x1b7e('0x91')]=_0x364bc8;this['_emiUICommand'](MapVision['CommandType']['GetFloorNames'],{'gid':_0xda0742});};MapVision['View3d']['prototype'][_0x1b7e('0x8a')]=function(_0xb406f7,_0x1f3a72){this['_callback']=_0x1f3a72;this['_emiUICommand'](MapVision['CommandType']['GetFloorNames'],{'gid':_0xb406f7});};MapVision['View3d'][_0x1b7e('0xce')]['GetFloorVisible']=function(_0x133074,_0x79ba7c,_0x2b267d){this['_callback']=_0x2b267d;this['_emiUICommand'](MapVision[_0x1b7e('0x13f')][_0x1b7e('0xde')],{'gid':_0x133074,'floor':_0x79ba7c});};MapVision['View3d'][_0x1b7e('0xce')]['SetFloorVisible']=function(_0x414373,_0x1d7c23,_0xf8bf56,_0x348ea9){if(!_0xf8bf56)_0xf8bf56=![];if(!_0x348ea9)_0x348ea9=0x0;this['_emiUICommand'](MapVision['CommandType']['SetFloorVisible'],{'gid':_0x414373,'floor':_0x1d7c23,'visible':_0xf8bf56,'opacity':_0x348ea9});};MapVision['View3d'][_0x1b7e('0xce')]['GetUpFloorNum']=function(_0x3f8d9f,_0xfb6c62,_0x390e4f){this['_callback']=_0x390e4f;this[_0x1b7e('0x107')](MapVision[_0x1b7e('0x13f')]['GetUpFloorNum'],{'gid':_0x3f8d9f,'floor':_0xfb6c62});};MapVision[_0x1b7e('0xd1')][_0x1b7e('0xce')]['GetUpFloorNames']=function(_0x52dfca,_0x3cc208,_0x2f344c){this['_callback']=_0x2f344c;this[_0x1b7e('0x107')](MapVision[_0x1b7e('0x13f')][_0x1b7e('0xa4')],{'gid':_0x52dfca,'floor':_0x3cc208});};MapVision['View3d']['prototype']['GetDownFloorNum']=function(_0x104be5,_0x50bbe6,_0x1a46f3){this['_callback']=_0x1a46f3;this[_0x1b7e('0x107')](MapVision[_0x1b7e('0x13f')]['GetDownFloorNum'],{'gid':_0x104be5,'floor':_0x50bbe6});};MapVision['View3d']['prototype']['GetDownFloorNames']=function(_0x5687c4,_0x99a6e3,_0x18eedf){this[_0x1b7e('0x91')]=_0x18eedf;this[_0x1b7e('0x107')](MapVision[_0x1b7e('0x13f')]['GetDownFloorNames'],{'gid':_0x5687c4,'floor':_0x99a6e3});};MapVision[_0x1b7e('0xd1')][_0x1b7e('0xce')][_0x1b7e('0x30')]=function(_0x516dfe,_0x3ce229,_0x40b4bb){this[_0x1b7e('0x91')]=_0x40b4bb;this[_0x1b7e('0x107')](MapVision[_0x1b7e('0x13f')]['GetFloorRoomNum'],{'gid':_0x516dfe,'floor':_0x3ce229});};MapVision[_0x1b7e('0xd1')][_0x1b7e('0xce')]['GetFloorRoomName']=function(_0xf9c8d9,_0xaebdd5,_0x213042){this['_callback']=_0x213042;this['_emiUICommand'](MapVision['CommandType']['GetFloorRoomNames'],{'gid':_0xf9c8d9,'floor':_0xaebdd5});};MapVision[_0x1b7e('0xd1')][_0x1b7e('0xce')]['GetFloorRoomNames']=function(_0x5108c4,_0x4eb118,_0x5cd037){this['_callback']=_0x5cd037;this['_emiUICommand'](MapVision[_0x1b7e('0x13f')][_0x1b7e('0x4d')],{'gid':_0x5108c4,'floor':_0x4eb118});};MapVision['View3d']['prototype'][_0x1b7e('0xc6')]=function(_0x57707d,_0x443305,_0x4049a2,_0x291748){this[_0x1b7e('0x91')]=_0x291748;this[_0x1b7e('0x107')](MapVision[_0x1b7e('0x13f')]['GetFloorRoomVisible'],{'gid':_0x57707d,'floor':_0x443305,'room':_0x4049a2});};MapVision['View3d']['prototype'][_0x1b7e('0xd5')]=function(_0x47d163,_0x3e9122,_0x59e51b,_0x4dc5be,_0x36793f){if(!_0x4dc5be)_0x4dc5be=![];if(!_0x36793f)_0x36793f=0x0;this['_emiUICommand'](MapVision[_0x1b7e('0x13f')]['SetFloorRoomVisible'],{'gid':_0x47d163,'floor':_0x3e9122,'room':_0x59e51b,'visible':_0x4dc5be,'opacity':_0x36793f});};MapVision['View3d']['prototype'][_0x1b7e('0x65')]=function(_0x2ba09c,_0x4f1547,_0x4fea0c){this[_0x1b7e('0x91')]=_0x4fea0c;this['_emiUICommand'](MapVision[_0x1b7e('0x13f')][_0x1b7e('0x65')],{'gid':_0x2ba09c,'floor':_0x4f1547});};MapVision['View3d'][_0x1b7e('0xce')]['GetFloorDeviceName']=function(_0x4b3a18,_0x42ef5b,_0x3cf7f4){this[_0x1b7e('0x91')]=_0x3cf7f4;this[_0x1b7e('0x107')](MapVision['CommandType']['GetFloorDeviceNames'],{'gid':_0x4b3a18,'floor':_0x42ef5b});};MapVision['View3d']['prototype'][_0x1b7e('0xc5')]=function(_0x164d10,_0x30433f,_0x2a0617){this[_0x1b7e('0x91')]=_0x2a0617;this[_0x1b7e('0x107')](MapVision['CommandType'][_0x1b7e('0xc5')],{'gid':_0x164d10,'floor':_0x30433f});};MapVision[_0x1b7e('0xd1')]['prototype']['GetFloorDeviceVisible']=function(_0x446dff,_0x28f91e,_0x208f23,_0x22724b){this[_0x1b7e('0x91')]=_0x22724b;this['_emiUICommand'](MapVision[_0x1b7e('0x13f')][_0x1b7e('0xea')],{'gid':_0x446dff,'floor':_0x28f91e,'device':_0x208f23});};MapVision['View3d'][_0x1b7e('0xce')][_0x1b7e('0x111')]=function(_0x31046d,_0xaa03ed,_0xffd871,_0x54e3b8,_0x4d1501){if(!_0x54e3b8)_0x54e3b8=![];if(!_0x4d1501)_0x4d1501=0x0;this[_0x1b7e('0x107')](MapVision['CommandType'][_0x1b7e('0x111')],{'gid':_0x31046d,'floor':_0xaa03ed,'device':_0xffd871,'visible':_0x54e3b8,'opacity':_0x4d1501});};MapVision['View3d']['prototype'][_0x1b7e('0x29')]=function(_0x5c37e3){this[_0x1b7e('0x107')](MapVision[_0x1b7e('0x13f')]['SetGroundVisible'],{'visible':_0x5c37e3});};MapVision['View3d']['prototype'][_0x1b7e('0x9f')]=function(_0x124d57,_0x31e451){this['_callback']=_0x31e451;this[_0x1b7e('0x107')](MapVision['CommandType']['OverLayerStartEdit'],_0x124d57);};MapVision[_0x1b7e('0xd1')][_0x1b7e('0xce')][_0x1b7e('0xfe')]=function(){this[_0x1b7e('0x91')]=null;this[_0x1b7e('0x107')](MapVision['CommandType'][_0x1b7e('0xfe')]);};MapVision[_0x1b7e('0xd1')]['prototype']['OverLayerSelectObjectEdit']=function(_0x3830a3){this[_0x1b7e('0x91')]=_0x3830a3;this['_emiUICommand'](MapVision['CommandType']['OverLayerSelectObjectEdit']);};MapVision['View3d']['prototype'][_0x1b7e('0xe7')]=function(_0x160bf5,_0xde2431){this['_callback']=_0xde2431;this[_0x1b7e('0x107')](MapVision['CommandType']['OverLayerFindObject'],{'name':_0x160bf5});};MapVision[_0x1b7e('0xd1')]['prototype'][_0x1b7e('0x35')]=function(_0x1e4e9b,_0x575f39){this['_callback']=_0x575f39;this[_0x1b7e('0x107')](MapVision['CommandType']['OverLayerCreateObject'],_0x1e4e9b);};MapVision[_0x1b7e('0xd1')][_0x1b7e('0xce')]['OverLayerCreateObjects']=function(_0x11bf8d,_0x1d45be){this[_0x1b7e('0x91')]=_0x1d45be;this['_emiUICommand'](MapVision[_0x1b7e('0x13f')][_0x1b7e('0x115')],{'shapes':_0x11bf8d});};MapVision[_0x1b7e('0xd1')][_0x1b7e('0xce')]['OverLayerUpdateObject']=function(_0x4090d5){this[_0x1b7e('0x107')](MapVision['CommandType']['OverLayerUpdateObject'],_0x4090d5);};MapVision[_0x1b7e('0xd1')][_0x1b7e('0xce')][_0x1b7e('0x27')]=function(_0x283653){this[_0x1b7e('0x107')](MapVision[_0x1b7e('0x13f')]['OverLayerRemoveObject'],_0x283653);};MapVision['View3d']['prototype'][_0x1b7e('0xbc')]=function(_0x479df9){this[_0x1b7e('0x107')](MapVision['CommandType'][_0x1b7e('0x27')],{'gid':_0x479df9});};MapVision[_0x1b7e('0xd1')][_0x1b7e('0xce')][_0x1b7e('0xac')]=function(_0x462e73){this['_emiUICommand'](MapVision['CommandType'][_0x1b7e('0xb1')],{'ids':_0x462e73});};MapVision[_0x1b7e('0xd1')][_0x1b7e('0xce')][_0x1b7e('0x67')]=function(_0x2c2598){if(_0x2c2598){this['_emiUICommand'](MapVision[_0x1b7e('0x13f')][_0x1b7e('0x137')],{'types':_0x2c2598});}else{this[_0x1b7e('0x107')](MapVision['CommandType'][_0x1b7e('0x67')]);}};MapVision['View3d']['prototype'][_0x1b7e('0xa8')]=function(_0x461bc8,_0x4f69d8){this[_0x1b7e('0x91')]=_0x4f69d8;this['_emiUICommand'](MapVision[_0x1b7e('0x13f')]['LayerLoad'],_0x461bc8);};MapVision[_0x1b7e('0xd1')]['prototype'][_0x1b7e('0xbf')]=function(_0x34513f,_0xf0580e){this[_0x1b7e('0x91')]=_0xf0580e;this[_0x1b7e('0x107')](MapVision[_0x1b7e('0x13f')][_0x1b7e('0xbf')],_0x34513f);};MapVision['View3d'][_0x1b7e('0xce')][_0x1b7e('0x59')]=function(_0x32781a,_0x206743){this[_0x1b7e('0x91')]=_0x206743;this[_0x1b7e('0x107')](MapVision['CommandType']['LayersLoad'],{'layers':_0x32781a});};MapVision['View3d'][_0x1b7e('0xce')]['LayerSelectObject']=function(_0x5e9fe3,_0x299a4a){this['_callback']=_0x299a4a;this['_emiUICommand'](MapVision['CommandType'][_0x1b7e('0x60')],{'gid':_0x5e9fe3});};MapVision[_0x1b7e('0xd1')][_0x1b7e('0xce')]['LayerRemove']=function(_0xe4b76f){this['_emiUICommand'](MapVision['CommandType'][_0x1b7e('0xbd')],{'gid':_0xe4b76f});};MapVision['View3d'][_0x1b7e('0xce')]['LayerSetVisible']=function(_0x28de17,_0x39e13c){this['_emiUICommand'](MapVision['CommandType'][_0x1b7e('0x130')],{'gid':_0x28de17,'visible':_0x39e13c});};MapVision['View3d']['prototype'][_0x1b7e('0x10d')]=function(_0x4cf860,_0x34a36d,_0x22c7b5,_0x5172ab){this[_0x1b7e('0x107')](MapVision['CommandType']['NorthControl'],{'visible':_0x4cf860,'x':_0x34a36d,'y':_0x22c7b5,'scale':_0x5172ab});};MapVision['View3d']['prototype'][_0x1b7e('0x116')]=function(_0x378093){let _0x3c63d5=this;_0x3c63d5['_webSocket']=new WebSocket(_0x378093);_0x3c63d5['_webSocket'][_0x1b7e('0x118')]=function(_0x1ba57f){var _0x126338=JSON[_0x1b7e('0x9b')](_0x1ba57f['data']);if(_0x126338[_0x1b7e('0x2')]==='config'){_0x3c63d5[_0x1b7e('0x5d')](_0x3c63d5['id'],_0x126338);}else if(_0x126338[_0x1b7e('0x2')]===_0x1b7e('0x139')){}else if(_0x126338[_0x1b7e('0x2')]===_0x1b7e('0x2f')){_0x3c63d5[_0x1b7e('0x2d')](_0x126338);}else if(_0x126338['type']===_0x1b7e('0x1b')){_0x3c63d5[_0x1b7e('0x1f')](_0x126338[_0x1b7e('0x55')]);}else{console[_0x1b7e('0xe4')]('invalid\x20SS\x20message\x20type:\x20'+_0x126338['type']);}};_0x3c63d5[_0x1b7e('0xf3')][_0x1b7e('0xee')]=function(_0x1387fb){console['log'](_0x1b7e('0x13')+JSON['stringify'](_0x1387fb));if(_0x3c63d5['_registerCallback']){const _0x56a441={'code':0x64,'msg':'webSocket\x20connenect\x20error'};_0x3c63d5['_registerCallback'](_0x56a441);}};_0x3c63d5['_webSocket']['onclose']=function(_0x3b523d){console['log'](_0x1b7e('0x5c')+JSON[_0x1b7e('0x2b')](_0x3b523d['code'])+'\x20-\x20'+_0x3b523d['reason']);_0x3c63d5[_0x1b7e('0xf3')]=undefined;let _0x201109=document[_0x1b7e('0xcb')](_0x3c63d5['id']);if(_0x3c63d5[_0x1b7e('0x76')]){_0x201109['removeChild'](_0x3c63d5[_0x1b7e('0x76')]['video']);_0x3c63d5[_0x1b7e('0x76')][_0x1b7e('0x3f')]();_0x3c63d5[_0x1b7e('0x76')]=undefined;}if(_0x3c63d5[_0x1b7e('0xb8')]){const _0x26b601={'code':0x190,'msg':'websocket\x20closed'};_0x3c63d5[_0x1b7e('0xb8')](_0x26b601);}};};MapVision['View3d']['prototype'][_0x1b7e('0xe0')]=function(_0x2891d3){let _0x153d2a=this;_0x2891d3['onmousemove']=_0x1852e9=>{if(!_0x153d2a[_0x1b7e('0x2a')]){return;}_0x153d2a[_0x1b7e('0x12c')](_0x1852e9['offsetX'],_0x1852e9['offsetY'],_0x1852e9[_0x1b7e('0x46')],_0x1852e9[_0x1b7e('0xe')]);if(_0x153d2a[_0x1b7e('0x5e')]&&_0x153d2a['_onMouseMoveCallback']){_0x153d2a['_onMouseMoveCallback'](_0x1852e9,_0x153d2a[_0x1b7e('0x8')]);}_0x1852e9['preventDefault']();};_0x2891d3['onmousedown']=_0x3d6c33=>{_0x153d2a['_mouseDownStatus']=!![];_0x153d2a[_0x1b7e('0x8')]=null;if(!_0x153d2a['enableMouse']){return;}_0x153d2a[_0x1b7e('0x149')](_0x3d6c33[_0x1b7e('0x64')],_0x3d6c33['offsetX'],_0x3d6c33[_0x1b7e('0x8c')]);setTimeout(function(){if(_0x153d2a['_onMouseDownCallback']){_0x153d2a[_0x1b7e('0x106')](_0x3d6c33,_0x153d2a[_0x1b7e('0x8')]);}},0x64);_0x3d6c33['preventDefault']();};_0x2891d3['onmouseup']=_0x4c0237=>{_0x153d2a[_0x1b7e('0x5e')]=![];if(!_0x153d2a['enableMouse']){return;}_0x153d2a['_onMouseUp'](_0x4c0237[_0x1b7e('0x64')],_0x4c0237[_0x1b7e('0x7a')],_0x4c0237['offsetY']);if(_0x153d2a['_onMouseUpCallback']){_0x153d2a['_onMouseUpCallback'](_0x4c0237,_0x153d2a['_onMouseSelectedObj']);}_0x4c0237['preventDefault']();};_0x2891d3[_0x1b7e('0x14')]=_0xf329ff=>{if(!_0x153d2a['enableMouse']){return;}_0x153d2a['_onMouseUp'](_0xf329ff[_0x1b7e('0x64')],_0xf329ff[_0x1b7e('0x7a')],_0xf329ff['offsetY']);_0xf329ff['preventDefault']();};if(_0x1b7e('0x135')in _0x2891d3){_0x2891d3[_0x1b7e('0x135')]=_0x1fb059=>{if(!_0x153d2a['enableMouse']){return;}_0x153d2a['_onMouseWheel'](_0x1fb059[_0x1b7e('0x18')],_0x1fb059['offsetX'],_0x1fb059['offsetY']);_0x1fb059['preventDefault']();};}else{_0x2891d3['addEventListener'](_0x1b7e('0x47'),_0x59a6e2=>{if(!_0x153d2a[_0x1b7e('0x2a')]){return;}_0x153d2a['_onMouseWheel'](_0x59a6e2['detail']*-0x78,_0x59a6e2['offsetX'],_0x59a6e2[_0x1b7e('0x8c')]);_0x59a6e2['preventDefault']();},![]);}_0x2891d3['pressMouseButtons']=_0x3ee2b4=>{if(!_0x153d2a[_0x1b7e('0x2a')]){return;}_0x153d2a['_pressMouseButtons'](_0x3ee2b4['buttons'],_0x3ee2b4['offsetX'],_0x3ee2b4['offsetY']);};_0x2891d3['releaseMouseButtons']=_0x27d585=>{if(!_0x153d2a['enableMouse']){return;}_0x153d2a['_releaseMouseButtons'](_0x27d585['buttons'],_0x27d585[_0x1b7e('0x7a')],_0x27d585[_0x1b7e('0x8c')]);};_0x2891d3[_0x1b7e('0x13d')]=_0x3025d7=>{if(!_0x153d2a['enableMouse']){return;}var _0x2d9191=new DataView(new ArrayBuffer(0x1));_0x2d9191[_0x1b7e('0x77')](0x0,MapVision['MessageType']['MouseEnter']);_0x153d2a[_0x1b7e('0x4a')](_0x2d9191['buffer']);_0x2891d3[_0x1b7e('0x42')](_0x3025d7);};_0x2891d3['onmouseleave']=_0x5a5477=>{if(!_0x153d2a[_0x1b7e('0x2a')]){return;}var _0x51fc43=new DataView(new ArrayBuffer(0x1));_0x51fc43['setUint8'](0x0,MapVision[_0x1b7e('0xaf')]['MouseLeave']);_0x153d2a[_0x1b7e('0x4a')](_0x51fc43['buffer']);_0x2891d3[_0x1b7e('0x51')](_0x5a5477);};};MapVision[_0x1b7e('0xd1')]['prototype']['_registerTouchEvents']=function(_0x3aa1f0){};MapVision['View3d']['prototype'][_0x1b7e('0xb5')]=function(_0x1c552e){if(!_0x1c552e){return;}_0x1c552e[_0x1b7e('0x41')]=_0x214f4c=>{_0x214f4c['preventDefault']();};_0x1c552e[_0x1b7e('0x121')]=_0x3b0ae2=>{_0x3b0ae2[_0x1b7e('0xc2')]();};_0x1c552e['onmouseup']=_0x37cef0=>{_0x37cef0['preventDefault']();};_0x1c552e[_0x1b7e('0x14')]=_0x192652=>{_0x192652['preventDefault']();};if('onmousewheel'in _0x1c552e){_0x1c552e[_0x1b7e('0x135')]=_0x45b418=>{_0x45b418[_0x1b7e('0xc2')]();};}else{_0x1c552e['addEventListener']('DOMMouseScroll',_0x19a776=>{_0x19a776['preventDefault']();},![]);}_0x1c552e[_0x1b7e('0x42')]=_0x554d43=>{};_0x1c552e['releaseMouseButtons']=_0x17a6c8=>{};_0x1c552e['onmouseenter']=_0x26cb71=>{};_0x1c552e['onmouseleave']=_0x552c8c=>{};};MapVision[_0x1b7e('0xd1')]['prototype']['_registerKeyboardEvents']=function(){let _0x4abdd3=this;const _0x16cd97={'BackSpace':0x8,'Shift':0x10,'Control':0x11,'Alt':0x12,'RightShift':0xfd,'RightControl':0xfe,'RightAlt':0xff};function _0x50f8cd(_0x31c823){if(_0x31c823['keyCode']===_0x16cd97[_0x1b7e('0xa9')]&&_0x31c823['code']===_0x1b7e('0xcf'))return _0x16cd97[_0x1b7e('0x71')];else if(_0x31c823['keyCode']===_0x16cd97[_0x1b7e('0x98')]&&_0x31c823[_0x1b7e('0x12b')]==='ControlRight')return _0x16cd97[_0x1b7e('0xa')];else if(_0x31c823['keyCode']===_0x16cd97[_0x1b7e('0xae')]&&_0x31c823['code']==='AltRight')return _0x16cd97[_0x1b7e('0x136')];else return _0x31c823[_0x1b7e('0x37')];};function _0x20cc79(_0x558e54){return!(_0x558e54['keyCode']==0x1b||_0x558e54[_0x1b7e('0x37')]==0x74||_0x558e54[_0x1b7e('0x37')]==0xde||_0x558e54['keyCode']==0xba||_0x558e54[_0x1b7e('0x37')]==0xbc||_0x558e54['ctrlKey']&&_0x558e54[_0x1b7e('0x37')]==0x52);};var _0x19fd2b=document['getElementsByTagName']('iframe');var _0x3f06c2=null;if(_0x19fd2b&&_0x19fd2b[_0x1b7e('0x4f')]>0x0){_0x3f06c2=_0x19fd2b[0x0];}else{_0x3f06c2=document;}_0x3f06c2[_0x1b7e('0x21')]=_0x3a0030=>{if(!_0x4abdd3[_0x1b7e('0x141')]){return;}if(_0x20cc79(_0x3a0030)==![]){_0x3a0030['preventDefault']();return;}_0x4abdd3[_0x1b7e('0x4a')](new Uint8Array([MapVision[_0x1b7e('0xaf')]['KeyDown'],_0x50f8cd(_0x3a0030),_0x3a0030[_0x1b7e('0xba')]])[_0x1b7e('0x126')]);if(_0x3a0030['keyCode']===_0x16cd97['BackSpace']){_0x3f06c2[_0x1b7e('0x120')]({'charCode':_0x16cd97['BackSpace']});}};_0x3f06c2['onkeyup']=_0x418eaa=>{if(!_0x4abdd3['enableKeyboard']){return;}if(_0x20cc79(_0x418eaa)==![]){_0x418eaa['preventDefault']();return;}_0x4abdd3['_sendInputData'](new Uint8Array([MapVision[_0x1b7e('0xaf')]['KeyUp'],_0x50f8cd(_0x418eaa)])[_0x1b7e('0x126')]);};_0x3f06c2[_0x1b7e('0x120')]=_0x58a20e=>{if(!_0x4abdd3['enableKeyboard']){return;}if(_0x20cc79(_0x58a20e)==![]){_0x58a20e['preventDefault']();return;}let _0x2a5f83=new DataView(new ArrayBuffer(0x3));_0x2a5f83[_0x1b7e('0x77')](0x0,MapVision[_0x1b7e('0xaf')][_0x1b7e('0x146')]);_0x2a5f83[_0x1b7e('0x8f')](0x1,_0x58a20e['charCode'],!![]);_0x4abdd3[_0x1b7e('0x4a')](_0x2a5f83[_0x1b7e('0x126')]);};};MapVision[_0x1b7e('0xd1')]['prototype']['_createWebRtcPlayer']=function(_0x13e16f,_0x511127){let _0x2a48a0=this;_0x2a48a0['_webRtcPlayerHtmlElement']=document['getElementById'](_0x13e16f);_0x2a48a0['_webRtcPlayerObj']=new webRtcPlayer({'peerConnectionOptions':_0x511127[_0x1b7e('0x119')]});_0x2a48a0['_webRtcPlayerHtmlElement']['style']['visibility']=_0x1b7e('0x8e');let _0x373a2f=_0x2a48a0['_webRtcPlayerHtmlElement'];_0x373a2f[_0x1b7e('0x10e')](_0x2a48a0['_webRtcPlayerObj'][_0x1b7e('0x2c')]);_0x2a48a0['_webRtcPlayerObj']['onWebRtcOffer']=function(_0x567da1){if(_0x2a48a0[_0x1b7e('0xf3')]&&_0x2a48a0[_0x1b7e('0xf3')]['readyState']===MapVision[_0x1b7e('0xe1')]){let _0x5a9dca=JSON[_0x1b7e('0x2b')](_0x567da1);_0x2a48a0['_webSocket'][_0x1b7e('0x9')](_0x5a9dca);}};_0x2a48a0['_webRtcPlayerObj']['onWebRtcCandidate']=function(_0x1d9553){if(_0x2a48a0['_webSocket']&&_0x2a48a0[_0x1b7e('0xf3')][_0x1b7e('0xed')]===MapVision[_0x1b7e('0xe1')]){console[_0x1b7e('0xe4')](_0x1b7e('0x33')+JSON['stringify'](_0x1d9553,undefined,0x4));_0x2a48a0[_0x1b7e('0xf3')]['send'](JSON[_0x1b7e('0x2b')]({'type':'iceCandidate','candidate':_0x1d9553}));}};_0x2a48a0['_webRtcPlayerObj']['onVideoInitialised']=function(){if(_0x2a48a0['_webSocket']&&_0x2a48a0['_webSocket']['readyState']===MapVision[_0x1b7e('0xe1')]){if(_0x2a48a0[_0x1b7e('0x76')]){_0x2a48a0[_0x1b7e('0x76')]['video']['muted']=!![];setTimeout(function(){_0x2a48a0[_0x1b7e('0x14c')]();_0x2a48a0['_requestQualityControl']();_0x2a48a0['_webRtcPlayerObj'][_0x1b7e('0x2c')]['play']();},0x32);}}};_0x2a48a0[_0x1b7e('0x76')]['onDataChannelConnected']=function(){if(_0x2a48a0['_webSocket']&&_0x2a48a0[_0x1b7e('0xf3')][_0x1b7e('0xed')]===MapVision[_0x1b7e('0xe1')]){if(_0x2a48a0['_webRtcPlayerObj']['video']&&_0x2a48a0['_webRtcPlayerObj'][_0x1b7e('0x2c')][_0x1b7e('0x7e')]&&_0x2a48a0[_0x1b7e('0x76')][_0x1b7e('0x124')]){_0x2a48a0[_0x1b7e('0x76')]['onVideoInitialised']();}if(_0x2a48a0[_0x1b7e('0xb8')]){const _0x31e809={'code':0xc8,'msg':'websocket\x20connected'};_0x2a48a0['_registerCallback'](_0x31e809);}_0x2a48a0['_webRtcPlayerHtmlElement'][_0x1b7e('0xeb')]['visibility']='visible';}};_0x2a48a0[_0x1b7e('0x76')]['onDataChannelMessage']=function(_0x186b20){var _0x4ec5ad=new Uint8Array(_0x186b20);var _0xaafd1f=_0x4ec5ad[0x0];if(_0xaafd1f===MapVision[_0x1b7e('0xf0')]['QualityControlOwnership']){let _0x1672cf=new TextDecoder('utf-16')[_0x1b7e('0x15')](_0x186b20[_0x1b7e('0xe6')](0x1));console['log']('->\x20SS:\x20QualityControlOwnership:\x0a'+_0x1672cf);}else if(_0xaafd1f===MapVision[_0x1b7e('0xf0')][_0x1b7e('0x58')]){let _0x3a9adb=new TextDecoder('utf-16')[_0x1b7e('0x15')](_0x186b20['slice'](0x1));let _0x44fdc5=JSON[_0x1b7e('0x9b')](_0x3a9adb);if(_0x44fdc5&&_0x44fdc5[_0x1b7e('0x61')]){_0x2a48a0['_onMouseSelectedObj']=_0x44fdc5;}if(_0x2a48a0[_0x1b7e('0x113')]&&(_0x2a48a0[_0x1b7e('0x138')]===MapVision['CommandType']['SetMouseCallback']||_0x2a48a0[_0x1b7e('0x138')]===MapVision['CommandType']['SetMousePositionCallback']||_0x44fdc5&&_0x44fdc5['onMouse'])){_0x2a48a0['_callbackMouse'](_0x44fdc5);}else if(_0x2a48a0[_0x1b7e('0x91')]){_0x2a48a0[_0x1b7e('0x91')](_0x44fdc5);_0x2a48a0['_callback']=null;}}else if(_0xaafd1f===MapVision[_0x1b7e('0xf0')]['Command']){let _0xd44946=new TextDecoder(_0x1b7e('0x81'))['decode'](_0x186b20['slice'](0x1));console['log']('->\x20SS:\x20Command:\x0a'+_0xd44946);}else if(_0xaafd1f===MapVision[_0x1b7e('0xf0')]['FreezeFrame']){let _0x736f7e=new TextDecoder('utf-16')['decode'](_0x186b20[_0x1b7e('0xe6')](0x1));console['log']('->\x20SS:\x20FreezeFrame:\x0a'+_0x736f7e);}else if(_0xaafd1f===MapVision[_0x1b7e('0xf0')]['UnfreezeFrame']){let _0x2636ba=new TextDecoder(_0x1b7e('0x81'))['decode'](_0x186b20['slice'](0x1));console[_0x1b7e('0xe4')]('->\x20SS:\x20UnfreezeFrame:\x0a'+_0x2636ba);}};_0x2a48a0[_0x1b7e('0xe0')](_0x373a2f);_0x2a48a0[_0x1b7e('0x132')](_0x373a2f);_0x2a48a0['_registerKeyboardEvents'](_0x373a2f);_0x2a48a0['_webRtcPlayerObj']['createOffer']();};MapVision[_0x1b7e('0xd1')]['prototype']['_sendInputData']=function(_0xb503c0){if(this[_0x1b7e('0x76')]){this['_webRtcPlayerObj'][_0x1b7e('0x9')](_0xb503c0);}else{console['log'](_0x1b7e('0xdc'));}};MapVision['View3d'][_0x1b7e('0xce')][_0x1b7e('0x144')]=function(_0x1ceb9d,_0x591bec){let _0x5715c0=JSON[_0x1b7e('0x2b')](_0x591bec);let _0x291de0=new DataView(new ArrayBuffer(0x1+0x2+0x2*_0x5715c0['length']));let _0x16c235=0x0;_0x291de0[_0x1b7e('0x77')](_0x16c235,_0x1ceb9d);_0x16c235++;_0x291de0['setUint16'](_0x16c235,_0x5715c0['length'],!![]);_0x16c235+=0x2;for(let _0x31ce21=0x0;_0x31ce21<_0x5715c0[_0x1b7e('0x4f')];_0x31ce21++){_0x291de0['setUint16'](_0x16c235,_0x5715c0['charCodeAt'](_0x31ce21),!![]);_0x16c235+=0x2;}this[_0x1b7e('0x4a')](_0x291de0[_0x1b7e('0x126')]);};MapVision[_0x1b7e('0xd1')]['prototype'][_0x1b7e('0x107')]=function(_0x1f55a6,_0x5e12a5){this[_0x1b7e('0x138')]=_0x1f55a6;const _0x57df58={'cmd':_0x1f55a6,'data':_0x5e12a5};console[_0x1b7e('0xe4')](JSON[_0x1b7e('0x2b')](_0x57df58));this[_0x1b7e('0x144')](MapVision['MessageType'][_0x1b7e('0xd8')],_0x57df58);};MapVision['View3d'][_0x1b7e('0xce')][_0x1b7e('0x14c')]=function(){this['_sendInputData'](new Uint8Array([MapVision[_0x1b7e('0xaf')][_0x1b7e('0x14a')]])['buffer']);};MapVision['View3d']['prototype'][_0x1b7e('0xb0')]=function(){this[_0x1b7e('0x4a')](new Uint8Array([MapVision[_0x1b7e('0xaf')]['RequestQualityControl']])['buffer']);};MapVision[_0x1b7e('0xd1')][_0x1b7e('0xce')][_0x1b7e('0x12c')]=function(_0x277f95,_0x42f9bf,_0x1429fe,_0x20463e){let _0x23e402=this;if(!_0x23e402['_webSocket']){return;}let _0x56a971=_0x23e402['_normalizeAndQuantizeUnsigned'](_0x277f95,_0x42f9bf);let _0x293176=_0x23e402[_0x1b7e('0x6d')](_0x1429fe,_0x20463e);var _0x1c9d88=new DataView(new ArrayBuffer(0x9));_0x1c9d88['setUint8'](0x0,MapVision[_0x1b7e('0xaf')][_0x1b7e('0x19')]);_0x1c9d88['setUint16'](0x1,_0x56a971['x'],!![]);_0x1c9d88[_0x1b7e('0x8f')](0x3,_0x56a971['y'],!![]);_0x1c9d88['setInt16'](0x5,_0x293176['x'],!![]);_0x1c9d88['setInt16'](0x7,_0x293176['y'],!![]);_0x23e402['_sendInputData'](_0x1c9d88[_0x1b7e('0x126')]);};MapVision['View3d'][_0x1b7e('0xce')][_0x1b7e('0x149')]=function(_0x33baf7,_0x5fc4ef,_0xa15e2f){let _0x29a02a=this;if(!_0x29a02a[_0x1b7e('0xf3')]){return;}let _0x286754=_0x29a02a['_normalizeAndQuantizeUnsigned'](_0x5fc4ef,_0xa15e2f);var _0x2debe0=new DataView(new ArrayBuffer(0x6));_0x2debe0['setUint8'](0x0,MapVision[_0x1b7e('0xaf')][_0x1b7e('0xe2')]);_0x2debe0['setUint8'](0x1,_0x33baf7);_0x2debe0[_0x1b7e('0x8f')](0x2,_0x286754['x'],!![]);_0x2debe0[_0x1b7e('0x8f')](0x4,_0x286754['y'],!![]);_0x29a02a['_sendInputData'](_0x2debe0[_0x1b7e('0x126')]);};MapVision['View3d'][_0x1b7e('0xce')]['_onMouseUp']=function(_0x3aad31,_0x5dcf64,_0x235703){let _0x5b2b7f=this;if(!_0x5b2b7f['_webSocket']){return;}let _0x5ad893=_0x5b2b7f['_normalizeAndQuantizeUnsigned'](_0x5dcf64,_0x235703);var _0x5c11e7=new DataView(new ArrayBuffer(0x6));_0x5c11e7['setUint8'](0x0,MapVision['MessageType']['MouseUp']);_0x5c11e7[_0x1b7e('0x77')](0x1,_0x3aad31);_0x5c11e7['setUint16'](0x2,_0x5ad893['x'],!![]);_0x5c11e7['setUint16'](0x4,_0x5ad893['y'],!![]);_0x5b2b7f[_0x1b7e('0x4a')](_0x5c11e7[_0x1b7e('0x126')]);};MapVision['View3d'][_0x1b7e('0xce')]['_onMouseWheel']=function(_0x598951,_0x5e3991,_0x1b7491){let _0x4c7f7d=this;if(!_0x4c7f7d['_webSocket']){return;}let _0x3133fe=_0x4c7f7d['_normalizeAndQuantizeUnsigned'](_0x5e3991,_0x1b7491);var _0x300d45=new DataView(new ArrayBuffer(0x7));_0x300d45['setUint8'](0x0,MapVision['MessageType']['MouseWheel']);_0x300d45[_0x1b7e('0x82')](0x1,_0x598951,!![]);_0x300d45['setUint16'](0x3,_0x3133fe['x'],!![]);_0x300d45[_0x1b7e('0x8f')](0x5,_0x3133fe['y'],!![]);_0x4c7f7d['_sendInputData'](_0x300d45[_0x1b7e('0x126')]);};MapVision['View3d'][_0x1b7e('0xce')][_0x1b7e('0x40')]=function(_0x3de55a,_0x51cc02,_0x186f00){if(_0x3de55a&MapVision[_0x1b7e('0x44')]['PrimaryButton']){this[_0x1b7e('0x153')](MapVision[_0x1b7e('0x1c')]['MainButton'],_0x51cc02,_0x186f00);}if(_0x3de55a&MapVision['MouseButtonsMask'][_0x1b7e('0x140')]){this['_onMouseUp'](MapVision[_0x1b7e('0x1c')][_0x1b7e('0x140')],_0x51cc02,_0x186f00);}if(_0x3de55a&MapVision['MouseButtonsMask']['AuxiliaryButton']){this['_onMouseUp'](MapVision[_0x1b7e('0x1c')]['AuxiliaryButton'],_0x51cc02,_0x186f00);}if(_0x3de55a&MapVision[_0x1b7e('0x44')][_0x1b7e('0xb4')]){this['_onMouseUp'](MapVision['MouseButton']['FourthButton'],_0x51cc02,_0x186f00);}if(_0x3de55a&MapVision['MouseButtonsMask']['FifthButton']){this[_0x1b7e('0x153')](MapVision['MouseButton']['FifthButton'],_0x51cc02,_0x186f00);}};MapVision['View3d']['prototype'][_0x1b7e('0x11b')]=function(_0x22eb85,_0x47b7fe,_0x16a784){if(_0x22eb85&MapVision['MouseButtonsMask']['PrimaryButton']){this[_0x1b7e('0x149')](MapVision[_0x1b7e('0x1c')]['MainButton'],_0x47b7fe,_0x16a784);}if(_0x22eb85&MapVision['MouseButtonsMask']['SecondaryButton']){this[_0x1b7e('0x149')](MapVision['MouseButton']['SecondaryButton'],_0x47b7fe,_0x16a784);}if(_0x22eb85&MapVision['MouseButtonsMask']['AuxiliaryButton']){this[_0x1b7e('0x149')](MapVision[_0x1b7e('0x1c')][_0x1b7e('0x4e')],_0x47b7fe,_0x16a784);}if(_0x22eb85&MapVision['MouseButtonsMask'][_0x1b7e('0xb4')]){this[_0x1b7e('0x149')](MapVision[_0x1b7e('0x1c')]['FourthButton'],_0x47b7fe,_0x16a784);}if(_0x22eb85&MapVision[_0x1b7e('0x44')][_0x1b7e('0x56')]){this['_onMouseDown'](MapVision['MouseButton'][_0x1b7e('0x56')],_0x47b7fe,_0x16a784);}};MapVision['View3d'][_0x1b7e('0xce')]['_normalizeAndQuantizeUnsigned']=function(_0x31e37d,_0x2cd868){let _0x430385=this;if(!_0x430385[_0x1b7e('0xf3')]){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x14d35d=_0x430385[_0x1b7e('0xb9')];let _0x514ad5=_0x430385[_0x1b7e('0x76')][_0x1b7e('0x2c')];let _0x267b7=_0x14d35d['clientHeight']/_0x14d35d['clientWidth'];let _0x51703e=_0x514ad5[_0x1b7e('0x11c')]/_0x514ad5[_0x1b7e('0x32')];if(_0x267b7>_0x51703e){let _0x45c262=_0x267b7/_0x51703e;let _0x2313ba=_0x31e37d/_0x14d35d[_0x1b7e('0x0')];let _0x2d7f66=_0x45c262*(_0x2cd868/_0x14d35d['clientHeight']-0.5)+0.5;if(_0x2313ba<0x0||_0x2313ba>0x1||_0x2d7f66<0x0||_0x2d7f66>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x2313ba*0x10000,'y':_0x2d7f66*0x10000};}}else{let _0x303e12=_0x51703e/_0x267b7;let _0x2b0d14=_0x303e12*(_0x31e37d/_0x14d35d['clientWidth']-0.5)+0.5;let _0x15de74=_0x2cd868/_0x14d35d['clientHeight'];if(_0x2b0d14<0x0||_0x2b0d14>0x1||_0x15de74<0x0||_0x15de74>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x2b0d14*0x10000,'y':_0x15de74*0x10000};}}};MapVision[_0x1b7e('0xd1')]['prototype']['_normalizeAndQuantizeSigned']=function(_0xa7ad85,_0x40e16a){let _0x3897e2=this;if(!_0x3897e2[_0x1b7e('0xf3')]){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x38e49f=_0x3897e2[_0x1b7e('0xb9')];let _0x482e5c=_0x3897e2[_0x1b7e('0x76')][_0x1b7e('0x2c')];let _0x5edc15=_0x38e49f['clientHeight']/_0x38e49f[_0x1b7e('0x0')];let _0x380385=_0x482e5c[_0x1b7e('0x11c')]/_0x482e5c[_0x1b7e('0x32')];if(_0x5edc15>_0x380385){let _0x580568=_0x5edc15/_0x380385;let _0x3baccc=_0xa7ad85/(0.5*_0x38e49f['clientWidth']);let _0xe31db0=_0x580568*_0x40e16a/(0.5*_0x38e49f[_0x1b7e('0x5b')]);return{'x':_0x3baccc*0x7fff,'y':_0xe31db0*0x7fff};}else{let _0x57bbeb=_0x380385/_0x5edc15;let _0x1c0369=_0x57bbeb*_0xa7ad85/(0.5*_0x38e49f[_0x1b7e('0x0')]);let _0x446919=_0x40e16a/(0.5*_0x38e49f['clientHeight']);return{'x':_0x1c0369*0x7fff,'y':_0x446919*0x7fff};}};MapVision['View3d'][_0x1b7e('0xce')]['_unquantizeAndDenormalizeUnsigned']=function(_0x30c7b8,_0x264606){let _0x3771ca=this;if(!_0x3771ca['_webSocket']){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x40f8bc=_0x3771ca['_webRtcPlayerHtmlElement'];let _0x4a1b5=_0x3771ca[_0x1b7e('0x76')]['video'];let _0x1192f4=_0x40f8bc['clientHeight']/_0x40f8bc['clientWidth'];let _0x2fba59=_0x4a1b5['videoHeight']/_0x4a1b5[_0x1b7e('0x32')];if(_0x1192f4>_0x2fba59){let _0x251108=_0x1192f4/_0x2fba59;let _0x329461=_0x30c7b8/0x10000;let _0x5ad1e5=(_0x264606/0x10000-0.5)/_0x251108+0.5;return{'x':_0x329461*_0x40f8bc['clientWidth'],'y':_0x5ad1e5*_0x40f8bc['clientHeight']};}else{let _0x2128b0=(_0x30c7b8/0x10000-0.5)/ratio+0.5;let _0x532e2d=_0x264606/0x10000;return{'x':_0x2128b0*_0x40f8bc[_0x1b7e('0x0')],'y':_0x532e2d*_0x40f8bc[_0x1b7e('0x5b')]};}};MapVision[_0x1b7e('0xd1')]['prototype']['_onWebRtcAnswer']=function(_0xc2ce00){this[_0x1b7e('0x76')]['receiveAnswer'](_0xc2ce00);this[_0x1b7e('0x76')][_0x1b7e('0x23')]=_0x326bd7=>{};this[_0x1b7e('0x76')][_0x1b7e('0x49')](0x1*0x3e8);};MapVision['View3d'][_0x1b7e('0xce')]['_onWebRtcIce']=function(_0x5f525a){if(this['_webRtcPlayerObj'])this['_webRtcPlayerObj']['handleCandidateFromServer'](_0x5f525a);};MapVision[_0x1b7e('0xd1')]['prototype'][_0x1b7e('0xf8')]=function(_0x18c53a,_0x3a7b1d,_0x1e4501){var _0x321e81=null;if(window[_0x1b7e('0x7f')]){_0x321e81=new XMLHttpRequest();}else if(window[_0x1b7e('0x13c')]){_0x321e81=new ActiveXObject(_0x1b7e('0x148'));}if(_0x321e81==null){alert(_0x1b7e('0x96'));return;}var _0x71add7=(_0x18c53a[_0x1b7e('0x2')]||'GET')[_0x1b7e('0x84')]();var _0x17c0a4=_0x18c53a['dataType']||'json';var _0x2850bb=_0x18c53a['httpUrl']||'';var _0x296be0=_0x18c53a[_0x1b7e('0x12a')]||!![];var _0x5b737e=_0x18c53a[_0x1b7e('0xd0')]||[];var _0x370ad8='';for(var _0x604906 in _0x5b737e){_0x370ad8+=_0x604906+'='+_0x5b737e[_0x604906]+'&';}_0x370ad8=_0x370ad8==''?'':_0x370ad8[_0x1b7e('0x104')](0x0,_0x370ad8['length']-0x1);console['log'](_0x370ad8);_0x321e81[_0x1b7e('0xda')]=function(){if(_0x321e81[_0x1b7e('0xed')]==0x4&&_0x321e81['status']==0xc8){var _0x37bf1e=JSON[_0x1b7e('0x9b')](_0x321e81[_0x1b7e('0x94')]);_0x3a7b1d(_0x37bf1e);}else{_0x1e4501;}};if(_0x71add7=='GET'){_0x321e81[_0x1b7e('0x150')](_0x1b7e('0x86'),_0x2850bb,_0x296be0);_0x321e81['send'](null);}else if(_0x71add7==_0x1b7e('0x143')){_0x321e81[_0x1b7e('0x150')](_0x1b7e('0x143'),_0x2850bb,_0x296be0);_0x321e81[_0x1b7e('0xa1')](_0x1b7e('0x26'),'application/x-www-form-urlencoded');_0x321e81[_0x1b7e('0x9')](_0x370ad8);}};