const _0x5bfb=['LayerLoad','code','Label','floor','GetUpFloorNames','object','_onWebRtcIce','FindObjectById','building','BackSpace','type','StopRoute','_connectWebsocket','onkeypress','preventDefault','highFramerate','GET','highBitrate','SetFloorDeviceVisible','position','GetFloorRoomNum','substring','polygon','aimapvision3d\x20server\x20is\x20not\x20started.','->\x20SS:\x20UnfreezeFrame:\x0a','async','Stop','pitch','wheelDelta','SetObjectsHighlightByPrefix','pressMouseButtons','bytesReceivedStart','CommandType','_emitDescriptor','geom','sdpConstraints','SetFloorRoomVisible','button','PauseRoute','ControlRight','ResetHome','yaw','OverLayerRemoveObjectById','onWebRtcOffer','lowBitrate','getElementById','RegisterEvents','SetResolution','toLowerCase','label','RotateCenter','onVideoInitialised','aggregateStats','readyState','webRtcPlayer','GetFloorRoomVisible','CreateRoute','navigator','bytesReceived','OverLayerRemoveAll','slice','currentRoundTripTime','UpdateObjectStyle','movementX','FindObjectByName','./adapter','timestampStart','GetBuildingVisible','stringify','&token=','setInt16','OverLayerCreateObjects','_emiUICommand','style','GetFloorNames','_onMouseUp','Parameter\x20ERROR','packetsLost','_mouseDownStatus','hasOwnProperty','signaling\x20state\x20change:','streams','webSocket\x20connenect\x20error','OpenStatus','IsPausedSequence','CreateObject','No\x20data\x20channel','SetObjectHighlight','Closing\x20existing\x20peerClient','FifthButton','onreadystatechange','XMLHttpRequest','_releaseMouseButtons','handleCandidateFromServer','buffer','StartRoute','onerror','onicecandidate','sdp','projectId','Closing\x20existing\x20PeerConnection','framesDecoded','_registerCallback','_webSocket','MouseMove','framerate','config','_registerTouchEvents','GetDownFloorNum','->\x20SS:\x20Command:\x0a','->\x20SS:\x20_requestQualityControl:\x0a','use\x20strict','length','LayerSetVisible','NorthControl','SetMapStatus','aggregatedStats','RotatePosition','_callback','forEach','WS_OPEN_STATE','videoHeight','Created\x20datachannel\x20(','\x20_webSocket\x20closed\x20','OverLayerRemoveAllCustom','SetFloorVisible','UpdateObject','port','replace','offsetX','clientHeight','OverLayerSelectObjectEdit','SetObjectsHighlight','_sendInputData','aggregateStatsIntervalId','GetFloorNum','IsClose','LineString','MozWebSocket','clientWidth','SetMouseCallback','GetUpFloorNum','videoWidth','SetObjectsVisible','FourthButton','prototype','dataType','GetHomePosition','setRemoteDescription','PlayRoute','onDataChannelConnected','Clear','keyCode','ToClientMessageType','SetNorthControl','video_label','KeyUp','parse','UnfreezeFrame','OverLayerRemoveObject','GetFloorDeviceName','cirrus','MouseButton','FlyToObjectById','track','ctrlKey','_registerKeyboardEvents','OverLayerUpdateObject','WS\x20closed:\x20','setUint8','ActiveXObject','enableKeyboard','setting\x20video\x20stream\x20from\x20ontrack','AuxiliaryButton','framesReceived','trackIdentifier','_registerMouseEvents','frameHeight','SecondaryButton','PrimaryButton','MouseWheel','ResetAllBuildings','UIInteraction','GetCurrentPosition','_command','tnClient','onicegatheringstatechange','MapStatusType','onmousewheel','this._webSocket\x20error:\x20','ShiftRight','frameWidthStart','releaseMouseButtons','KeyPress','Point2D','onmouseleave','MouseUp','WebSocket','->\x20SS:\x20iceCandidate\x0a','_createWebRtcPlayer','OverLayerFindObject','iframe',')\x20connect','Shift','framesDropped','then','showlocation','Couldn\x27t\x20create\x20offer','Building','pcClient','FindObjectByPrefix','candidate','cfg','GetSelectedObject','SplitBuilding','IsPlayingSequence','Model3D','GetBuildingName','gid','websocket\x20closed','MainButton','Content-type','GetFloorDeviceNum','_onMouseWheel','_onWebRtcAnswer','_normalizeAndQuantizeUnsigned','indexOf','appendChild','invalid\x20SS\x20message\x20type:\x20','OverLayerRemoveObjects','lowFramerate','dcClient','bitrate','frameHeightStart','info','onMouse','ice\x20connection\x20state\x20change:','Bad\x20Request','PlaySequence','MouseButtonsMask','addEventListener','framesDecodedStart','_webRtcPlayerObj','includes','charCodeAt','Your\x20browser\x20doesn\x27t\x20support\x20WebSocket.','removeChild','avgframerate','frameWidth','Command','GetFloorRoomNames','LayerSelectObject','match','onkeydown','onDataChannelMessage','amd','onclose','avgBitrate','View3d','name','createOffer','PauseSequence','linestring','mediaType','decode','enableMouse','OpenMap','SetBuildingVisible','FlyToPosition','UpdateObjectVisibleByPrefix','SplitBuildingReset','offsetY','detail','send','iceCandidate','_onMouseDown','version','_callbackMouse','video','POST','ClearObjectStyle',')\x20closed','OverLayerStopEdit','url','DOMMouseScroll','onmessage','AltRight','setUint16','timestamp','close','你的浏览器不支持XMLHttp','_normalizeAndQuantizeSigned','GetFloorDeviceVisible','1.0.1','responseText','oniceconnectionstatechange','utf-16','data\x20channel\x20(','GetFloorName','StopSequence','SetMousePositionCallback','roll','_webRtcPlayerHtmlElement','_httpRequest','GetObjectsVisible','log','open','MessageType','Control'];const _0x4e09=function(_0x5bfb5f,_0x4e09fa){_0x5bfb5f=_0x5bfb5f-0x0;let _0x425154=_0x5bfb[_0x5bfb5f];return _0x425154;};(function(_0x5e3e51,_0x16fce4){if(typeof define==='function'&&define[_0x4e09('0xff')]){define([_0x4e09('0x41')],_0x16fce4);}else if(typeof exports===_0x4e09('0x5')){module['exports']=_0x16fce4(require(_0x4e09('0x41')));}else{_0x5e3e51[_0x4e09('0x36')]=_0x16fce4(_0x5e3e51['adapter']);}}(this,function(_0x599b76){function _0x24bbf9(_0x146fa8){_0x146fa8=_0x146fa8||{};var _0xca4c94=this;this[_0x4e09('0xd4')]=_0x146fa8['peerConnectionOptions']||{};this['cfg']['sdpSemantics']='unified-plan';this['pcClient']=null;this['dcClient']=null;this[_0x4e09('0xb9')]=null;this['sdpConstraints']={'offerToReceiveAudio':0x1,'offerToReceiveVideo':0x1};const _0x1482ab=window[_0x4e09('0x39')]['userAgent'][_0x4e09('0xfc')](/Chrom(e|ium)\/([0-9]+)\./);if(_0x1482ab){const _0x4a1d5c=parseInt(_0x1482ab[0x2],0xa);if(_0x4a1d5c>=0x59){this['cfg']['offerExtmapAllowMixed']=![];}}this['dataChannelOptions']={'ordered':!![]};createWebRtcVideo=function(){var _0x192e42=document['createElement']('video');_0x192e42['id']='streamingVideo';_0x192e42['playsInline']=!![];_0x192e42['addEventListener']('loadedmetadata',function(_0x34a361){if(_0xca4c94['onVideoInitialised']){_0xca4c94[_0x4e09('0x33')]();}},!![]);return _0x192e42;};this['video']=createWebRtcVideo();onsignalingstatechange=function(_0x1349d7){console[_0x4e09('0xea')](_0x4e09('0x50'),_0x1349d7);};oniceconnectionstatechange=function(_0x283055){console['info'](_0x4e09('0xec'),_0x283055);};onicegatheringstatechange=function(_0x826a92){console['info']('ice\x20gathering\x20state\x20change:',_0x826a92);};handleOnTrack=function(_0x4144b1){console[_0x4e09('0x131')]('handleOnTrack',_0x4144b1[_0x4e09('0x51')]);if(_0xca4c94['video']['srcObject']!==_0x4144b1[_0x4e09('0x51')][0x0]){console[_0x4e09('0x131')](_0x4e09('0xac'));_0xca4c94[_0x4e09('0x116')]['srcObject']=_0x4144b1['streams'][0x0];}};setupDataChannel=function(_0x1b3fd7,_0xafa229,_0x209640){try{var _0x1cb704=_0x1b3fd7['createDataChannel'](_0xafa229,_0x209640);console[_0x4e09('0x131')](_0x4e09('0x7a')+_0xafa229+')');_0x1cb704['onopen']=function(_0x22a521){console[_0x4e09('0x131')](_0x4e09('0x129')+_0xafa229+_0x4e09('0xca'));if(_0xca4c94['onDataChannelConnected']){_0xca4c94[_0x4e09('0x96')]();}};_0x1cb704[_0x4e09('0x100')]=function(_0x346d36){console[_0x4e09('0x131')](_0x4e09('0x129')+_0xafa229+_0x4e09('0x119'));};_0x1cb704[_0x4e09('0x11d')]=function(_0x5281e3){if(_0xca4c94[_0x4e09('0xfe')])_0xca4c94['onDataChannelMessage'](_0x5281e3['data']);};return _0x1cb704;}catch(_0xf6e698){console['warn'](_0x4e09('0x56'),_0xf6e698);return null;}};onicecandidate=function(_0x16b875){console['log']('ICE\x20candidate',_0x16b875);if(_0x16b875[_0x4e09('0xd3')]&&_0x16b875['candidate'][_0x4e09('0xd3')]){_0xca4c94['onWebRtcCandidate'](_0x16b875['candidate']);}};handleCreateOffer=function(_0x1f57ec){_0x1f57ec['createOffer'](_0xca4c94[_0x4e09('0x23')])[_0x4e09('0xcd')](function(_0x5d68d9){_0x1f57ec['setLocalDescription'](_0x5d68d9);if(_0xca4c94['onWebRtcOffer']){_0x5d68d9['sdp']=_0x5d68d9[_0x4e09('0x62')][_0x4e09('0x80')](/(a=fmtp:\d+ .*level-asymmetry-allowed=.*)\r\n/gm,'$1;x-google-start-bitrate=10000;x-google-max-bitrate=20000\x0d\x0a');_0xca4c94[_0x4e09('0x2b')](_0x5d68d9);}},function(){console['warn'](_0x4e09('0xcf'));});};setupPeerConnection=function(_0x34504d){if(_0x34504d['SetBitrate'])console['log']('Hurray!\x20there\x27s\x20RTCPeerConnection.SetBitrate\x20function');_0x34504d['onsignalingstatechange']=onsignalingstatechange;_0x34504d[_0x4e09('0x127')]=oniceconnectionstatechange;_0x34504d[_0x4e09('0xba')]=onicegatheringstatechange;_0x34504d['ontrack']=handleOnTrack;_0x34504d[_0x4e09('0x61')]=onicecandidate;};generateAggregatedStatsFunction=function(){if(!_0xca4c94['aggregatedStats'])_0xca4c94['aggregatedStats']={};return function(_0x5727c3){let _0x2194c4={};_0x5727c3[_0x4e09('0x77')](_0x22717a=>{if(_0x22717a['type']=='inbound-rtp'&&!_0x22717a['isRemote']&&(_0x22717a[_0x4e09('0x107')]=='video'||_0x22717a['id'][_0x4e09('0x30')]()[_0x4e09('0xf3')](_0x4e09('0x116')))){_0x2194c4[_0x4e09('0x120')]=_0x22717a[_0x4e09('0x120')];_0x2194c4[_0x4e09('0x3a')]=_0x22717a['bytesReceived'];_0x2194c4[_0x4e09('0x65')]=_0x22717a[_0x4e09('0x65')];_0x2194c4['packetsLost']=_0x22717a[_0x4e09('0x4d')];_0x2194c4['bytesReceivedStart']=_0xca4c94[_0x4e09('0x74')]&&_0xca4c94['aggregatedStats'][_0x4e09('0x1f')]?_0xca4c94['aggregatedStats']['bytesReceivedStart']:_0x22717a[_0x4e09('0x3a')];_0x2194c4['framesDecodedStart']=_0xca4c94['aggregatedStats']&&_0xca4c94[_0x4e09('0x74')][_0x4e09('0xf1')]?_0xca4c94['aggregatedStats'][_0x4e09('0xf1')]:_0x22717a[_0x4e09('0x65')];_0x2194c4[_0x4e09('0x42')]=_0xca4c94['aggregatedStats']&&_0xca4c94['aggregatedStats'][_0x4e09('0x42')]?_0xca4c94[_0x4e09('0x74')][_0x4e09('0x42')]:_0x22717a['timestamp'];if(_0xca4c94['aggregatedStats']&&_0xca4c94[_0x4e09('0x74')][_0x4e09('0x120')]){if(_0xca4c94[_0x4e09('0x74')][_0x4e09('0x3a')]){_0x2194c4['bitrate']=0x8*(_0x2194c4[_0x4e09('0x3a')]-_0xca4c94[_0x4e09('0x74')][_0x4e09('0x3a')])/(_0x2194c4['timestamp']-_0xca4c94['aggregatedStats'][_0x4e09('0x120')]);_0x2194c4['bitrate']=Math[_0x4e09('0x3')](_0x2194c4['bitrate']);_0x2194c4[_0x4e09('0x2c')]=_0xca4c94['aggregatedStats']['lowBitrate']&&_0xca4c94['aggregatedStats'][_0x4e09('0x2c')]<_0x2194c4[_0x4e09('0xe8')]?_0xca4c94[_0x4e09('0x74')]['lowBitrate']:_0x2194c4[_0x4e09('0xe8')];_0x2194c4['highBitrate']=_0xca4c94['aggregatedStats'][_0x4e09('0x11')]&&_0xca4c94['aggregatedStats'][_0x4e09('0x11')]>_0x2194c4['bitrate']?_0xca4c94[_0x4e09('0x74')][_0x4e09('0x11')]:_0x2194c4['bitrate'];}if(_0xca4c94['aggregatedStats']['bytesReceivedStart']){_0x2194c4['avgBitrate']=0x8*(_0x2194c4['bytesReceived']-_0xca4c94[_0x4e09('0x74')][_0x4e09('0x1f')])/(_0x2194c4[_0x4e09('0x120')]-_0xca4c94[_0x4e09('0x74')]['timestampStart']);_0x2194c4['avgBitrate']=Math['floor'](_0x2194c4[_0x4e09('0x101')]);}if(_0xca4c94['aggregatedStats'][_0x4e09('0x65')]){_0x2194c4[_0x4e09('0x69')]=(_0x2194c4[_0x4e09('0x65')]-_0xca4c94['aggregatedStats'][_0x4e09('0x65')])/((_0x2194c4[_0x4e09('0x120')]-_0xca4c94['aggregatedStats'][_0x4e09('0x120')])/0x3e8);_0x2194c4['framerate']=Math[_0x4e09('0x3')](_0x2194c4['framerate']);_0x2194c4[_0x4e09('0xe6')]=_0xca4c94[_0x4e09('0x74')][_0x4e09('0xe6')]&&_0xca4c94[_0x4e09('0x74')][_0x4e09('0xe6')]<_0x2194c4['framerate']?_0xca4c94[_0x4e09('0x74')][_0x4e09('0xe6')]:_0x2194c4['framerate'];_0x2194c4[_0x4e09('0xf')]=_0xca4c94[_0x4e09('0x74')][_0x4e09('0xf')]&&_0xca4c94['aggregatedStats']['highFramerate']>_0x2194c4[_0x4e09('0x69')]?_0xca4c94['aggregatedStats']['highFramerate']:_0x2194c4['framerate'];}if(_0xca4c94['aggregatedStats']['framesDecodedStart']){_0x2194c4[_0x4e09('0xf7')]=(_0x2194c4['framesDecoded']-_0xca4c94['aggregatedStats'][_0x4e09('0xf1')])/((_0x2194c4['timestamp']-_0xca4c94['aggregatedStats'][_0x4e09('0x42')])/0x3e8);_0x2194c4['avgframerate']=Math['floor'](_0x2194c4[_0x4e09('0xf7')]);}}}if(_0x22717a[_0x4e09('0xa')]==_0x4e09('0xa4')&&(_0x22717a[_0x4e09('0xaf')]==_0x4e09('0x9b')||_0x22717a['kind']==_0x4e09('0x116'))){_0x2194c4[_0x4e09('0xcc')]=_0x22717a[_0x4e09('0xcc')];_0x2194c4['framesReceived']=_0x22717a['framesReceived'];_0x2194c4['framesDroppedPercentage']=_0x22717a['framesDropped']/_0x22717a[_0x4e09('0xae')]*0x64;_0x2194c4['frameHeight']=_0x22717a[_0x4e09('0xb1')];_0x2194c4['frameWidth']=_0x22717a[_0x4e09('0xf8')];_0x2194c4['frameHeightStart']=_0xca4c94['aggregatedStats']&&_0xca4c94[_0x4e09('0x74')][_0x4e09('0xe9')]?_0xca4c94[_0x4e09('0x74')]['frameHeightStart']:_0x22717a[_0x4e09('0xb1')];_0x2194c4['frameWidthStart']=_0xca4c94[_0x4e09('0x74')]&&_0xca4c94[_0x4e09('0x74')][_0x4e09('0xbf')]?_0xca4c94['aggregatedStats'][_0x4e09('0xbf')]:_0x22717a['frameWidth'];}if(_0x22717a['type']=='candidate-pair'&&_0x22717a[_0x4e09('0x4f')](_0x4e09('0x3d'))&&_0x22717a[_0x4e09('0x3d')]!=0x0){_0x2194c4['currentRoundTripTime']=_0x22717a[_0x4e09('0x3d')];}});_0xca4c94['aggregatedStats']=_0x2194c4;if(_0xca4c94['onAggregatedStats'])_0xca4c94['onAggregatedStats'](_0x2194c4);};};this[_0x4e09('0x5d')]=function(_0x59d178){console[_0x4e09('0x131')]('ICE\x20candidate:\x20',_0x59d178);let _0x52b037=new RTCIceCandidate(_0x59d178);_0xca4c94[_0x4e09('0xd1')]['addIceCandidate'](_0x52b037)[_0x4e09('0xcd')](_0x3ad2f0=>{console['log']('ICE\x20candidate\x20successfully\x20added');});};this['createOffer']=function(){if(_0xca4c94['pcClient']){console['log'](_0x4e09('0x64'));_0xca4c94['pcClient'][_0x4e09('0x121')]();_0xca4c94[_0x4e09('0xd1')]=null;}_0xca4c94[_0x4e09('0xd1')]=new RTCPeerConnection(_0xca4c94['cfg']);setupPeerConnection(_0xca4c94['pcClient']);_0xca4c94[_0x4e09('0xe7')]=setupDataChannel(_0xca4c94[_0x4e09('0xd1')],_0x4e09('0xa1'),_0xca4c94['dataChannelOptions']);handleCreateOffer(_0xca4c94[_0x4e09('0xd1')]);};this['receiveAnswer']=function(_0x5bced3){var _0x37204c=new RTCSessionDescription(_0x5bced3);_0xca4c94[_0x4e09('0xd1')][_0x4e09('0x94')](_0x37204c);};this['close']=function(){if(_0xca4c94['pcClient']){console['log'](_0x4e09('0x58'));_0xca4c94['pcClient'][_0x4e09('0x121')]();_0xca4c94[_0x4e09('0xd1')]=null;}if(_0xca4c94[_0x4e09('0x86')])clearInterval(_0xca4c94['aggregateStatsIntervalId']);};this[_0x4e09('0x111')]=function(_0x23090c){if(_0xca4c94['dcClient']&&_0xca4c94['dcClient'][_0x4e09('0x35')]==_0x4e09('0x132')){_0xca4c94['dcClient'][_0x4e09('0x111')](_0x23090c);}};this['getStats']=function(_0x500798){if(_0xca4c94[_0x4e09('0xd1')]&&_0x500798){_0xca4c94['pcClient']['getStats'](null)[_0x4e09('0xcd')](_0x7a257f=>{_0x500798(_0x7a257f);});}};this['aggregateStats']=function(_0x4a8125){let _0xe78fcf=generateAggregatedStatsFunction();let _0x41901f=()=>{_0xca4c94['getStats'](_0xe78fcf);};_0xca4c94['aggregateStatsIntervalId']=setInterval(_0x41901f,_0x4a8125);};};return _0x24bbf9;}));_0x4e09('0x6f');var MapVision=window['MapVision']||{};MapVision[_0x4e09('0x114')]=()=>{return _0x4e09('0x125');};MapVision[_0x4e09('0x53')]={'Unknown':0x0,'Connected':0x1,'UnConnected':0x2};MapVision['Events']={'MouseEvents':0x1,'TouchEvents':0x2,'KeyboardEvents':0x3};MapVision['ToClientMessageType']={'QualityControlOwnership':0x0,'Response':0x1,'Command':0x2,'FreezeFrame':0x3,'UnfreezeFrame':0x4};MapVision[_0x4e09('0x133')]={'IFrameRequest':0x0,'RequestQualityControl':0x1,'MaxFpsRequest':0x2,'AverageBitrateRequest':0x3,'StartStreaming':0x4,'StopStreaming':0x5,'UIInteraction':0x32,'Command':0x33,'KeyDown':0x3c,'KeyUp':0x3d,'KeyPress':0x3e,'MouseEnter':0x46,'MouseLeave':0x47,'MouseDown':0x48,'MouseUp':0x49,'MouseMove':0x4a,'MouseWheel':0x4b,'TouchStart':0x50,'TouchEnd':0x51,'TouchMove':0x52};MapVision['MouseButton']={'MainButton':0x0,'AuxiliaryButton':0x1,'SecondaryButton':0x2,'FourthButton':0x3,'FifthButton':0x4};MapVision['MouseButtonsMask']={'PrimaryButton':0x1,'SecondaryButton':0x2,'AuxiliaryButton':0x4,'FourthButton':0x8,'FifthButton':0x10};MapVision[_0x4e09('0xbb')]={'Pan':0x0,'Select':0x1,'SelectPositionCallback':0x2,'SelectObjectCallback':0x3};MapVision['CommandType']={'SetParameters':0x186a0,'ScreenToWorld':0x186a1,'WorldToScreen':0x186a2,'SetResolution':0x186a4,'EnableKeyboard':0x186a5,'SetMapStatus':0x18704,'Stop':0x18705,'Clear':0x18706,'Rotate':0x18707,'GetHomePosition':0x18708,'ResetHome':0x18709,'GetCurrentPosition':0x1870a,'SetMouseCallback':0x1870b,'SetPosition':0x1870c,'FlyToPosition':0x1870d,'FlyToObject':0x1870e,'FlyToObjectById':0x18711,'SetMousePositionCallback':0x18712,'GetMaps':0x18718,'OpenMap':0x18719,'CreateObject':0x18769,'CreateRoute':0x1876a,'PlayRoute':0x1876d,'PauseRoute':0x1876e,'StopRoute':0x1876f,'ResumeRoute':0x18770,'PlaySequence':0x18773,'PauseSequence':0x18774,'IsPlayingSequence':0x18775,'IsPausedSequence':0x18776,'StopSequence':0x18777,'FindObjectById':0x18787,'FindObjectByName':0x18789,'FindObjectByPrefix':0x1878a,'GetSelectedObject':0x1878b,'UpdateObject':0x1878d,'UpdateObjectVisible':0x1878e,'UpdateObjectStyle':0x1878f,'UpdateObjectVisibleByPrefix':0x18790,'ClearObjectStyle':0x1879a,'GetObjectsVisible':0x187a5,'SetObjectsVisible':0x187a6,'SetObjectHighlight':0x187af,'SetObjectsHighlight':0x187b0,'SetObjectsHighlightByPrefix':0x187b1,'ClearHighlight':0x187b2,'GetBuildingNum':0x18831,'GetBuildingName':0x18832,'GetBuildingNames':0x18833,'GetBuildingVisible':0x18834,'SetBuildingVisible':0x18835,'SetBuildingWkVisible':0x18836,'ResetAllBuildings':0x18837,'SplitBuilding':0x18838,'SplitBuildingReset':0x18839,'GetFloorNum':0x1883b,'GetFloorName':0x1883c,'GetFloorNames':0x1883d,'GetFloorVisible':0x1883e,'SetFloorVisible':0x1883f,'GetUpFloorNum':0x18840,'GetUpFloorNames':0x18841,'GetDownFloorNum':0x18842,'GetDownFloorNames':0x18843,'GetFloorRoomNum':0x18845,'GetFloorRoomName':0x18846,'GetFloorRoomNames':0x18847,'GetFloorRoomVisible':0x18848,'SetFloorRoomVisible':0x18849,'GetFloorDeviceNum':0x1884f,'GetFloorDeviceName':0x18850,'GetFloorDeviceNames':0x18851,'GetFloorDeviceVisible':0x18852,'SetFloorDeviceVisible':0x18853,'SetGroundVisible':0x18895,'OverLayerStartEdit':0x188f9,'OverLayerStopEdit':0x188fa,'OverLayerSelectObjectEdit':0x188fb,'OverLayerFindObject':0x188fc,'OverLayerCreateObject':0x18903,'OverLayerUpdateObject':0x18904,'OverLayerRemoveObject':0x18905,'OverLayerRemoveAll':0x18906,'OverLayerRemoveAllCustom':0x18907,'OverLayerCreateObjects':0x18908,'OverLayerRemoveObjects':0x18909,'LayerLoad':0x18917,'LayerReLoad':0x18918,'LayersLoad':0x18919,'LayerSelectObject':0x1891b,'LayerRemove':0x1891c,'LayerSetVisible':0x1891d,'NorthControl':0x18a25,'PositionControl':0x18a26};MapVision[_0x4e09('0xc2')]=function(){this['x']=0x0;this['y']=0x0;};MapVision['Point']=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;};MapVision['Position']=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;this[_0x4e09('0x1b')]=0x0;this[_0x4e09('0x29')]=0x0;this[_0x4e09('0x12d')]=0x0;};MapVision[_0x4e09('0x2')]=function(){this[_0x4e09('0xa')]=_0x4e09('0x31');this['gid']=0x1;this[_0x4e09('0x103')]='';this[_0x4e09('0x49')]='';this[_0x4e09('0x13')]=new MapVision['Position']();};MapVision[_0x4e09('0xd8')]=function(){this['type']='model';this[_0x4e09('0xda')]=0x1;this[_0x4e09('0x103')]='';this[_0x4e09('0x49')]='';this[_0x4e09('0x13')]=new MapVision['Position']();};MapVision[_0x4e09('0x89')]=function(){this['type']=_0x4e09('0x106');this['gid']=0x1;this[_0x4e09('0x103')]='';this[_0x4e09('0x49')]='';this['geom']=[];};MapVision['Polygon']=function(){this['type']=_0x4e09('0x16');this['gid']=0x1;this[_0x4e09('0x103')]='';this[_0x4e09('0x49')]='';this[_0x4e09('0x22')]=[];};MapVision[_0x4e09('0xd0')]=function(){this[_0x4e09('0xa')]=_0x4e09('0x8');this['gid']=0x0;this['name']='';this['floors']=[{'type':'floor','gid':0x0,'name':''}];this['position']=new MapVision['Position']();};MapVision['WS_OPEN_STATE']=0x1;MapVision['View3d']=function(_0x4b9392){this['id']=_0x4b9392['id'];this['name']='MapVision.View3d';this[_0x4e09('0x11b')]=_0x4b9392['url'];this[_0x4e09('0x63')]=_0x4b9392['projectId'];this['token']=_0x4b9392['token'];this[_0x4e09('0xab')]=!![];this['enableMouse']=!![];this['_registerCallback']=null;this[_0x4e09('0x12e')]=null;this[_0x4e09('0xf2')]=null;this[_0x4e09('0x67')]=null;this['_callback']=null;this[_0x4e09('0x115')]=null;this[_0x4e09('0x4e')]=![];this[_0x4e09('0xb8')]=null;};MapVision[_0x4e09('0x102')][_0x4e09('0x91')]['Open']=function(_0x16d83c){let _0x388027=this;_0x388027['_registerCallback']=_0x16d83c;_0x388027['_callback']=null;if(_0x388027['id']==''||_0x388027['url']==''||_0x388027[_0x4e09('0x63')]==''){if(_0x388027[_0x4e09('0x66')]){const _0x263598={'code':0xc9,'msg':_0x4e09('0x4c')};_0x388027['_registerCallback'](_0x263598);}return;}window['WebSocket']=window[_0x4e09('0xc5')]||window[_0x4e09('0x8a')];if(!window[_0x4e09('0xc5')]){if(_0x388027['_registerCallback']){const _0x4b4d98={'code':0x1f9,'msg':_0x4e09('0xf5')};_0x388027['_registerCallback'](_0x4b4d98);}return;}const _0x42ab5b=_0x388027[_0x4e09('0x67')];if(_0x42ab5b){_0x42ab5b['close']();_0x388027[_0x4e09('0x67')]=undefined;console[_0x4e09('0x131')](_0x4e09('0x7b'));}const _0x3482e9={'httpUrl':_0x388027[_0x4e09('0x11b')]+'/project3d/getInfo?id='+_0x388027[_0x4e09('0x63')]+_0x4e09('0x45')+_0x388027['token'],'type':'get'};setTimeout(()=>{_0x388027[_0x4e09('0x12f')](_0x3482e9,function(_0x2d8ac9){if(_0x2d8ac9[_0x4e09('0x1')]&&_0x2d8ac9[_0x4e09('0x1')]===0xc8){const _0x928368=_0x2d8ac9['data'];if(_0x928368[_0x4e09('0x7f')]<0xa){console['log']('aimapvision3d\x20server\x20is\x20not\x20started.');if(_0x388027['_registerCallback']){const _0x427b9={'code':0x12c,'msg':_0x4e09('0x17')};_0x388027[_0x4e09('0x66')](_0x427b9);}return;}let _0x34b8d5=_0x388027['url']['replace']('http://','');const _0x272169=_0x34b8d5[_0x4e09('0xe2')](':',0x0);if(_0x272169>0x0)_0x34b8d5=_0x34b8d5[_0x4e09('0x15')](0x0,_0x272169);_0x34b8d5='ws://'+_0x34b8d5+':'+_0x928368['port'];_0x388027[_0x4e09('0xc')](_0x34b8d5);}else{console['log'](_0x2d8ac9);}},function(){if(_0x388027['_registerCallback']){const _0x44a324={'code':0x1f4,'msg':_0x4e09('0xed')};_0x388027[_0x4e09('0x66')](_0x44a324);}});},0x64);};MapVision[_0x4e09('0x102')][_0x4e09('0x91')][_0x4e09('0x2e')]=function(_0x38849d){this['_registerCallback']=_0x38849d;};MapVision[_0x4e09('0x102')][_0x4e09('0x91')][_0x4e09('0x88')]=function(){const _0x4a5226=this[_0x4e09('0x67')]===undefined;return _0x4a5226;};MapVision[_0x4e09('0x102')][_0x4e09('0x91')]['SetParameters']=function(_0x140071){this['_emiUICommand'](MapVision[_0x4e09('0x20')]['SetParameters'],_0x140071);};MapVision[_0x4e09('0x102')][_0x4e09('0x91')][_0x4e09('0x2f')]=function(_0x1653d0,_0x10b43a){this[_0x4e09('0x76')]=null;this['_emiUICommand'](MapVision[_0x4e09('0x20')][_0x4e09('0x2f')],{'width':_0x1653d0,'height':_0x10b43a});};MapVision['View3d']['prototype'][_0x4e09('0x73')]=function(_0x4f100b,_0x1acedf){if(_0x4f100b>MapVision['MapStatusType']['SELECTE'])this['_callback']=_0x1acedf;else this[_0x4e09('0x76')]=null;this['_emiUICommand'](MapVision[_0x4e09('0x20')][_0x4e09('0x73')],{'mapstatus':_0x4f100b});};MapVision[_0x4e09('0x102')]['prototype']['Clear']=function(){this[_0x4e09('0x76')]=null;this[_0x4e09('0x48')](MapVision[_0x4e09('0x20')][_0x4e09('0x97')]);};MapVision[_0x4e09('0x102')]['prototype']['Stop']=function(){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType'][_0x4e09('0x1a')]);};MapVision[_0x4e09('0x102')][_0x4e09('0x91')][_0x4e09('0x28')]=function(){this['_callback']=null;this[_0x4e09('0x48')](MapVision[_0x4e09('0x20')][_0x4e09('0x28')]);};MapVision['View3d'][_0x4e09('0x91')][_0x4e09('0x32')]=function(){this['_callback']=null;this['_emiUICommand'](MapVision[_0x4e09('0x20')]['Rotate']);};MapVision['View3d']['prototype'][_0x4e09('0x75')]=function(_0xe198e0){this['_callback']=null;this[_0x4e09('0x48')](MapVision['CommandType']['Rotate'],_0xe198e0);};MapVision[_0x4e09('0x102')][_0x4e09('0x91')][_0x4e09('0xb7')]=function(_0x217198){this[_0x4e09('0x76')]=_0x217198;this[_0x4e09('0x48')](MapVision[_0x4e09('0x20')][_0x4e09('0xb7')]);};MapVision[_0x4e09('0x102')]['prototype']['SetMouseCallback']=function(_0x2c3594){this['_callbackMouse']=_0x2c3594;this['_emiUICommand'](MapVision[_0x4e09('0x20')][_0x4e09('0x8c')]);};MapVision[_0x4e09('0x102')][_0x4e09('0x91')]['SetMousePositionCallback']=function(_0x12779f){this[_0x4e09('0x115')]=_0x12779f;this['_emiUICommand'](MapVision['CommandType'][_0x4e09('0x12c')]);};MapVision['View3d'][_0x4e09('0x91')][_0x4e09('0x10a')]=function(_0x537dc8){this[_0x4e09('0x48')](MapVision['CommandType'][_0x4e09('0x10a')],{'mapname':_0x537dc8});};MapVision['View3d']['prototype'][_0x4e09('0x93')]=function(_0x2a02e3){this[_0x4e09('0x76')]=_0x2a02e3;this['_emiUICommand'](MapVision[_0x4e09('0x20')][_0x4e09('0x93')]);};MapVision['View3d'][_0x4e09('0x91')]['SetPosition']=function(_0x4d03fb,_0x4d4c6b){this['_callback']=null;_0x4d03fb['showlocation']=_0x4d4c6b;this[_0x4e09('0x48')](MapVision['CommandType']['SetPosition'],_0x4d03fb);};MapVision[_0x4e09('0x102')]['prototype'][_0x4e09('0x10c')]=function(_0x21412f,_0x45585a,_0x1376ba){this[_0x4e09('0x76')]=null;_0x21412f[_0x4e09('0xce')]=_0x45585a;_0x21412f['speed']=_0x1376ba;this[_0x4e09('0x48')](MapVision[_0x4e09('0x20')]['FlyToPosition'],_0x21412f);};MapVision[_0x4e09('0x102')]['prototype']['FlyToObject']=function(_0x59deef,_0x48b2b2,_0x277a0b){this['_callback']=null;_0x59deef['showlocation']=_0x48b2b2;_0x59deef['speed']=_0x277a0b;this['_emiUICommand'](MapVision[_0x4e09('0x20')]['FlyToObject'],_0x59deef);};MapVision[_0x4e09('0x102')]['prototype'][_0x4e09('0xa3')]=function(_0x367d62,_0x62e7a0,_0x227351,_0x1b74fc,_0x2520b3){this[_0x4e09('0x76')]=null;this[_0x4e09('0x48')](MapVision[_0x4e09('0x20')]['FlyToObjectById'],{'gid':_0x367d62,'showlocation':_0x62e7a0,'distance':_0x1b74fc,'speed':_0x2520b3,'position':{'x':0x0,'y':0x0,'z':0x0,'pitch':_0x227351,'yaw':0x0,'roll':0x0}});};MapVision['View3d'][_0x4e09('0x91')][_0x4e09('0x7')]=function(_0x1caab7,_0x11189a){this[_0x4e09('0x76')]=_0x11189a;this[_0x4e09('0x48')](MapVision['CommandType'][_0x4e09('0x7')],{'gid':_0x1caab7});};MapVision[_0x4e09('0x102')]['prototype'][_0x4e09('0x40')]=function(_0xc25f0a,_0x105bff){this[_0x4e09('0x76')]=_0x105bff;this['_emiUICommand'](MapVision['CommandType']['FindObjectByName'],{'gid':_0xc25f0a,'name':_0xc25f0a});};MapVision['View3d'][_0x4e09('0x91')][_0x4e09('0xd2')]=function(_0x256262,_0x590e1a,_0x147ad6){this[_0x4e09('0x76')]=_0x147ad6;if(!_0x590e1a)_0x590e1a=0x14;this['_emiUICommand'](MapVision['CommandType']['FindObjectByPrefix'],{'gid':_0x256262,'limit':_0x590e1a});};MapVision['View3d']['prototype'][_0x4e09('0xd5')]=function(_0x41c7af){this[_0x4e09('0x76')]=_0x41c7af;this['_emiUICommand'](MapVision['CommandType'][_0x4e09('0xd5')]);};MapVision['View3d']['prototype']['UpdateObject']=function(_0x31ccd1){this[_0x4e09('0x76')]=null;this['_emiUICommand'](MapVision[_0x4e09('0x20')][_0x4e09('0x7e')],_0x31ccd1);};MapVision[_0x4e09('0x102')][_0x4e09('0x91')][_0x4e09('0x3e')]=function(_0x22774b,_0x5f1be6){this[_0x4e09('0x76')]=null;this[_0x4e09('0x48')](MapVision['CommandType']['UpdateObjectStyle'],{'gid':_0x22774b,'style':_0x5f1be6});};MapVision[_0x4e09('0x102')]['prototype'][_0x4e09('0x118')]=function(){this[_0x4e09('0x76')]=null;this[_0x4e09('0x48')](MapVision['CommandType']['ClearObjectStyle']);};MapVision[_0x4e09('0x102')][_0x4e09('0x91')][_0x4e09('0x130')]=function(_0x517c9a){this[_0x4e09('0x76')]=_0x517c9a;this[_0x4e09('0x48')](MapVision[_0x4e09('0x20')][_0x4e09('0x130')]);};MapVision['View3d'][_0x4e09('0x91')][_0x4e09('0x8f')]=function(_0x5e1c0b){this['_callback']=null;this['_emiUICommand'](MapVision[_0x4e09('0x20')][_0x4e09('0x8f')],{'objects':_0x5e1c0b});};MapVision[_0x4e09('0x102')]['prototype'][_0x4e09('0x57')]=function(_0x50db22){this['_callback']=null;this[_0x4e09('0x48')](MapVision[_0x4e09('0x20')]['SetObjectHighlight'],{'gid':_0x50db22});};MapVision['View3d']['prototype'][_0x4e09('0x84')]=function(_0x47e527){this[_0x4e09('0x76')]=null;this['_emiUICommand'](MapVision[_0x4e09('0x20')][_0x4e09('0x84')],{'objects':_0x47e527});};MapVision[_0x4e09('0x102')][_0x4e09('0x91')]['SetObjectsHighlightByPrefix']=function(_0x45c847){this['_callback']=null;this[_0x4e09('0x48')](MapVision[_0x4e09('0x20')][_0x4e09('0x1d')],{'prefix':_0x45c847});};MapVision[_0x4e09('0x102')]['prototype']['ClearHighlight']=function(){this['_callback']=null;this[_0x4e09('0x48')](MapVision['CommandType']['ClearHighlight']);};MapVision['View3d']['prototype']['UpdateObjectVisible']=function(_0x32743e,_0x4d7e81){this[_0x4e09('0x76')]=null;this[_0x4e09('0x48')](MapVision['CommandType']['UpdateObjectVisible'],{'gid':_0x32743e,'visible':_0x4d7e81});};MapVision['View3d'][_0x4e09('0x91')]['UpdateObjectVisibleByPrefix']=function(_0x543a58,_0x5987d9){this['_callback']=null;this[_0x4e09('0x48')](MapVision['CommandType'][_0x4e09('0x10d')],{'gid':_0x543a58,'visible':_0x5987d9});};MapVision['View3d'][_0x4e09('0x91')][_0x4e09('0x55')]=function(_0x5f5d13){this['_callback']=null;this[_0x4e09('0x48')](MapVision[_0x4e09('0x20')][_0x4e09('0x55')],_0x5f5d13);};MapVision[_0x4e09('0x102')]['prototype'][_0x4e09('0x38')]=function(_0xf5d8ba){this[_0x4e09('0x76')]=null;this[_0x4e09('0x48')](MapVision[_0x4e09('0x20')]['CreateRoute'],_0xf5d8ba);};MapVision[_0x4e09('0x102')][_0x4e09('0x91')][_0x4e09('0x5f')]=function(_0x59d98a){this[_0x4e09('0x76')]=null;this[_0x4e09('0x48')](MapVision[_0x4e09('0x20')][_0x4e09('0x5f')],_0x59d98a);};MapVision['View3d']['prototype']['PlayRoute']=function(_0x13ba29){this['_callback']=_0x13ba29;this['_emiUICommand'](MapVision[_0x4e09('0x20')][_0x4e09('0x95')]);};MapVision[_0x4e09('0x102')][_0x4e09('0x91')][_0x4e09('0x26')]=function(){this['_emiUICommand'](MapVision[_0x4e09('0x20')][_0x4e09('0x26')]);};MapVision['View3d']['prototype'][_0x4e09('0xb')]=function(){this[_0x4e09('0x76')]=null;this['_emiUICommand'](MapVision['CommandType']['StopRoute']);};MapVision[_0x4e09('0x102')]['prototype']['ResumeRoute']=function(){this[_0x4e09('0x48')](MapVision[_0x4e09('0x20')]['ResumeRoute']);};MapVision['View3d'][_0x4e09('0x91')][_0x4e09('0xee')]=function(_0x1aa080){this[_0x4e09('0x76')]=null;this['_emiUICommand'](MapVision[_0x4e09('0x20')]['PlaySequence'],{'gid':_0x1aa080});};MapVision[_0x4e09('0x102')][_0x4e09('0x91')][_0x4e09('0x105')]=function(_0x50768a){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType'][_0x4e09('0x105')],{'gid':_0x50768a});};MapVision['View3d']['prototype']['IsPlayingSequence']=function(_0x397fb0,_0x63c8fa){this[_0x4e09('0x76')]=_0x63c8fa;this[_0x4e09('0x48')](MapVision[_0x4e09('0x20')][_0x4e09('0xd7')],{'gid':_0x397fb0});};MapVision[_0x4e09('0x102')][_0x4e09('0x91')][_0x4e09('0x54')]=function(_0x225d76,_0x5e73cb){this['_callback']=_0x5e73cb;this[_0x4e09('0x48')](MapVision[_0x4e09('0x20')]['IsPausedSequence'],{'gid':_0x225d76});};MapVision['View3d']['prototype'][_0x4e09('0x12b')]=function(_0x559ddc,_0x1ecdeb){this['_callback']=null;this[_0x4e09('0x48')](MapVision[_0x4e09('0x20')]['StopSequence'],{'gid':_0x559ddc});};MapVision[_0x4e09('0x102')]['prototype']['GetBuildingNum']=function(_0x5be584){this[_0x4e09('0x76')]=_0x5be584;this['_emiUICommand'](MapVision['CommandType']['GetBuildingNum']);};MapVision[_0x4e09('0x102')][_0x4e09('0x91')][_0x4e09('0xd9')]=function(_0x217650,_0x211ac6){this[_0x4e09('0x76')]=_0x211ac6;this[_0x4e09('0x48')](MapVision[_0x4e09('0x20')]['GetBuildingName'],{'bindex':_0x217650});};MapVision['View3d'][_0x4e09('0x91')]['GetBuildingNames']=function(_0x27d8b7){this['_callback']=_0x27d8b7;this['_emiUICommand'](MapVision['CommandType']['GetBuildingNames']);};MapVision['View3d'][_0x4e09('0x91')]['GetBuildingVisible']=function(_0x3f7cca,_0x5665e9){this[_0x4e09('0x76')]=_0x5665e9;this['_emiUICommand'](MapVision[_0x4e09('0x20')][_0x4e09('0x43')],{'gid':_0x3f7cca});};MapVision[_0x4e09('0x102')]['prototype']['SetBuildingVisible']=function(_0x3b0dc8,_0x5b88d6,_0x5562bf){this[_0x4e09('0x48')](MapVision[_0x4e09('0x20')][_0x4e09('0x10b')],{'gid':_0x3b0dc8,'visible':_0x5b88d6,'opacity':_0x5562bf});};MapVision[_0x4e09('0x102')]['prototype']['SetBuildingWkVisible']=function(_0x3f2532,_0x3d0bc0,_0xd30de7){this['_emiUICommand'](MapVision[_0x4e09('0x20')]['SetBuildingWkVisible'],{'gid':_0x3f2532,'visible':_0x3d0bc0,'opacity':_0xd30de7});};MapVision['View3d']['prototype']['ResetAllBuildings']=function(){this['_emiUICommand'](MapVision[_0x4e09('0x20')][_0x4e09('0xb5')]);};MapVision[_0x4e09('0x102')]['prototype']['SplitBuilding']=function(_0x104a4d,_0x137daa){this['_emiUICommand'](MapVision['CommandType'][_0x4e09('0xd6')],{'gid':_0x104a4d,'height':_0x137daa});};MapVision['View3d']['prototype']['SplitBuildingReset']=function(_0x4a3c2e){this['_emiUICommand'](MapVision['CommandType'][_0x4e09('0x10e')],{'gid':_0x4a3c2e});};MapVision[_0x4e09('0x102')][_0x4e09('0x91')][_0x4e09('0x87')]=function(_0x445aaa,_0x5352be){this['_callback']=_0x5352be;this[_0x4e09('0x48')](MapVision[_0x4e09('0x20')]['GetFloorNum'],{'gid':_0x445aaa});};MapVision[_0x4e09('0x102')]['prototype'][_0x4e09('0x12a')]=function(_0x57bba1,_0x23fb50){this[_0x4e09('0x76')]=_0x23fb50;this['_emiUICommand'](MapVision[_0x4e09('0x20')][_0x4e09('0x4a')],{'gid':_0x57bba1});};MapVision[_0x4e09('0x102')][_0x4e09('0x91')][_0x4e09('0x4a')]=function(_0x202d1b,_0x1e9c92){this['_callback']=_0x1e9c92;this['_emiUICommand'](MapVision[_0x4e09('0x20')]['GetFloorNames'],{'gid':_0x202d1b});};MapVision[_0x4e09('0x102')]['prototype']['GetFloorVisible']=function(_0x3abe2a,_0x1f67dc,_0x5c835f){this[_0x4e09('0x76')]=_0x5c835f;this[_0x4e09('0x48')](MapVision['CommandType']['GetFloorVisible'],{'gid':_0x3abe2a,'floor':_0x1f67dc});};MapVision['View3d'][_0x4e09('0x91')]['SetFloorVisible']=function(_0x3c88e8,_0x3c4f39,_0x536fb4,_0x4c1a03){if(!_0x536fb4)_0x536fb4=![];if(!_0x4c1a03)_0x4c1a03=0x0;this['_emiUICommand'](MapVision['CommandType'][_0x4e09('0x7d')],{'gid':_0x3c88e8,'floor':_0x3c4f39,'visible':_0x536fb4,'opacity':_0x4c1a03});};MapVision[_0x4e09('0x102')]['prototype']['GetUpFloorNum']=function(_0x2e5d93,_0x2f399b,_0x5c2fb3){this[_0x4e09('0x76')]=_0x5c2fb3;this[_0x4e09('0x48')](MapVision['CommandType'][_0x4e09('0x8d')],{'gid':_0x2e5d93,'floor':_0x2f399b});};MapVision['View3d']['prototype'][_0x4e09('0x4')]=function(_0x138816,_0x1a6e14,_0x25e057){this['_callback']=_0x25e057;this[_0x4e09('0x48')](MapVision[_0x4e09('0x20')][_0x4e09('0x4')],{'gid':_0x138816,'floor':_0x1a6e14});};MapVision['View3d'][_0x4e09('0x91')]['GetDownFloorNum']=function(_0x395266,_0x13938d,_0x34f59d){this['_callback']=_0x34f59d;this['_emiUICommand'](MapVision[_0x4e09('0x20')][_0x4e09('0x6c')],{'gid':_0x395266,'floor':_0x13938d});};MapVision['View3d']['prototype']['GetDownFloorNames']=function(_0x1aaf76,_0x227050,_0x38dbcc){this[_0x4e09('0x76')]=_0x38dbcc;this[_0x4e09('0x48')](MapVision[_0x4e09('0x20')]['GetDownFloorNames'],{'gid':_0x1aaf76,'floor':_0x227050});};MapVision['View3d'][_0x4e09('0x91')]['GetFloorRoomNum']=function(_0xe9661b,_0x1445a6,_0x1e8417){this['_callback']=_0x1e8417;this['_emiUICommand'](MapVision['CommandType'][_0x4e09('0x14')],{'gid':_0xe9661b,'floor':_0x1445a6});};MapVision[_0x4e09('0x102')][_0x4e09('0x91')]['GetFloorRoomName']=function(_0x4d6665,_0x57f37f,_0x596db8){this[_0x4e09('0x76')]=_0x596db8;this[_0x4e09('0x48')](MapVision['CommandType'][_0x4e09('0xfa')],{'gid':_0x4d6665,'floor':_0x57f37f});};MapVision[_0x4e09('0x102')][_0x4e09('0x91')]['GetFloorRoomNames']=function(_0xfc2d35,_0x957dbd,_0x3b5f6c){this['_callback']=_0x3b5f6c;this['_emiUICommand'](MapVision['CommandType'][_0x4e09('0xfa')],{'gid':_0xfc2d35,'floor':_0x957dbd});};MapVision[_0x4e09('0x102')]['prototype']['GetFloorRoomVisible']=function(_0x126934,_0x18c53a,_0x2f90da,_0x2f9f4e){this[_0x4e09('0x76')]=_0x2f9f4e;this['_emiUICommand'](MapVision[_0x4e09('0x20')][_0x4e09('0x37')],{'gid':_0x126934,'floor':_0x18c53a,'room':_0x2f90da});};MapVision['View3d'][_0x4e09('0x91')][_0x4e09('0x24')]=function(_0xa96355,_0x4cb4cf,_0x3076ab,_0x47e5f6,_0x1f32ab){if(!_0x47e5f6)_0x47e5f6=![];if(!_0x1f32ab)_0x1f32ab=0x0;this[_0x4e09('0x48')](MapVision[_0x4e09('0x20')][_0x4e09('0x24')],{'gid':_0xa96355,'floor':_0x4cb4cf,'room':_0x3076ab,'visible':_0x47e5f6,'opacity':_0x1f32ab});};MapVision[_0x4e09('0x102')]['prototype']['GetFloorDeviceNum']=function(_0x1df8dd,_0x2788a3,_0x3be6ab){this['_callback']=_0x3be6ab;this[_0x4e09('0x48')](MapVision[_0x4e09('0x20')][_0x4e09('0xde')],{'gid':_0x1df8dd,'floor':_0x2788a3});};MapVision[_0x4e09('0x102')][_0x4e09('0x91')][_0x4e09('0xa0')]=function(_0x4b350a,_0x480838,_0x538284){this[_0x4e09('0x76')]=_0x538284;this[_0x4e09('0x48')](MapVision['CommandType']['GetFloorDeviceNames'],{'gid':_0x4b350a,'floor':_0x480838});};MapVision['View3d']['prototype']['GetFloorDeviceNames']=function(_0x1046e9,_0x200231,_0x264a15){this[_0x4e09('0x76')]=_0x264a15;this[_0x4e09('0x48')](MapVision['CommandType']['GetFloorDeviceNames'],{'gid':_0x1046e9,'floor':_0x200231});};MapVision['View3d'][_0x4e09('0x91')][_0x4e09('0x124')]=function(_0x15fcbe,_0xbaf4d2,_0x14ff4c,_0x4509aa){this[_0x4e09('0x76')]=_0x4509aa;this['_emiUICommand'](MapVision[_0x4e09('0x20')][_0x4e09('0x124')],{'gid':_0x15fcbe,'floor':_0xbaf4d2,'device':_0x14ff4c});};MapVision['View3d']['prototype']['SetFloorDeviceVisible']=function(_0x574aaf,_0x513cc1,_0x36c20d,_0x3dfea6,_0x222ca1){if(!_0x3dfea6)_0x3dfea6=![];if(!_0x222ca1)_0x222ca1=0x0;this[_0x4e09('0x48')](MapVision[_0x4e09('0x20')][_0x4e09('0x12')],{'gid':_0x574aaf,'floor':_0x513cc1,'device':_0x36c20d,'visible':_0x3dfea6,'opacity':_0x222ca1});};MapVision['View3d'][_0x4e09('0x91')]['SetGroundVisible']=function(_0x1714d9){this[_0x4e09('0x48')](MapVision['CommandType']['SetGroundVisible'],{'visible':_0x1714d9});};MapVision[_0x4e09('0x102')]['prototype']['OverLayerStartEdit']=function(_0x538ba3,_0x3cac41){this['_callback']=_0x3cac41;this[_0x4e09('0x48')](MapVision[_0x4e09('0x20')]['OverLayerStartEdit'],_0x538ba3);};MapVision['View3d']['prototype']['OverLayerStopEdit']=function(){this[_0x4e09('0x76')]=null;this[_0x4e09('0x48')](MapVision[_0x4e09('0x20')][_0x4e09('0x11a')]);};MapVision[_0x4e09('0x102')]['prototype'][_0x4e09('0x83')]=function(_0x7aac1b){this[_0x4e09('0x76')]=_0x7aac1b;this['_emiUICommand'](MapVision[_0x4e09('0x20')]['OverLayerSelectObjectEdit']);};MapVision['View3d']['prototype'][_0x4e09('0xc8')]=function(_0x1e13a9,_0x56c248){this['_callback']=_0x56c248;this[_0x4e09('0x48')](MapVision['CommandType']['OverLayerFindObject'],{'name':_0x1e13a9});};MapVision['View3d'][_0x4e09('0x91')]['OverLayerCreateObject']=function(_0x1a87ed,_0x1407f8){this['_callback']=_0x1407f8;this['_emiUICommand'](MapVision[_0x4e09('0x20')]['OverLayerCreateObject'],_0x1a87ed);};MapVision['View3d']['prototype']['OverLayerCreateObjects']=function(_0x10a4d2,_0x3db924){this[_0x4e09('0x76')]=_0x3db924;this['_emiUICommand'](MapVision['CommandType'][_0x4e09('0x47')],{'shapes':_0x10a4d2});};MapVision['View3d']['prototype']['OverLayerUpdateObject']=function(_0xe2b16c){this[_0x4e09('0x48')](MapVision[_0x4e09('0x20')][_0x4e09('0xa7')],_0xe2b16c);};MapVision['View3d'][_0x4e09('0x91')][_0x4e09('0x9f')]=function(_0xe26f5a){this['_emiUICommand'](MapVision['CommandType'][_0x4e09('0x9f')],_0xe26f5a);};MapVision['View3d'][_0x4e09('0x91')][_0x4e09('0x2a')]=function(_0x9bbd){this['_emiUICommand'](MapVision['CommandType']['OverLayerRemoveObject'],{'gid':_0x9bbd});};MapVision[_0x4e09('0x102')][_0x4e09('0x91')]['OverLayerRemoveObjectsById']=function(_0x7a892c){this[_0x4e09('0x48')](MapVision['CommandType'][_0x4e09('0xe5')],{'ids':_0x7a892c});};MapVision['View3d'][_0x4e09('0x91')][_0x4e09('0x3b')]=function(_0x3c76a9){if(_0x3c76a9){this['_emiUICommand'](MapVision['CommandType'][_0x4e09('0x7c')],{'types':_0x3c76a9});}else{this['_emiUICommand'](MapVision['CommandType'][_0x4e09('0x3b')]);}};MapVision['View3d']['prototype'][_0x4e09('0x0')]=function(_0x5201c0,_0x539d44){this['_callback']=_0x539d44;this[_0x4e09('0x48')](MapVision['CommandType']['LayerLoad'],_0x5201c0);};MapVision[_0x4e09('0x102')]['prototype']['LayerReLoad']=function(_0x37f9b2,_0x3e75e1){this[_0x4e09('0x76')]=_0x3e75e1;this['_emiUICommand'](MapVision[_0x4e09('0x20')]['LayerReLoad'],_0x37f9b2);};MapVision['View3d'][_0x4e09('0x91')]['LayersLoad']=function(_0xf2ace,_0x21c8b5){this[_0x4e09('0x76')]=_0x21c8b5;this[_0x4e09('0x48')](MapVision['CommandType']['LayersLoad'],{'layers':_0xf2ace});};MapVision['View3d']['prototype'][_0x4e09('0xfb')]=function(_0x2e7e8b,_0x101f43){this[_0x4e09('0x76')]=_0x101f43;this[_0x4e09('0x48')](MapVision['CommandType'][_0x4e09('0xfb')],{'gid':_0x2e7e8b});};MapVision['View3d']['prototype']['LayerRemove']=function(_0x1fe91a){this['_emiUICommand'](MapVision['CommandType']['LayerRemove'],{'gid':_0x1fe91a});};MapVision['View3d'][_0x4e09('0x91')]['LayerSetVisible']=function(_0x35dd2f,_0x362cbc){this['_emiUICommand'](MapVision[_0x4e09('0x20')][_0x4e09('0x71')],{'gid':_0x35dd2f,'visible':_0x362cbc});};MapVision['View3d']['prototype'][_0x4e09('0x9a')]=function(_0x1aa861,_0x55ecb3,_0x23f0e9,_0x20dbf4){this['_emiUICommand'](MapVision[_0x4e09('0x20')][_0x4e09('0x72')],{'visible':_0x1aa861,'x':_0x55ecb3,'y':_0x23f0e9,'scale':_0x20dbf4});};MapVision['View3d']['prototype']['_connectWebsocket']=function(_0x52f27a){let _0x8ba84a=this;_0x8ba84a[_0x4e09('0x67')]=new WebSocket(_0x52f27a);_0x8ba84a['_webSocket']['onmessage']=function(_0x1d77b5){var _0x2b288c=JSON[_0x4e09('0x9d')](_0x1d77b5['data']);if(_0x2b288c['type']===_0x4e09('0x6a')){_0x8ba84a[_0x4e09('0xc7')](_0x8ba84a['id'],_0x2b288c);}else if(_0x2b288c['type']==='playerCount'){}else if(_0x2b288c['type']==='answer'){_0x8ba84a['_onWebRtcAnswer'](_0x2b288c);}else if(_0x2b288c[_0x4e09('0xa')]===_0x4e09('0x112')){_0x8ba84a[_0x4e09('0x6')](_0x2b288c[_0x4e09('0xd3')]);}else{console[_0x4e09('0x131')](_0x4e09('0xe4')+_0x2b288c[_0x4e09('0xa')]);}};_0x8ba84a['_webSocket'][_0x4e09('0x60')]=function(_0x35cb08){console[_0x4e09('0x131')](_0x4e09('0xbd')+JSON[_0x4e09('0x44')](_0x35cb08));if(_0x8ba84a['_registerCallback']){const _0x1477f3={'code':0x64,'msg':_0x4e09('0x52')};_0x8ba84a['_registerCallback'](_0x1477f3);}};_0x8ba84a['_webSocket']['onclose']=function(_0x244949){console['log'](_0x4e09('0xa8')+JSON['stringify'](_0x244949['code'])+'\x20-\x20'+_0x244949['reason']);_0x8ba84a[_0x4e09('0x67')]=undefined;let _0x404191=document['getElementById'](_0x8ba84a['id']);if(_0x8ba84a['_webRtcPlayerObj']){_0x404191[_0x4e09('0xf6')](_0x8ba84a[_0x4e09('0xf2')]['video']);_0x8ba84a['_webRtcPlayerObj'][_0x4e09('0x121')]();_0x8ba84a[_0x4e09('0xf2')]=undefined;}if(_0x8ba84a[_0x4e09('0x66')]){const _0x289d4d={'code':0x190,'msg':_0x4e09('0xdb')};_0x8ba84a[_0x4e09('0x66')](_0x289d4d);}};};MapVision[_0x4e09('0x102')]['prototype'][_0x4e09('0xb0')]=function(_0x54905e){let _0x4b8f18=this;_0x54905e['onmousemove']=_0x4d464e=>{if(!_0x4b8f18['enableMouse']){return;}_0x4b8f18['_onMouseMove'](_0x4d464e[_0x4e09('0x81')],_0x4d464e['offsetY'],_0x4d464e[_0x4e09('0x3f')],_0x4d464e['movementY']);_0x4d464e[_0x4e09('0xe')]();};_0x54905e['onmousedown']=_0x4b2e0d=>{_0x4b8f18['_mouseDownStatus']=!![];if(!_0x4b8f18['enableMouse']){return;}_0x4b8f18['_onMouseDown'](_0x4b2e0d['button'],_0x4b2e0d[_0x4e09('0x81')],_0x4b2e0d[_0x4e09('0x10f')]);_0x4b2e0d['preventDefault']();};_0x54905e['onmouseup']=_0x3e53a4=>{_0x4b8f18[_0x4e09('0x4e')]=![];if(!_0x4b8f18['enableMouse']){return;}_0x4b8f18[_0x4e09('0x4b')](_0x3e53a4[_0x4e09('0x25')],_0x3e53a4[_0x4e09('0x81')],_0x3e53a4['offsetY']);_0x3e53a4['preventDefault']();};_0x54905e['oncontextmenu']=_0x274570=>{if(!_0x4b8f18[_0x4e09('0x109')]){return;}_0x4b8f18['_onMouseUp'](_0x274570[_0x4e09('0x25')],_0x274570[_0x4e09('0x81')],_0x274570['offsetY']);_0x274570['preventDefault']();};if(_0x4e09('0xbc')in _0x54905e){_0x54905e['onmousewheel']=_0xcb53dc=>{if(!_0x4b8f18['enableMouse']){return;}_0x4b8f18['_onMouseWheel'](_0xcb53dc[_0x4e09('0x1c')],_0xcb53dc[_0x4e09('0x81')],_0xcb53dc['offsetY']);_0xcb53dc['preventDefault']();};}else{_0x54905e[_0x4e09('0xf0')](_0x4e09('0x11c'),_0x1c0b0b=>{if(!_0x4b8f18['enableMouse']){return;}_0x4b8f18['_onMouseWheel'](_0x1c0b0b[_0x4e09('0x110')]*-0x78,_0x1c0b0b[_0x4e09('0x81')],_0x1c0b0b[_0x4e09('0x10f')]);_0x1c0b0b['preventDefault']();},![]);}_0x54905e['pressMouseButtons']=_0x292252=>{if(!_0x4b8f18[_0x4e09('0x109')]){return;}_0x4b8f18['_pressMouseButtons'](_0x292252['buttons'],_0x292252['offsetX'],_0x292252['offsetY']);};_0x54905e[_0x4e09('0xc0')]=_0x36e670=>{if(!_0x4b8f18[_0x4e09('0x109')]){return;}_0x4b8f18[_0x4e09('0x5c')](_0x36e670['buttons'],_0x36e670['offsetX'],_0x36e670[_0x4e09('0x10f')]);};_0x54905e['onmouseenter']=_0x201b1c=>{if(!_0x4b8f18['enableMouse']){return;}var _0x4d19dc=new DataView(new ArrayBuffer(0x1));_0x4d19dc[_0x4e09('0xa9')](0x0,MapVision['MessageType']['MouseEnter']);_0x4b8f18['_sendInputData'](_0x4d19dc['buffer']);_0x54905e[_0x4e09('0x1e')](_0x201b1c);};_0x54905e[_0x4e09('0xc3')]=_0x46ef2d=>{if(!_0x4b8f18[_0x4e09('0x109')]){return;}var _0x69c8da=new DataView(new ArrayBuffer(0x1));_0x69c8da[_0x4e09('0xa9')](0x0,MapVision['MessageType']['MouseLeave']);_0x4b8f18[_0x4e09('0x85')](_0x69c8da[_0x4e09('0x5e')]);_0x54905e['releaseMouseButtons'](_0x46ef2d);};};MapVision['View3d']['prototype'][_0x4e09('0x6b')]=function(_0x1312ce){};MapVision['View3d'][_0x4e09('0x91')][_0x4e09('0xa6')]=function(){let _0xe2a75f=this;const _0x12ebfa={'BackSpace':0x8,'Shift':0x10,'Control':0x11,'Alt':0x12,'RightShift':0xfd,'RightControl':0xfe,'RightAlt':0xff};function _0xa6f94c(_0x38554d){if(_0x38554d[_0x4e09('0x98')]===_0x12ebfa[_0x4e09('0xcb')]&&_0x38554d[_0x4e09('0x1')]===_0x4e09('0xbe'))return _0x12ebfa['RightShift'];else if(_0x38554d[_0x4e09('0x98')]===_0x12ebfa[_0x4e09('0x134')]&&_0x38554d[_0x4e09('0x1')]===_0x4e09('0x27'))return _0x12ebfa['RightControl'];else if(_0x38554d[_0x4e09('0x98')]===_0x12ebfa['Alt']&&_0x38554d[_0x4e09('0x1')]===_0x4e09('0x11e'))return _0x12ebfa['RightAlt'];else return _0x38554d['keyCode'];};function _0x23bfba(_0x313111){return!(_0x313111['keyCode']==0x1b||_0x313111[_0x4e09('0x98')]==0x74||_0x313111['keyCode']==0xde||_0x313111['keyCode']==0xba||_0x313111['keyCode']==0xbc||_0x313111[_0x4e09('0xa5')]&&_0x313111['keyCode']==0x52);};var _0x5c518b=document['getElementsByTagName'](_0x4e09('0xc9'));var _0x17f8d5=null;if(_0x5c518b&&_0x5c518b[_0x4e09('0x70')]>0x0){_0x17f8d5=_0x5c518b[0x0];alert(_0x17f8d5['name']);}else{_0x17f8d5=document;}_0x17f8d5[_0x4e09('0xfd')]=_0x5b0dc3=>{if(!_0xe2a75f['enableKeyboard']){return;}if(_0x23bfba(_0x5b0dc3)==![]){_0x5b0dc3['preventDefault']();return;}_0xe2a75f['_sendInputData'](new Uint8Array([MapVision[_0x4e09('0x133')]['KeyDown'],_0xa6f94c(_0x5b0dc3),_0x5b0dc3['repeat']])[_0x4e09('0x5e')]);if(_0x5b0dc3['keyCode']===_0x12ebfa[_0x4e09('0x9')]){_0x17f8d5[_0x4e09('0xd')]({'charCode':_0x12ebfa['BackSpace']});}};_0x17f8d5['onkeyup']=_0x205251=>{if(!_0xe2a75f['enableKeyboard']){return;}if(_0x23bfba(_0x205251)==![]){_0x205251[_0x4e09('0xe')]();return;}_0xe2a75f['_sendInputData'](new Uint8Array([MapVision['MessageType'][_0x4e09('0x9c')],_0xa6f94c(_0x205251)])[_0x4e09('0x5e')]);};_0x17f8d5['onkeypress']=_0x48fbcc=>{if(!_0xe2a75f['enableKeyboard']){return;}if(_0x23bfba(_0x48fbcc)==![]){_0x48fbcc['preventDefault']();return;}let _0x11e064=new DataView(new ArrayBuffer(0x3));_0x11e064[_0x4e09('0xa9')](0x0,MapVision[_0x4e09('0x133')][_0x4e09('0xc1')]);_0x11e064['setUint16'](0x1,_0x48fbcc['charCode'],!![]);_0xe2a75f[_0x4e09('0x85')](_0x11e064[_0x4e09('0x5e')]);};};MapVision['View3d'][_0x4e09('0x91')][_0x4e09('0xc7')]=function(_0x3714e6,_0x1a07dc){let _0x591226=this;if(_0x591226[_0x4e09('0xf2')]){if(_0x591226[_0x4e09('0xf2')]['video']){_0x591226['_webRtcPlayerObj']['video']['focus']();}return;}_0x591226['_webRtcPlayerHtmlElement']=document[_0x4e09('0x2d')](_0x3714e6);_0x591226['_webRtcPlayerObj']=new webRtcPlayer({'peerConnectionOptions':_0x1a07dc['peerConnectionOptions']});let _0x4bc3e2=_0x591226[_0x4e09('0x12e')];_0x4bc3e2[_0x4e09('0xe3')](_0x591226['_webRtcPlayerObj']['video']);_0x591226['_webRtcPlayerObj']['onWebRtcOffer']=function(_0x1d5cef){if(_0x591226[_0x4e09('0x67')]&&_0x591226[_0x4e09('0x67')][_0x4e09('0x35')]===MapVision[_0x4e09('0x78')]){let _0x1909a1=JSON[_0x4e09('0x44')](_0x1d5cef);_0x591226['_webSocket'][_0x4e09('0x111')](_0x1909a1);}};_0x591226['_webRtcPlayerObj']['onWebRtcCandidate']=function(_0x5062f0){if(_0x591226[_0x4e09('0x67')]&&_0x591226['_webSocket'][_0x4e09('0x35')]===MapVision[_0x4e09('0x78')]){console['log'](_0x4e09('0xc6')+JSON['stringify'](_0x5062f0,undefined,0x4));_0x591226[_0x4e09('0x67')][_0x4e09('0x111')](JSON['stringify']({'type':_0x4e09('0x112'),'candidate':_0x5062f0}));}};_0x591226[_0x4e09('0xf2')]['onVideoInitialised']=function(){if(_0x591226[_0x4e09('0x67')]&&_0x591226['_webSocket']['readyState']===MapVision['WS_OPEN_STATE']){if(_0x591226[_0x4e09('0xf2')]){var _0x341e31=new Uint8Array([MapVision[_0x4e09('0x99')]['RequestQualityControl']])['buffer'];console['log'](_0x4e09('0x6e')+_0x341e31);_0x591226[_0x4e09('0xf2')][_0x4e09('0x111')](_0x341e31);_0x591226[_0x4e09('0xf2')]['video']['muted']=!![];_0x591226[_0x4e09('0xf2')]['video']['play']();}}};_0x591226[_0x4e09('0xf2')]['onDataChannelConnected']=function(){if(_0x591226[_0x4e09('0x67')]&&_0x591226[_0x4e09('0x67')]['readyState']===MapVision[_0x4e09('0x78')]){if(_0x591226['_registerCallback']){const _0x1034c2={'code':0xc8,'msg':'websocket\x20connected'};_0x591226['_registerCallback'](_0x1034c2);}}};_0x591226[_0x4e09('0xf2')][_0x4e09('0xfe')]=function(_0x4cf106){var _0xf0e215=new Uint8Array(_0x4cf106);var _0x51658b=_0xf0e215[0x0];if(_0x51658b===MapVision['ToClientMessageType']['QualityControlOwnership']){let _0x23ef03=new TextDecoder(_0x4e09('0x128'))[_0x4e09('0x108')](_0x4cf106['slice'](0x1));console['log']('->\x20SS:\x20QualityControlOwnership:\x0a'+_0x23ef03);}else if(_0x51658b===MapVision['ToClientMessageType']['Response']){let _0x49eead=new TextDecoder('utf-16')['decode'](_0x4cf106[_0x4e09('0x3c')](0x1));let _0x295b54=JSON['parse'](_0x49eead);if(_0x591226[_0x4e09('0x115')]&&(_0x591226[_0x4e09('0xb8')]===MapVision[_0x4e09('0x20')][_0x4e09('0x8c')]||_0x591226[_0x4e09('0xb8')]===MapVision['CommandType']['SetMousePositionCallback']||_0x295b54&&_0x295b54[_0x4e09('0xeb')])){_0x591226['_callbackMouse'](JSON[_0x4e09('0x9d')](_0x49eead));}else if(_0x591226[_0x4e09('0x76')]){_0x591226['_callback'](_0x295b54);}}else if(_0x51658b===MapVision[_0x4e09('0x99')][_0x4e09('0xf9')]){let _0x1c39a6=new TextDecoder('utf-16')[_0x4e09('0x108')](_0x4cf106[_0x4e09('0x3c')](0x1));console['log'](_0x4e09('0x6d')+_0x1c39a6);}else if(_0x51658b===MapVision[_0x4e09('0x99')]['FreezeFrame']){let _0x315ec5=new TextDecoder('utf-16')[_0x4e09('0x108')](_0x4cf106[_0x4e09('0x3c')](0x1));console[_0x4e09('0x131')]('->\x20SS:\x20FreezeFrame:\x0a'+_0x315ec5);}else if(_0x51658b===MapVision[_0x4e09('0x99')][_0x4e09('0x9e')]){let _0x47222f=new TextDecoder(_0x4e09('0x128'))[_0x4e09('0x108')](_0x4cf106[_0x4e09('0x3c')](0x1));console[_0x4e09('0x131')](_0x4e09('0x18')+_0x47222f);}};_0x591226['_registerMouseEvents'](_0x4bc3e2);_0x591226['_registerTouchEvents'](_0x4bc3e2);_0x591226[_0x4e09('0xa6')](_0x4bc3e2);_0x591226['_webRtcPlayerObj'][_0x4e09('0x104')]();};MapVision['View3d']['prototype']['_sendInputData']=function(_0x2f7128){if(this[_0x4e09('0xf2')]){this['_webRtcPlayerObj']['send'](_0x2f7128);}};MapVision[_0x4e09('0x102')]['prototype'][_0x4e09('0x21')]=function(_0x8316f4,_0x442cc3){let _0x529bbf=JSON['stringify'](_0x442cc3);let _0x2e2515=new DataView(new ArrayBuffer(0x1+0x2+0x2*_0x529bbf[_0x4e09('0x70')]));let _0x10d66c=0x0;_0x2e2515['setUint8'](_0x10d66c,_0x8316f4);_0x10d66c++;_0x2e2515[_0x4e09('0x11f')](_0x10d66c,_0x529bbf['length'],!![]);_0x10d66c+=0x2;for(i=0x0;i<_0x529bbf['length'];i++){_0x2e2515[_0x4e09('0x11f')](_0x10d66c,_0x529bbf[_0x4e09('0xf4')](i),!![]);_0x10d66c+=0x2;}this[_0x4e09('0x85')](_0x2e2515['buffer']);};MapVision[_0x4e09('0x102')][_0x4e09('0x91')][_0x4e09('0x48')]=function(_0x49707e,_0x2d744f){this['_command']=_0x49707e;const _0x4ce522={'cmd':_0x49707e,'data':_0x2d744f};this[_0x4e09('0x21')](MapVision['MessageType'][_0x4e09('0xb6')],_0x4ce522);};MapVision[_0x4e09('0x102')][_0x4e09('0x91')]['_onMouseMove']=function(_0x4258eb,_0xf89ba,_0x5a7db1,_0x3cd349){let _0x142dee=this;if(!_0x142dee[_0x4e09('0x67')]){return;}let _0x3efb5a=_0x142dee['_normalizeAndQuantizeUnsigned'](_0x4258eb,_0xf89ba);let _0xfcf4b8=_0x142dee[_0x4e09('0x123')](_0x5a7db1,_0x3cd349);var _0x2c5531=new DataView(new ArrayBuffer(0x9));_0x2c5531['setUint8'](0x0,MapVision['MessageType'][_0x4e09('0x68')]);_0x2c5531[_0x4e09('0x11f')](0x1,_0x3efb5a['x'],!![]);_0x2c5531['setUint16'](0x3,_0x3efb5a['y'],!![]);_0x2c5531[_0x4e09('0x46')](0x5,_0xfcf4b8['x'],!![]);_0x2c5531['setInt16'](0x7,_0xfcf4b8['y'],!![]);_0x142dee[_0x4e09('0x85')](_0x2c5531[_0x4e09('0x5e')]);};MapVision['View3d'][_0x4e09('0x91')][_0x4e09('0x113')]=function(_0x2d68ea,_0x4198d4,_0x3d3efe){let _0x4b71c4=this;if(!_0x4b71c4[_0x4e09('0x67')]){return;}let _0x3169b1=_0x4b71c4['_normalizeAndQuantizeUnsigned'](_0x4198d4,_0x3d3efe);var _0x2f91db=new DataView(new ArrayBuffer(0x6));_0x2f91db['setUint8'](0x0,MapVision[_0x4e09('0x133')]['MouseDown']);_0x2f91db['setUint8'](0x1,_0x2d68ea);_0x2f91db[_0x4e09('0x11f')](0x2,_0x3169b1['x'],!![]);_0x2f91db[_0x4e09('0x11f')](0x4,_0x3169b1['y'],!![]);_0x4b71c4['_sendInputData'](_0x2f91db[_0x4e09('0x5e')]);};MapVision['View3d'][_0x4e09('0x91')][_0x4e09('0x4b')]=function(_0x21f67e,_0x26abca,_0x3b3ea3){let _0x2d3112=this;if(!_0x2d3112[_0x4e09('0x67')]){return;}let _0x525007=_0x2d3112['_normalizeAndQuantizeUnsigned'](_0x26abca,_0x3b3ea3);var _0x15c795=new DataView(new ArrayBuffer(0x6));_0x15c795['setUint8'](0x0,MapVision[_0x4e09('0x133')][_0x4e09('0xc4')]);_0x15c795['setUint8'](0x1,_0x21f67e);_0x15c795['setUint16'](0x2,_0x525007['x'],!![]);_0x15c795[_0x4e09('0x11f')](0x4,_0x525007['y'],!![]);_0x2d3112[_0x4e09('0x85')](_0x15c795['buffer']);};MapVision['View3d']['prototype'][_0x4e09('0xdf')]=function(_0x50f96c,_0x55d1c2,_0x52c10a){let _0x5b254b=this;if(!_0x5b254b[_0x4e09('0x67')]){return;}let _0x4c1495=_0x5b254b[_0x4e09('0xe1')](_0x55d1c2,_0x52c10a);var _0x21ebe8=new DataView(new ArrayBuffer(0x7));_0x21ebe8['setUint8'](0x0,MapVision['MessageType'][_0x4e09('0xb4')]);_0x21ebe8[_0x4e09('0x46')](0x1,_0x50f96c,!![]);_0x21ebe8['setUint16'](0x3,_0x4c1495['x'],!![]);_0x21ebe8[_0x4e09('0x11f')](0x5,_0x4c1495['y'],!![]);_0x5b254b['_sendInputData'](_0x21ebe8['buffer']);};MapVision['View3d'][_0x4e09('0x91')]['_releaseMouseButtons']=function(_0x39cd2d,_0x5f310a,_0x422dda){if(_0x39cd2d&MapVision[_0x4e09('0xef')][_0x4e09('0xb3')]){this['_onMouseUp'](MapVision[_0x4e09('0xa2')][_0x4e09('0xdc')],_0x5f310a,_0x422dda);}if(_0x39cd2d&MapVision[_0x4e09('0xef')][_0x4e09('0xb2')]){this[_0x4e09('0x4b')](MapVision['MouseButton'][_0x4e09('0xb2')],_0x5f310a,_0x422dda);}if(_0x39cd2d&MapVision['MouseButtonsMask'][_0x4e09('0xad')]){this['_onMouseUp'](MapVision['MouseButton'][_0x4e09('0xad')],_0x5f310a,_0x422dda);}if(_0x39cd2d&MapVision['MouseButtonsMask'][_0x4e09('0x90')]){this[_0x4e09('0x4b')](MapVision['MouseButton'][_0x4e09('0x90')],_0x5f310a,_0x422dda);}if(_0x39cd2d&MapVision['MouseButtonsMask']['FifthButton']){this[_0x4e09('0x4b')](MapVision[_0x4e09('0xa2')][_0x4e09('0x59')],_0x5f310a,_0x422dda);}};MapVision[_0x4e09('0x102')][_0x4e09('0x91')]['_pressMouseButtons']=function(_0x40be6f,_0x5baec0,_0x462ecc){if(_0x40be6f&MapVision['MouseButtonsMask'][_0x4e09('0xb3')]){this['_onMouseDown'](MapVision[_0x4e09('0xa2')][_0x4e09('0xdc')],_0x5baec0,_0x462ecc);}if(_0x40be6f&MapVision['MouseButtonsMask'][_0x4e09('0xb2')]){this['_onMouseDown'](MapVision['MouseButton'][_0x4e09('0xb2')],_0x5baec0,_0x462ecc);}if(_0x40be6f&MapVision['MouseButtonsMask'][_0x4e09('0xad')]){this['_onMouseDown'](MapVision['MouseButton'][_0x4e09('0xad')],_0x5baec0,_0x462ecc);}if(_0x40be6f&MapVision[_0x4e09('0xef')][_0x4e09('0x90')]){this[_0x4e09('0x113')](MapVision['MouseButton'][_0x4e09('0x90')],_0x5baec0,_0x462ecc);}if(_0x40be6f&MapVision[_0x4e09('0xef')][_0x4e09('0x59')]){this['_onMouseDown'](MapVision[_0x4e09('0xa2')]['FifthButton'],_0x5baec0,_0x462ecc);}};MapVision['View3d']['prototype']['_normalizeAndQuantizeUnsigned']=function(_0x5766f3,_0x46a6e3){let _0x38d567=this;if(!_0x38d567['_webSocket']){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x2fd3df=_0x38d567[_0x4e09('0x12e')];let _0x1bc59a=_0x38d567['_webRtcPlayerObj'][_0x4e09('0x116')];let _0x4e3adc=_0x2fd3df['clientHeight']/_0x2fd3df['clientWidth'];let _0x5a521f=_0x1bc59a['videoHeight']/_0x1bc59a[_0x4e09('0x8e')];if(_0x4e3adc>_0x5a521f){let _0x5486a7=_0x4e3adc/_0x5a521f;let _0x2aac4f=_0x5766f3/_0x2fd3df['clientWidth'];let _0x3c72d4=_0x5486a7*(_0x46a6e3/_0x2fd3df['clientHeight']-0.5)+0.5;if(_0x2aac4f<0x0||_0x2aac4f>0x1||_0x3c72d4<0x0||_0x3c72d4>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x2aac4f*0x10000,'y':_0x3c72d4*0x10000};}}else{let _0x5ad563=_0x5a521f/_0x4e3adc;let _0x376535=_0x5ad563*(_0x5766f3/_0x2fd3df['clientWidth']-0.5)+0.5;let _0x3eb3dd=_0x46a6e3/_0x2fd3df['clientHeight'];if(_0x376535<0x0||_0x376535>0x1||_0x3eb3dd<0x0||_0x3eb3dd>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x376535*0x10000,'y':_0x3eb3dd*0x10000};}}};MapVision['View3d'][_0x4e09('0x91')]['_normalizeAndQuantizeSigned']=function(_0x15ec0e,_0x1f6132){let _0x258f87=this;if(!_0x258f87[_0x4e09('0x67')]){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x557fc0=_0x258f87['_webRtcPlayerHtmlElement'];let _0x202e4c=_0x258f87[_0x4e09('0xf2')]['video'];let _0x1200c9=_0x557fc0[_0x4e09('0x82')]/_0x557fc0[_0x4e09('0x8b')];let _0x55d403=_0x202e4c[_0x4e09('0x79')]/_0x202e4c[_0x4e09('0x8e')];if(_0x1200c9>_0x55d403){let _0x11b1f9=_0x1200c9/_0x55d403;let _0x483bad=_0x15ec0e/(0.5*_0x557fc0[_0x4e09('0x8b')]);let _0x440dce=_0x11b1f9*_0x1f6132/(0.5*_0x557fc0[_0x4e09('0x82')]);return{'x':_0x483bad*0x7fff,'y':_0x440dce*0x7fff};}else{let _0x569a8a=_0x55d403/_0x1200c9;let _0x5a1865=_0x569a8a*_0x15ec0e/(0.5*_0x557fc0['clientWidth']);let _0x48fcb7=_0x1f6132/(0.5*_0x557fc0['clientHeight']);return{'x':_0x5a1865*0x7fff,'y':_0x48fcb7*0x7fff};}};MapVision[_0x4e09('0x102')][_0x4e09('0x91')]['_unquantizeAndDenormalizeUnsigned']=function(_0x14d43d,_0x1d72e1){let _0x5e9e9c=this;if(!_0x5e9e9c[_0x4e09('0x67')]){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x3cd571=_0x5e9e9c[_0x4e09('0x12e')];let _0x4ca364=_0x5e9e9c['_webRtcPlayerObj']['video'];let _0x3cf1ff=_0x3cd571[_0x4e09('0x82')]/_0x3cd571['clientWidth'];let _0x1c58fa=_0x4ca364['videoHeight']/_0x4ca364[_0x4e09('0x8e')];if(_0x3cf1ff>_0x1c58fa){let _0x5d2732=_0x3cf1ff/_0x1c58fa;let _0x587116=_0x14d43d/0x10000;let _0x1d1897=(_0x1d72e1/0x10000-0.5)/_0x5d2732+0.5;return{'x':_0x587116*_0x3cd571[_0x4e09('0x8b')],'y':_0x1d1897*_0x3cd571[_0x4e09('0x82')]};}else{let _0x3031a9=(_0x14d43d/0x10000-0.5)/ratio+0.5;let _0x49f2a3=_0x1d72e1/0x10000;return{'x':_0x3031a9*_0x3cd571[_0x4e09('0x8b')],'y':_0x49f2a3*_0x3cd571[_0x4e09('0x82')]};}};MapVision['View3d']['prototype'][_0x4e09('0xe0')]=function(_0x1e70d0){this[_0x4e09('0xf2')]['receiveAnswer'](_0x1e70d0);this['_webRtcPlayerObj']['onAggregatedStats']=_0x2c12ac=>{};this[_0x4e09('0xf2')][_0x4e09('0x34')](0x1*0x3e8);};MapVision['View3d'][_0x4e09('0x91')]['_onWebRtcIce']=function(_0x41aa77){if(this[_0x4e09('0xf2')])this['_webRtcPlayerObj']['handleCandidateFromServer'](_0x41aa77);};MapVision['View3d']['prototype']['_httpRequest']=function(_0x44876a,_0x226839,_0x9c3bf6){var _0x52cf40=null;if(window[_0x4e09('0x5b')]){_0x52cf40=new XMLHttpRequest();}else if(window[_0x4e09('0xaa')]){_0x52cf40=new ActiveXObject('Microsoft.XMLHTTP');}if(_0x52cf40==null){alert(_0x4e09('0x122'));return;}var _0x1380d2=(_0x44876a['type']||'GET')['toUpperCase']();var _0x170b54=_0x44876a[_0x4e09('0x92')]||'json';var _0x51dd99=_0x44876a['httpUrl']||'';var _0xda3479=_0x44876a[_0x4e09('0x19')]||!![];var _0x3663f8=_0x44876a['data']||[];var _0x4457de='';for(var _0x10d1f3 in _0x3663f8){_0x4457de+=_0x10d1f3+'='+_0x3663f8[_0x10d1f3]+'&';}_0x4457de=_0x4457de==''?'':_0x4457de[_0x4e09('0x15')](0x0,_0x4457de[_0x4e09('0x70')]-0x1);console['log'](_0x4457de);_0x52cf40[_0x4e09('0x5a')]=function(){if(_0x52cf40[_0x4e09('0x35')]==0x4&&_0x52cf40['status']==0xc8){var _0x28824b=JSON[_0x4e09('0x9d')](_0x52cf40[_0x4e09('0x126')]);_0x226839(_0x28824b);}else{_0x9c3bf6;}};if(_0x1380d2==_0x4e09('0x10')){_0x52cf40[_0x4e09('0x132')](_0x4e09('0x10'),_0x51dd99,_0xda3479);_0x52cf40['send'](null);}else if(_0x1380d2==_0x4e09('0x117')){_0x52cf40['open']('POST',_0x51dd99,_0xda3479);_0x52cf40['setRequestHeader'](_0x4e09('0xdd'),'application/x-www-form-urlencoded');_0x52cf40['send'](_0x4457de);}};