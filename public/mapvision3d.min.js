const _0xd8b7=['PauseRoute','hostname','getTracks','LineString','OverLayerCreateObjects','SetParameters','OverLayerRemoveObjectsById','UEReceiptTimeMs','Position','createOffer','ICE\x20candidate\x20successfully\x20added','AuxiliaryButton','oncontextmenu','TransmissionTimeMs','highBitrate','speed','utf-16','dataChannelOptions','SplitBuilding','GetHomePosition','_registerKeyboardEvents','_registerMouseEvents','StreamVideoOpen','IsPausedSequence','stringify','play','FourthButton','SetScenceSunInfo','onWebRtcCandidate','StopRoute','Close','tnClient','error','PreEncodeTimeMs','aimapvision3d\x20server\x20is\x20not\x20started.','OverLayerFindObject','createDataChannel','position','_webSocket','PauseSequence','onVideoInitialised','GET','GetFloorRoomName','WS_OPEN_STATE','onmousewheel','LayerReLoad','type','video','showlocation','send','addIceCandidate','prototype','ShiftRight','ICE\x20candidate','ClearObjectStyle','SetNorthControl','_connectWebsocket','OnAllLatencyTimingsReady','onkeydown','playsInline','exports','avgBitrate','token','buttons','PlaySequence','floor','onAggregatedStats','GetBuildingNames','MouseEnter','log','async','linestring','1.0.1','webRtcPlayer','_command','GetFloorRoomVisible','FifthButton','receiveToCompositeMs','StreamVideoClose','PlayRoute','Content-type','UEPostEncodeTimeMs','bytesReceived','cirrus','FrameDisplayDeltaTimeMs','OverLayerStopEdit','dcClient','FindObjectByName','SetBuildingVisible','_onMouseSelectedObj','info','ClearHighlight','sdp','onmouseup','parse','pitch','_onMouseUp','onMouse','PostEncodeTimeMs','SetBuildingWkVisible','GetDownFloorNum','Closing\x20existing\x20PeerConnection','localhost','SetMousePositionCallback','_onMouseUpCallback','onicegatheringstatechange','enableMouse','httpUrl','arraybuffer','Closing\x20existing\x20peerClient','loadedmetadata','onclose','useinbandfec=1','SetFloorRoomVisible','playerCount','_onMouseDown','_unquantizeAndDenormalizeUnsigned','frameHeight','OverLayerCreateObject','_mouseDownStatus','UpdateObjectVisible','ToClientMessageType','code','StreamVideoCloseAll','videoWidth','onkeypress','projectId','->\x20SS:\x20QualityControlOwnership:\x0a','_webRtcPlayerObj','_normalizeAndQuantizeUnsigned','LayerSelectObject','appendChild','default','audio','recvonly','_unregisterEvents','button','OverLayerStartEdit','aggregateStatsIntervalId','label','BackSpace','_sendInputData','candidate-pair','SetMouseCallback','releaseMouseButtons','http:','_onMouseMoveCallback','frameWidthStart','MouseButtonsMask','decode','->\x20SS:\x20UnfreezeFrame:\x0a','_requestQualityControl','getReceivers','GetScrrenPosition','removeChild','roll','error\x20_webRtcPlayerObj\x20is\x20null','currentRoundTripTime','timestamp','substring','style','detail','replace','playoutDelayHint','onDataChannelConnected','expectedDisplayTime','\x20-\x20','ontrack','Building','websocket\x20closed','invalid\x20SS\x20message\x20type:\x20','_emitDescriptor','MapVision.View3d','_callbackMouse','_onMouseMove','ResumeRoute','UEPreEncodeTimeMs','readyState','port','CommandType','framesReceived','UEPreCaptureTimeMs','///','startLatencyTest','candidate','IsClose','onmousemove','streams','onmouseenter','packetsLost','offsetY','frameWidth','->\x20SS:\x20iceCandidate\x0a','OpenStatus','json','Clear','Created\x20new\x20audio\x20element\x20to\x20play\x20seperate\x20audio\x20stream.','TestStartTimeMs','_onWebRtcAnswer','kind','onDataChannelMessage','_registerTouchEvents','framesDecodedStart','enableKeyboard','/project3d/getInfo?id=','Hurray!\x20there\x27s\x20RTCPeerConnection.SetBitrate\x20function','_callback','oniceconnectionstatechange','SetBitrate','GetBuildingName','_webRtcPlayerHtmlElement','adapter','MessageType','GetFloorDeviceVisible','GetDownFloorNames','UETransmissionTimeMs','bitrate','ctrlKey','Bad\x20Request','WebSocket','_httpRequest','getUserMedia','View3d','GetBuildingVisible','GetBuildingNum','get','requestVideoFrameCallback','avgframerate','responseText','CreateRoute','offsetX','RegisterEvent','GetScenceSunInfo','clientHeight','FlyToObjectById','Rotate','UpdateObjectVisibleByPrefix','FlyToPosition','ResetHome','OverLayerRemoveObjects','onkeyup','StartRoute','movementY','UpdateObjectStyle','SetResolution','ResetAllBuildings','this._webSocket\x20error:\x20','useMic','version','http://','GetUpFloorNum','keyCode','_requestInitialSettings','RightAlt','lowFramerate','finally','Microphone\x20access\x20in\x20the\x20browser\x20will\x20not\x20work\x20if\x20you\x20are\x20not\x20on\x20HTTPS\x20or\x20localhost.\x20Disabling\x20mic\x20access.','round','cfg','clientWidth','polygon','presentationTime','FlyToObject','framesDropped','/aimapvision3d','framesDecoded','timestampStart','ws://','SetFloorVisible','url','sdpConstraints','disablepictureinpicture','_onMouseDownCallback','MapStatusType','https:','GetFloorDeviceNames','pcClient','iceCandidate','onWebRtcOffer','gid','charCodeAt','open','_emiUICommand','UnRegisterEvent','srcObject','search','toUpperCase',')\x20connect','FindObjectByPrefix','SetPosition','GetFloorRoomNames','_registerCallback','track','GetSelectedObject','latencyTestTimings','GetFloorRoomNum','SecondaryButton','onicecandidate','GetFloorDeviceName','LayerRemove','muted','GetFloorVisible','name','highFramerate',')\x20closed','SplitDynamicBuilding','onmouseleave','OverLayerSelectObjectEdit','framerate','preventDefault','MouseUp','autoplay','handleCandidateFromServer','OverLayerUpdateObject','then','aggregatedStats','receiveTime','setUint8','MouseButton','frameHeightStart','bytesReceivedStart','OverLayerRemoveObjectById','trackIdentifier','POST','visibility','setUint16','_releaseMouseButtons','MouseWheel','signaling\x20state\x20change:','UpdateObject','slice','GetFloorNames','KeyUp','onmousedown','./adapter','repeat','GetFloorName','receiveAnswer','amd','SetGroundVisible','_onWebRtcIce','XMLHttpRequest','length','getStats','buffer','SplitBuildingReset','_onMouseWheel','close'];const _0x4501=function(_0xd8b7e4,_0x450151){_0xd8b7e4=_0xd8b7e4-0x0;let _0x42f5fc=_0xd8b7[_0xd8b7e4];return _0x42f5fc;};(function(_0x3223a4,_0x24ccc1){if(typeof define==='function'&&define[_0x4501('0x152')]){define(['./adapter'],_0x24ccc1);}else if(typeof exports==='object'){module[_0x4501('0x3c')]=_0x24ccc1(require(_0x4501('0x14e')));}else{_0x3223a4[_0x4501('0x49')]=_0x24ccc1(_0x3223a4[_0x4501('0xd3')]);}}(this,function(_0x52eb77){function _0x28688d(_0x59d653){_0x59d653=_0x59d653||{};var _0x5354de=this;this['cfg']=_0x59d653['peerConnectionOptions']||{};this[_0x4501('0x102')]['sdpSemantics']='unified-plan';this[_0x4501('0x102')]['offerExtmapAllowMixed']=![];this['pcClient']=null;this['dcClient']=null;this[_0x4501('0x1f')]=null;this['sdpConstraints']={'offerToReceiveAudio':0x1,'offerToReceiveVideo':0x1,'voiceActivityDetection':![]};this['dataChannelOptions']={'ordered':!![]};const _0x451086=new URLSearchParams(window['location'][_0x4501('0x11d')]);this['useMic']=_0x451086['has'](_0x4501('0xf7'));if(!this['useMic']){console[_0x4501('0x45')]('Microphone\x20access\x20is\x20not\x20enabled.\x20Pass\x20?useMic\x20in\x20the\x20url\x20to\x20enable\x20it.');}let _0x2f4e9d=location[_0x4501('0x1')]===_0x4501('0x66')||location[_0x4501('0x1')]==='127.0.0.1';let _0x1ec7f5=location['protocol']===_0x4501('0x112');if(this['useMic']&&!_0x2f4e9d&&!_0x1ec7f5){this[_0x4501('0xf7')]=![];console['error'](_0x4501('0x100'));console[_0x4501('0x20')]('For\x20testing\x20you\x20can\x20enable\x20HTTP\x20microphone\x20access\x20Chrome\x20by\x20visiting\x20chrome://flags/\x20and\x20enabling\x20\x27unsafely-treat-insecure-origin-as-secure\x27');}this['latencyTestTimings']={'TestStartTimeMs':null,'UEReceiptTimeMs':null,'UEPreCaptureTimeMs':null,'UEPostCaptureTimeMs':null,'UEPreEncodeTimeMs':null,'UEPostEncodeTimeMs':null,'UETransmissionTimeMs':null,'BrowserReceiptTimeMs':null,'FrameDisplayDeltaTimeMs':null,'Reset':function(){this['TestStartTimeMs']=null;this[_0x4501('0x7')]=null;this['UEPreCaptureTimeMs']=null;this['UEPostCaptureTimeMs']=null;this[_0x4501('0xb0')]=null;this[_0x4501('0x51')]=null;this['UETransmissionTimeMs']=null;this['BrowserReceiptTimeMs']=null;this[_0x4501('0x54')]=null;},'SetUETimings':function(_0x43d7e3){this[_0x4501('0x7')]=_0x43d7e3['ReceiptTimeMs'];this[_0x4501('0xb5')]=_0x43d7e3['PreCaptureTimeMs'];this['UEPostCaptureTimeMs']=_0x43d7e3['PostCaptureTimeMs'];this['UEPreEncodeTimeMs']=_0x43d7e3[_0x4501('0x21')];this[_0x4501('0x51')]=_0x43d7e3[_0x4501('0x62')];this[_0x4501('0xd7')]=_0x43d7e3[_0x4501('0xd')];this['BrowserReceiptTimeMs']=Date['now']();this['OnAllLatencyTimingsReady'](this);},'SetFrameDisplayDeltaTime':function(_0x3be1cc){if(this['FrameDisplayDeltaTimeMs']==null){this['FrameDisplayDeltaTimeMs']=Math[_0x4501('0x101')](_0x3be1cc);this[_0x4501('0x39')](this);}},'OnAllLatencyTimingsReady':function(_0x15bccd){}};createWebRtcVideo=function(){var _0x1af11e=document['createElement'](_0x4501('0x2f'));_0x1af11e['id']='streamingVideo';_0x1af11e[_0x4501('0x3b')]=!![];_0x1af11e[_0x4501('0x10f')]=!![];_0x1af11e['muted']=![];_0x1af11e['addEventListener'](_0x4501('0x6e'),function(_0x407752){if(_0x5354de['onVideoInitialised']){_0x5354de['onVideoInitialised']();}},!![]);if(_0x4501('0xe2')in HTMLVideoElement['prototype']){const _0x10ab47=(_0x4d78da,_0x588706)=>{if(_0x588706[_0x4501('0x13c')]&&_0x588706[_0x4501('0xa5')]){const _0x490650=_0x588706[_0x4501('0x105')]-_0x588706['receiveTime'];_0x5354de[_0x4501('0x13b')][_0x4501('0x4d')]=_0x490650;}_0x1af11e['requestVideoFrameCallback'](_0x10ab47);};_0x1af11e[_0x4501('0xe2')](_0x10ab47);}return _0x1af11e;};this['video']=createWebRtcVideo();onsignalingstatechange=function(_0x458ebd){console[_0x4501('0x5a')](_0x4501('0x148'),_0x458ebd);};oniceconnectionstatechange=function(_0x28adda){console[_0x4501('0x5a')]('ice\x20connection\x20state\x20change:',_0x28adda);};onicegatheringstatechange=function(_0x415cb4){console['info']('ice\x20gathering\x20state\x20change:',_0x415cb4);};handleOnTrack=function(_0x4b904c){if(_0x4b904c['track']){}if(_0x4b904c[_0x4501('0x124')][_0x4501('0xc7')]=='audio'){handleOnAudioTrack(_0x4b904c[_0x4501('0xbb')][0x0]);return;}else _0x4b904c['track'][_0x4501('0xc7')]=='video'&&_0x5354de['video']['srcObject']!==_0x4b904c['streams'][0x0];{_0x5354de['video']['srcObject']=_0x4b904c['streams'][0x0];return;}};handleOnAudioTrack=function(_0x2336b4){if(_0x5354de[_0x4501('0x2f')][_0x4501('0x11c')]==_0x2336b4){return;}else if(_0x5354de[_0x4501('0x2f')]['srcObject']&&_0x5354de[_0x4501('0x2f')]['srcObject']!==_0x2336b4){let _0x4e66a9=document['createElement']('Audio');_0x4e66a9[_0x4501('0x137')]=!![];_0x4e66a9['srcObject']=_0x2336b4;_0x4e66a9[_0x4501('0x19')]();console['log'](_0x4501('0xc4'));}};setupDataChannel=function(_0x343d0b,_0x3e5192,_0x4e681c){try{let _0x49af90=_0x343d0b[_0x4501('0x24')](_0x3e5192,_0x4e681c);console['log']('Created\x20datachannel\x20('+_0x3e5192+')');_0x49af90['binaryType']=_0x4501('0x6c');_0x49af90['onopen']=function(_0x1d3c99){console[_0x4501('0x45')]('data\x20channel\x20('+_0x3e5192+_0x4501('0x11f'));if(_0x5354de[_0x4501('0xa4')]){_0x5354de['onDataChannelConnected']();}};_0x49af90[_0x4501('0x6f')]=function(_0x311317){console['log']('data\x20channel\x20('+_0x3e5192+_0x4501('0x130'));};_0x49af90['onmessage']=function(_0x485214){if(_0x5354de[_0x4501('0xc8')])_0x5354de[_0x4501('0xc8')](_0x485214['data']);};return _0x49af90;}catch(_0x27ec18){console['warn']('No\x20data\x20channel',_0x27ec18);return null;}};onicecandidate=function(_0x41b686){console[_0x4501('0x45')](_0x4501('0x35'),_0x41b686);if(_0x41b686[_0x4501('0xb8')]&&_0x41b686[_0x4501('0xb8')]['candidate']){_0x5354de['onWebRtcCandidate'](_0x41b686['candidate']);}};handleCreateOffer=function(_0x5b5864){_0x5b5864[_0x4501('0x9')](_0x5354de[_0x4501('0x10e')])[_0x4501('0x13a')](function(_0x482864){mungeSDPOffer(_0x482864);_0x5b5864['setLocalDescription'](_0x482864);if(_0x5354de['onWebRtcOffer']){_0x5354de['onWebRtcOffer'](_0x482864);}},function(){console['warn']('Couldn\x27t\x20create\x20offer');});};mungeSDPOffer=function(_0x177907){_0x177907[_0x4501('0x5c')]=_0x177907[_0x4501('0x5c')][_0x4501('0xa2')](_0x4501('0x70'),'useinbandfec=1;stereo=1;sprop-maxcapturerate=48000');};setupPeerConnection=function(_0x40bfd9){if(_0x40bfd9[_0x4501('0xd0')])console['log'](_0x4501('0xcd'));_0x40bfd9['onsignalingstatechange']=onsignalingstatechange;_0x40bfd9[_0x4501('0xcf')]=oniceconnectionstatechange;_0x40bfd9[_0x4501('0x69')]=onicegatheringstatechange;_0x40bfd9[_0x4501('0xa7')]=handleOnTrack;_0x40bfd9[_0x4501('0x129')]=onicecandidate;};generateAggregatedStatsFunction=function(){if(!_0x5354de[_0x4501('0x13b')])_0x5354de[_0x4501('0x13b')]={};return function(_0x4a8c6c){let _0xff793f={};_0x4a8c6c['forEach'](_0x1c17c4=>{if(_0x1c17c4['type']=='inbound-rtp'&&!_0x1c17c4['isRemote']&&(_0x1c17c4['mediaType']=='video'||_0x1c17c4['id']['toLowerCase']()['includes']('video'))){_0xff793f['timestamp']=_0x1c17c4[_0x4501('0x9e')];_0xff793f[_0x4501('0x52')]=_0x1c17c4[_0x4501('0x52')];_0xff793f['framesDecoded']=_0x1c17c4['framesDecoded'];_0xff793f[_0x4501('0xbd')]=_0x1c17c4[_0x4501('0xbd')];_0xff793f['bytesReceivedStart']=_0x5354de['aggregatedStats']&&_0x5354de['aggregatedStats'][_0x4501('0x140')]?_0x5354de[_0x4501('0x13b')]['bytesReceivedStart']:_0x1c17c4[_0x4501('0x52')];_0xff793f[_0x4501('0xca')]=_0x5354de['aggregatedStats']&&_0x5354de[_0x4501('0x13b')][_0x4501('0xca')]?_0x5354de[_0x4501('0x13b')]['framesDecodedStart']:_0x1c17c4[_0x4501('0x109')];_0xff793f[_0x4501('0x10a')]=_0x5354de['aggregatedStats']&&_0x5354de[_0x4501('0x13b')]['timestampStart']?_0x5354de['aggregatedStats']['timestampStart']:_0x1c17c4[_0x4501('0x9e')];if(_0x5354de['aggregatedStats']&&_0x5354de['aggregatedStats']['timestamp']){if(_0x5354de['aggregatedStats'][_0x4501('0x52')]){_0xff793f['bitrate']=0x8*(_0xff793f['bytesReceived']-_0x5354de['aggregatedStats']['bytesReceived'])/(_0xff793f[_0x4501('0x9e')]-_0x5354de[_0x4501('0x13b')]['timestamp']);_0xff793f['bitrate']=Math[_0x4501('0x41')](_0xff793f[_0x4501('0xd8')]);_0xff793f['lowBitrate']=_0x5354de[_0x4501('0x13b')]['lowBitrate']&&_0x5354de[_0x4501('0x13b')]['lowBitrate']<_0xff793f[_0x4501('0xd8')]?_0x5354de[_0x4501('0x13b')]['lowBitrate']:_0xff793f['bitrate'];_0xff793f['highBitrate']=_0x5354de[_0x4501('0x13b')][_0x4501('0xe')]&&_0x5354de['aggregatedStats'][_0x4501('0xe')]>_0xff793f[_0x4501('0xd8')]?_0x5354de[_0x4501('0x13b')][_0x4501('0xe')]:_0xff793f[_0x4501('0xd8')];}if(_0x5354de[_0x4501('0x13b')]['bytesReceivedStart']){_0xff793f[_0x4501('0x3d')]=0x8*(_0xff793f['bytesReceived']-_0x5354de[_0x4501('0x13b')][_0x4501('0x140')])/(_0xff793f[_0x4501('0x9e')]-_0x5354de[_0x4501('0x13b')]['timestampStart']);_0xff793f[_0x4501('0x3d')]=Math['floor'](_0xff793f[_0x4501('0x3d')]);}if(_0x5354de[_0x4501('0x13b')][_0x4501('0x109')]){_0xff793f['framerate']=(_0xff793f['framesDecoded']-_0x5354de[_0x4501('0x13b')]['framesDecoded'])/((_0xff793f['timestamp']-_0x5354de['aggregatedStats'][_0x4501('0x9e')])/0x3e8);_0xff793f['framerate']=Math[_0x4501('0x41')](_0xff793f[_0x4501('0x134')]);_0xff793f['lowFramerate']=_0x5354de[_0x4501('0x13b')][_0x4501('0xfe')]&&_0x5354de[_0x4501('0x13b')][_0x4501('0xfe')]<_0xff793f['framerate']?_0x5354de['aggregatedStats']['lowFramerate']:_0xff793f['framerate'];_0xff793f[_0x4501('0x12f')]=_0x5354de['aggregatedStats'][_0x4501('0x12f')]&&_0x5354de['aggregatedStats']['highFramerate']>_0xff793f[_0x4501('0x134')]?_0x5354de[_0x4501('0x13b')]['highFramerate']:_0xff793f['framerate'];}if(_0x5354de[_0x4501('0x13b')]['framesDecodedStart']){_0xff793f['avgframerate']=(_0xff793f['framesDecoded']-_0x5354de[_0x4501('0x13b')]['framesDecodedStart'])/((_0xff793f['timestamp']-_0x5354de[_0x4501('0x13b')][_0x4501('0x10a')])/0x3e8);_0xff793f['avgframerate']=Math['floor'](_0xff793f[_0x4501('0xe3')]);}}}if(_0x1c17c4['type']==_0x4501('0x124')&&(_0x1c17c4[_0x4501('0x142')]=='video_label'||_0x1c17c4[_0x4501('0xc7')]=='video')){_0xff793f['framesDropped']=_0x1c17c4[_0x4501('0x107')];_0xff793f[_0x4501('0xb4')]=_0x1c17c4['framesReceived'];_0xff793f['framesDroppedPercentage']=_0x1c17c4[_0x4501('0x107')]/_0x1c17c4['framesReceived']*0x64;_0xff793f['frameHeight']=_0x1c17c4['frameHeight'];_0xff793f[_0x4501('0xbf')]=_0x1c17c4[_0x4501('0xbf')];_0xff793f['frameHeightStart']=_0x5354de['aggregatedStats']&&_0x5354de[_0x4501('0x13b')]['frameHeightStart']?_0x5354de[_0x4501('0x13b')][_0x4501('0x13f')]:_0x1c17c4[_0x4501('0x75')];_0xff793f[_0x4501('0x93')]=_0x5354de[_0x4501('0x13b')]&&_0x5354de[_0x4501('0x13b')][_0x4501('0x93')]?_0x5354de[_0x4501('0x13b')][_0x4501('0x93')]:_0x1c17c4[_0x4501('0xbf')];}if(_0x1c17c4[_0x4501('0x2e')]==_0x4501('0x8e')&&_0x1c17c4['hasOwnProperty'](_0x4501('0x9d'))&&_0x1c17c4['currentRoundTripTime']!=0x0){_0xff793f['currentRoundTripTime']=_0x1c17c4['currentRoundTripTime'];}});if(_0x5354de[_0x4501('0x13b')]['receiveToCompositeMs']){_0xff793f['receiveToCompositeMs']=_0x5354de[_0x4501('0x13b')][_0x4501('0x4d')];_0x5354de['latencyTestTimings']['SetFrameDisplayDeltaTime'](_0x5354de[_0x4501('0x13b')]['receiveToCompositeMs']);}_0x5354de[_0x4501('0x13b')]=_0xff793f;if(_0x5354de[_0x4501('0x42')])_0x5354de['onAggregatedStats'](_0xff793f);};};setupTracksToSendAsync=async function(_0x52fbbf){_0x52fbbf['addTransceiver'](_0x4501('0x2f'),{'direction':_0x4501('0x86')});if(!_0x5354de['useMic']){_0x52fbbf['addTransceiver'](_0x4501('0x85'),{'direction':'recvonly'});}else{let _0x548b18=_0x5354de[_0x4501('0xf7')]?{'autoGainControl':![],'channelCount':0x1,'echoCancellation':![],'latency':0x0,'noiseSuppression':![],'sampleRate':0x3e80,'volume':0x1}:![];const _0xb3762c=await navigator['mediaDevices'][_0x4501('0xdd')]({'video':![],'audio':_0x548b18});if(_0xb3762c){for(const _0xe09727 of _0xb3762c[_0x4501('0x2')]()){if(_0xe09727[_0x4501('0xc7')]&&_0xe09727['kind']=='audio'){_0x52fbbf['addTransceiver'](_0xe09727,{'direction':'sendrecv'});}}}else{_0x52fbbf['addTransceiver'](_0x4501('0x85'),{'direction':'recvonly'});}}};this[_0x4501('0xb7')]=function(_0x51fb5e){if(!_0x5354de['video']){return;}_0x5354de[_0x4501('0x126')]['Reset']();_0x5354de[_0x4501('0x126')][_0x4501('0xc5')]=Date['now']();_0x51fb5e(_0x5354de[_0x4501('0x126')][_0x4501('0xc5')]);};this['handleCandidateFromServer']=function(_0x31270d){console[_0x4501('0x45')]('ICE\x20candidate:\x20',_0x31270d);let _0x36a67e=new RTCIceCandidate(_0x31270d);_0x5354de[_0x4501('0x114')][_0x4501('0x32')](_0x36a67e)['then'](_0x39bbed=>{console['log'](_0x4501('0xa'));});};this[_0x4501('0x9')]=function(){if(_0x5354de[_0x4501('0x114')]){console['log'](_0x4501('0x65'));_0x5354de['pcClient']['close']();_0x5354de[_0x4501('0x114')]=null;}_0x5354de['pcClient']=new RTCPeerConnection(_0x5354de['cfg']);setupTracksToSendAsync(_0x5354de[_0x4501('0x114')])[_0x4501('0xff')](function(){setupPeerConnection(_0x5354de[_0x4501('0x114')]);_0x5354de[_0x4501('0x56')]=setupDataChannel(_0x5354de[_0x4501('0x114')],_0x4501('0x53'),_0x5354de[_0x4501('0x11')]);handleCreateOffer(_0x5354de[_0x4501('0x114')]);});};this['receiveAnswer']=function(_0x21b519){var _0x5cf6c4=new RTCSessionDescription(_0x21b519);_0x5354de['pcClient']['setRemoteDescription'](_0x5cf6c4);let _0x4fcaa7=_0x5354de['pcClient'][_0x4501('0x98')]();for(let _0x51b59e of _0x4fcaa7){_0x51b59e[_0x4501('0xa3')]=0x0;}};this[_0x4501('0x15b')]=function(){if(_0x5354de['pcClient']){console[_0x4501('0x45')](_0x4501('0x6d'));_0x5354de[_0x4501('0x114')]['close']();_0x5354de['pcClient']=null;}if(_0x5354de[_0x4501('0x8a')])clearInterval(_0x5354de['aggregateStatsIntervalId']);};this[_0x4501('0x31')]=function(_0x11e593){if(_0x5354de['dcClient']&&_0x5354de[_0x4501('0x56')]['readyState']==_0x4501('0x119')){_0x5354de['dcClient']['send'](_0x11e593);}};this['getStats']=function(_0x502583){if(_0x5354de['pcClient']&&_0x502583){_0x5354de['pcClient'][_0x4501('0x157')](null)[_0x4501('0x13a')](_0x5d5106=>{_0x502583(_0x5d5106);});}};this['aggregateStats']=function(_0x21a8b7){let _0x46956a=generateAggregatedStatsFunction();let _0x46ff96=()=>{_0x5354de[_0x4501('0x157')](_0x46956a);};_0x5354de['aggregateStatsIntervalId']=setInterval(_0x46ff96,_0x21a8b7);};};return _0x28688d;}));'use\x20strict';var MapVision=window['MapVision']||{};MapVision[_0x4501('0xf8')]=()=>{return _0x4501('0x48');};MapVision[_0x4501('0xc1')]={'Unknown':0x0,'Connected':0x1,'UnConnected':0x2};MapVision['Events']={'MouseEvents':0x1,'TouchEvents':0x2,'KeyboardEvents':0x3};MapVision[_0x4501('0x79')]={'QualityControlOwnership':0x0,'Response':0x1,'Command':0x2,'FreezeFrame':0x3,'UnfreezeFrame':0x4};MapVision['MessageType']={'IFrameRequest':0x0,'RequestQualityControl':0x1,'MaxFpsRequest':0x2,'AverageBitrateRequest':0x3,'StartStreaming':0x4,'StopStreaming':0x5,'LatencyTest':0x6,'RequestInitialSettings':0x7,'UIInteraction':0x32,'Command':0x33,'KeyDown':0x3c,'KeyUp':0x3d,'KeyPress':0x3e,'MouseEnter':0x46,'MouseLeave':0x47,'MouseDown':0x48,'MouseUp':0x49,'MouseMove':0x4a,'MouseWheel':0x4b,'TouchStart':0x50,'TouchEnd':0x51,'TouchMove':0x52};MapVision['MouseButton']={'MainButton':0x0,'AuxiliaryButton':0x1,'SecondaryButton':0x2,'FourthButton':0x3,'FifthButton':0x4};MapVision['MouseButtonsMask']={'PrimaryButton':0x1,'SecondaryButton':0x2,'AuxiliaryButton':0x4,'FourthButton':0x8,'FifthButton':0x10};MapVision[_0x4501('0x111')]={'Pan':0x0,'Select':0x1,'SelectPositionCallback':0x2,'SelectObjectCallback':0x3};MapVision['CommandType']={'SetParameters':0x186a0,'ScreenToWorld':0x186a1,'WorldToScreen':0x186a2,'SetResolution':0x186a4,'EnableKeyboard':0x186a5,'SetMapStatus':0x18704,'Stop':0x18705,'Clear':0x18706,'Rotate':0x18707,'GetHomePosition':0x18708,'ResetHome':0x18709,'GetCurrentPosition':0x1870a,'SetMouseCallback':0x1870b,'SetPosition':0x1870c,'FlyToPosition':0x1870d,'FlyToObject':0x1870e,'FlyToObjectById':0x18711,'SetMousePositionCallback':0x18712,'GetMaps':0x18718,'OpenMap':0x18719,'GetScrrenPosition':0x18723,'GetScenceSunInfo':0x1872d,'SetScenceSunInfo':0x1872e,'CreateObject':0x18769,'CreateRoute':0x1876a,'PlayRoute':0x1876d,'PauseRoute':0x1876e,'StopRoute':0x1876f,'ResumeRoute':0x18770,'PlaySequence':0x18773,'PauseSequence':0x18774,'IsPlayingSequence':0x18775,'IsPausedSequence':0x18776,'StopSequence':0x18777,'StreamVideoOpen':0x1877d,'StreamVideoClose':0x1877e,'StreamVideoCloseAll':0x1877f,'FindObjectById':0x18787,'FindObjectByName':0x18789,'FindObjectByPrefix':0x1878a,'GetSelectedObject':0x1878b,'UpdateObject':0x1878d,'UpdateObjectVisible':0x1878e,'UpdateObjectStyle':0x1878f,'UpdateObjectVisibleByPrefix':0x18790,'ClearObjectStyle':0x1879a,'GetObjectsVisible':0x187a5,'SetObjectsVisible':0x187a6,'SetObjectHighlight':0x187af,'SetObjectsHighlight':0x187b0,'SetObjectsHighlightByPrefix':0x187b1,'ClearHighlight':0x187b2,'GetBuildingNum':0x18831,'GetBuildingName':0x18832,'GetBuildingNames':0x18833,'GetBuildingVisible':0x18834,'SetBuildingVisible':0x18835,'SetBuildingWkVisible':0x18836,'ResetAllBuildings':0x18837,'SplitBuilding':0x18838,'SplitBuildingReset':0x18839,'SplitDynamicBuilding':0x18862,'SplitDynamicFloor':0x18863,'SplitFloorReset':0x18864,'GetFloorNum':0x1883b,'GetFloorName':0x1883c,'GetFloorNames':0x1883d,'GetFloorVisible':0x1883e,'SetFloorVisible':0x1883f,'GetUpFloorNum':0x18840,'GetUpFloorNames':0x18841,'GetDownFloorNum':0x18842,'GetDownFloorNames':0x18843,'GetFloorRoomNum':0x18845,'GetFloorRoomName':0x18846,'GetFloorRoomNames':0x18847,'GetFloorRoomVisible':0x18848,'SetFloorRoomVisible':0x18849,'GetFloorDeviceNum':0x1884f,'GetFloorDeviceName':0x18850,'GetFloorDeviceNames':0x18851,'GetFloorDeviceVisible':0x18852,'SetFloorDeviceVisible':0x18853,'SetGroundVisible':0x18895,'OverLayerStartEdit':0x188f9,'OverLayerStopEdit':0x188fa,'OverLayerSelectObjectEdit':0x188fb,'OverLayerFindObject':0x188fc,'OverLayerCreateObject':0x18903,'OverLayerUpdateObject':0x18904,'OverLayerRemoveObject':0x18905,'OverLayerRemoveAll':0x18906,'OverLayerRemoveAllCustom':0x18907,'OverLayerCreateObjects':0x18908,'OverLayerRemoveObjects':0x18909,'LayerLoad':0x18917,'LayerReLoad':0x18918,'LayersLoad':0x18919,'LayerSelectObject':0x1891b,'LayerRemove':0x1891c,'LayerSetVisible':0x1891d,'NorthControl':0x18a25,'PositionControl':0x18a26};MapVision['Point2D']=function(){this['x']=0x0;this['y']=0x0;};MapVision['Point']=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;};MapVision[_0x4501('0x8')]=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;this[_0x4501('0x5f')]=0x0;this['yaw']=0x0;this[_0x4501('0x9b')]=0x0;};MapVision['Label']=function(){this[_0x4501('0x2e')]=_0x4501('0x8b');this['gid']=0x1;this[_0x4501('0x12e')]='';this[_0x4501('0xa0')]='';this[_0x4501('0x25')]=new MapVision[(_0x4501('0x8'))]();};MapVision['Model3D']=function(){this['type']='model';this['gid']=0x1;this[_0x4501('0x12e')]='';this['style']='';this['position']=new MapVision['Position']();};MapVision[_0x4501('0x3')]=function(){this[_0x4501('0x2e')]=_0x4501('0x47');this[_0x4501('0x117')]=0x1;this['name']='';this[_0x4501('0xa0')]='';this['geom']=[];};MapVision['Polygon']=function(){this['type']=_0x4501('0x104');this[_0x4501('0x117')]=0x1;this[_0x4501('0x12e')]='';this['style']='';this['geom']=[];};MapVision[_0x4501('0xa8')]=function(){this['type']='building';this['gid']=0x0;this['name']='';this['floors']=[{'type':'floor','gid':0x0,'name':''}];this['position']=new MapVision[(_0x4501('0x8'))]();};MapVision[_0x4501('0x2b')]=0x1;MapVision['View3d']=function(_0x3dec01){this['id']=_0x3dec01['id'];this[_0x4501('0x12e')]=_0x4501('0xac');this['url']=_0x3dec01[_0x4501('0x10d')];this[_0x4501('0x7e')]=_0x3dec01['projectId'];this['token']=_0x3dec01[_0x4501('0x3e')];this['enableKeyboard']=!![];this[_0x4501('0x6a')]=!![];this[_0x4501('0x123')]=null;this['_webRtcPlayerHtmlElement']=null;this[_0x4501('0x80')]=null;this['_webSocket']=null;this['_callback']=null;this['_callbackMouse']=null;this['_mouseDownStatus']=![];this[_0x4501('0x4a')]=null;this[_0x4501('0x59')]=null;this['_onMouseDownCallback']=null;this['_onMouseUpCallback']=null;this[_0x4501('0x92')]=null;};MapVision['View3d']['prototype']['Open']=function(_0xddb914){let _0x320ecd=this;_0x320ecd[_0x4501('0x123')]=_0xddb914;_0x320ecd[_0x4501('0xce')]=null;if(_0x320ecd['id']==''||_0x320ecd['url']==''||_0x320ecd['projectId']==''){if(_0x320ecd['_registerCallback']){const _0x27c209={'code':0xc9,'msg':'Parameter\x20ERROR'};_0x320ecd[_0x4501('0x123')](_0x27c209);}return;}window['WebSocket']=window['WebSocket']||window['MozWebSocket'];if(!window[_0x4501('0xdb')]){if(_0x320ecd['_registerCallback']){const _0x5b466a={'code':0x1f9,'msg':'Your\x20browser\x20doesn\x27t\x20support\x20WebSocket.'};_0x320ecd['_registerCallback'](_0x5b466a);}return;}const _0x135b07=_0x320ecd['_webSocket'];if(_0x135b07){_0x135b07[_0x4501('0x15b')]();_0x320ecd['_webSocket']=undefined;console[_0x4501('0x45')]('\x20_webSocket\x20closed\x20');_0x320ecd[_0x4501('0x87')](_0x320ecd[_0x4501('0xd2')]);}if(_0x320ecd['url']['indexOf'](_0x4501('0x108'))<0x0){let _0x4fae7e=_0x320ecd[_0x4501('0x10d')][_0x4501('0xa2')](_0x4501('0x91'),'');_0x4fae7e=_0x4fae7e['replace']('/','');_0x4fae7e='ws://'+_0x4fae7e;_0x4fae7e=_0x4fae7e['replace'](_0x4501('0xb6'),'//');console[_0x4501('0x45')](_0x4fae7e);_0x320ecd[_0x4501('0x38')](_0x4fae7e);return;}const _0x2ac6c9={'httpUrl':_0x320ecd['url']+_0x4501('0xcc')+_0x320ecd[_0x4501('0x7e')]+'&token='+_0x320ecd[_0x4501('0x3e')],'type':_0x4501('0xe1')};setTimeout(()=>{_0x320ecd['_httpRequest'](_0x2ac6c9,function(_0x4a8017){if(_0x4a8017[_0x4501('0x7a')]&&_0x4a8017[_0x4501('0x7a')]===0xc8){const _0x17c0c6=_0x4a8017['data'];if(_0x17c0c6['port']<0xa){console[_0x4501('0x45')](_0x4501('0x22'));if(_0x320ecd[_0x4501('0x123')]){const _0x1a5346={'code':0x12c,'msg':'aimapvision3d\x20server\x20is\x20not\x20started.'};_0x320ecd['_registerCallback'](_0x1a5346);}return;}let _0x3670e7=_0x320ecd[_0x4501('0x10d')][_0x4501('0xa2')](_0x4501('0xf9'),'');const _0xbc9920=_0x3670e7['indexOf'](':',0x0);if(_0xbc9920>0x0)_0x3670e7=_0x3670e7['substring'](0x0,_0xbc9920);_0x3670e7=_0x4501('0x10b')+_0x3670e7+':'+_0x17c0c6[_0x4501('0xb2')];_0x320ecd[_0x4501('0x38')](_0x3670e7);}else{console['log'](_0x4a8017);if(_0x320ecd['_registerCallback']){_0x320ecd[_0x4501('0x123')](_0x4a8017);}}},function(){if(_0x320ecd[_0x4501('0x123')]){const _0x556317={'code':0x1f4,'msg':_0x4501('0xda')};_0x320ecd[_0x4501('0x123')](_0x556317);}});},0x64);};MapVision[_0x4501('0xde')]['prototype'][_0x4501('0x1e')]=function(){let _0x38966f=this;const _0x298ffe=_0x38966f[_0x4501('0x26')];if(_0x298ffe){_0x38966f['UnRegisterEvent']();_0x298ffe['close']();_0x38966f[_0x4501('0x26')]=undefined;console[_0x4501('0x45')]('\x20_webSocket\x20closed\x20');}};MapVision['View3d'][_0x4501('0x33')][_0x4501('0xe7')]=function(_0x548e8e,_0x37cc64){if(_0x548e8e==='onmousedown'){this[_0x4501('0x110')]=_0x37cc64;this[_0x4501('0x11a')](MapVision['CommandType']['SetMouseCallback']);}else if(_0x548e8e==='onmousemove'){this['_onMouseMoveCallback']=_0x37cc64;}else if(_0x548e8e===_0x4501('0x5d')){this[_0x4501('0x68')]=_0x37cc64;}else{this['_registerCallback']=_0x37cc64;}};MapVision['View3d']['prototype'][_0x4501('0x11b')]=function(){if(this[_0x4501('0xd2')]){this[_0x4501('0x87')](this[_0x4501('0xd2')]);}this[_0x4501('0x110')]=null;this['_onMouseMoveCallback']=null;this['_onMouseUpCallback']=null;this['_registerCallback']=null;};MapVision[_0x4501('0xde')][_0x4501('0x33')][_0x4501('0xb9')]=function(){const _0x163045=this['_webSocket']===undefined;return _0x163045;};MapVision[_0x4501('0xde')][_0x4501('0x33')]['SetParameters']=function(_0x27ca71){this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')][_0x4501('0x5')],_0x27ca71);};MapVision['View3d']['prototype'][_0x4501('0xf4')]=function(_0x46ef0b,_0x6532e1){this[_0x4501('0xce')]=null;this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')][_0x4501('0xf4')],{'width':_0x46ef0b,'height':_0x6532e1});};MapVision[_0x4501('0xde')]['prototype']['SetMapStatus']=function(_0x5aea58,_0x21a1e7){if(_0x5aea58>MapVision[_0x4501('0x111')]['SELECTE'])this[_0x4501('0xce')]=_0x21a1e7;else this[_0x4501('0xce')]=null;this['_emiUICommand'](MapVision[_0x4501('0xb3')]['SetMapStatus'],{'mapstatus':_0x5aea58});};MapVision['View3d'][_0x4501('0x33')]['Clear']=function(){this[_0x4501('0xce')]=null;this['_onMouseSelectedObj']=null;this[_0x4501('0x11a')](MapVision['CommandType'][_0x4501('0xc3')]);};MapVision['View3d'][_0x4501('0x33')]['Stop']=function(){this[_0x4501('0xce')]=null;this[_0x4501('0x11a')](MapVision['CommandType']['Stop']);};MapVision[_0x4501('0xde')]['prototype'][_0x4501('0xee')]=function(){this[_0x4501('0xce')]=null;this['_emiUICommand'](MapVision['CommandType']['ResetHome']);};MapVision[_0x4501('0xde')]['prototype'][_0x4501('0xeb')]=function(_0x56ec8d,_0x1dd0e1,_0x17f462,_0x57f974,_0x44b831){this[_0x4501('0xce')]=null;let _0x2f19f0={};if(_0x56ec8d){_0x2f19f0[_0x4501('0x5f')]=_0x56ec8d;}if(_0x1dd0e1){_0x2f19f0['radio']=_0x1dd0e1;}if(_0x17f462){_0x2f19f0['distance']=_0x17f462;}if(_0x57f974){_0x2f19f0['gid']=_0x57f974;}if(_0x44b831){_0x2f19f0['highlight']=_0x44b831;}this[_0x4501('0x11a')](MapVision['CommandType']['Rotate'],{'gid':_0x57f974,'pitch':_0x56ec8d,'radio':_0x1dd0e1,'distance':_0x17f462,'highlight':_0x44b831});};MapVision[_0x4501('0xde')]['prototype']['GetCurrentPosition']=function(_0x3b0910){this[_0x4501('0xce')]=_0x3b0910;this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')]['GetCurrentPosition']);};MapVision['View3d'][_0x4501('0x33')][_0x4501('0x99')]=function(_0x3222d2,_0x1e1834){this['_callback']=_0x1e1834;const _0x9cd9e0=[];_0x3222d2['forEach'](_0x1102fc=>{_0x9cd9e0['push']({'gid':_0x1102fc[_0x4501('0x117')]});});this['_emiUICommand'](MapVision['CommandType'][_0x4501('0x99')],{'objects':_0x9cd9e0});};MapVision['View3d'][_0x4501('0x33')][_0x4501('0xe8')]=function(_0xb02691){this['_callback']=_0xb02691;this['_emiUICommand'](MapVision['CommandType'][_0x4501('0xe8')]);};MapVision[_0x4501('0xde')][_0x4501('0x33')]['SetScenceSunInfo']=function(_0xbf0983,_0x59b444){this[_0x4501('0xce')]=null;this['_emiUICommand'](MapVision['CommandType'][_0x4501('0x1b')],_0xbf0983);};MapVision[_0x4501('0xde')][_0x4501('0x33')][_0x4501('0x8f')]=function(_0x512ddf){this[_0x4501('0xad')]=_0x512ddf;this[_0x4501('0x11a')](MapVision['CommandType'][_0x4501('0x8f')]);};MapVision['View3d']['prototype'][_0x4501('0x67')]=function(_0xa05090){this['_callbackMouse']=_0xa05090;this[_0x4501('0x11a')](MapVision['CommandType'][_0x4501('0x67')]);};MapVision[_0x4501('0xde')][_0x4501('0x33')]['OpenMap']=function(_0x2ca1e9){this['_emiUICommand'](MapVision[_0x4501('0xb3')]['OpenMap'],{'mapname':_0x2ca1e9});};MapVision[_0x4501('0xde')]['prototype']['GetHomePosition']=function(_0x3b4963){this['_callback']=_0x3b4963;this[_0x4501('0x11a')](MapVision['CommandType'][_0x4501('0x13')]);};MapVision[_0x4501('0xde')][_0x4501('0x33')]['SetPosition']=function(_0x3e69aa,_0x34a05d){this[_0x4501('0xce')]=null;_0x3e69aa['showlocation']=_0x34a05d;this['_emiUICommand'](MapVision[_0x4501('0xb3')][_0x4501('0x121')],_0x3e69aa);};MapVision[_0x4501('0xde')][_0x4501('0x33')]['FlyToPosition']=function(_0x18cd26,_0x6e0159,_0x4c2f67){this[_0x4501('0xce')]=null;_0x18cd26['showlocation']=_0x6e0159;_0x18cd26['speed']=_0x4c2f67;this[_0x4501('0x11a')](MapVision['CommandType'][_0x4501('0xed')],_0x18cd26);};MapVision[_0x4501('0xde')]['prototype'][_0x4501('0x106')]=function(_0x48bfb8,_0x5d6056,_0x4a9ad4){this['_callback']=null;_0x48bfb8[_0x4501('0x30')]=_0x5d6056;_0x48bfb8[_0x4501('0xf')]=_0x4a9ad4;this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')]['FlyToObject'],_0x48bfb8);};MapVision['View3d'][_0x4501('0x33')][_0x4501('0xea')]=function(_0x1a6f04,_0x24a1d2,_0x3e661c,_0x40c47d,_0x39a7a8){this[_0x4501('0xce')]=null;this['_emiUICommand'](MapVision[_0x4501('0xb3')]['FlyToObjectById'],{'gid':_0x1a6f04,'showlocation':_0x24a1d2,'distance':_0x40c47d,'speed':_0x39a7a8,'position':{'x':0x0,'y':0x0,'z':0x0,'pitch':_0x3e661c,'yaw':0x0,'roll':0x0}});};MapVision['View3d'][_0x4501('0x33')]['FindObjectById']=function(_0x3e9aac,_0x57210e){this[_0x4501('0xce')]=_0x57210e;this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')]['FindObjectById'],{'gid':_0x3e9aac});};MapVision[_0x4501('0xde')]['prototype'][_0x4501('0x57')]=function(_0x1965b6,_0x5defdc){this['_callback']=_0x5defdc;this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')]['FindObjectByName'],{'gid':_0x1965b6,'name':_0x1965b6});};MapVision['View3d']['prototype'][_0x4501('0x120')]=function(_0x3602df,_0x1d5814,_0x130aaf){this['_callback']=_0x130aaf;if(!_0x1d5814)_0x1d5814=0x14;this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')]['FindObjectByPrefix'],{'gid':_0x3602df,'limit':_0x1d5814});};MapVision[_0x4501('0xde')]['prototype'][_0x4501('0x125')]=function(_0x3799f1){this[_0x4501('0xce')]=_0x3799f1;this[_0x4501('0x11a')](MapVision['CommandType'][_0x4501('0x125')]);};MapVision['View3d'][_0x4501('0x33')]['UpdateObject']=function(_0x420c8d){this[_0x4501('0xce')]=null;this[_0x4501('0x11a')](MapVision['CommandType'][_0x4501('0x149')],_0x420c8d);};MapVision[_0x4501('0xde')][_0x4501('0x33')][_0x4501('0xf3')]=function(_0xd0e0f3,_0x5bc2b3,_0x5157df){this[_0x4501('0xce')]=null;this['_emiUICommand'](MapVision[_0x4501('0xb3')]['UpdateObjectStyle'],{'gid':_0xd0e0f3,'style':_0x5bc2b3,'color':_0x5157df});};MapVision[_0x4501('0xde')][_0x4501('0x33')][_0x4501('0x36')]=function(_0x12f0b1){this['_callback']=null;if(_0x12f0b1){this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')][_0x4501('0xf3')],{'gid':_0x12f0b1,'style':_0x4501('0x84'),'color':'#ff0000'});}else{this[_0x4501('0x11a')](MapVision['CommandType']['ClearObjectStyle']);}};MapVision[_0x4501('0xde')][_0x4501('0x33')]['GetObjectsVisible']=function(_0x259935){this[_0x4501('0xce')]=_0x259935;this['_emiUICommand'](MapVision['CommandType']['GetObjectsVisible']);};MapVision['View3d'][_0x4501('0x33')]['SetObjectsVisible']=function(_0x2360c8){this[_0x4501('0xce')]=null;this[_0x4501('0x11a')](MapVision['CommandType']['SetObjectsVisible'],{'objects':_0x2360c8});};MapVision['View3d'][_0x4501('0x33')]['SetObjectHighlight']=function(_0x190315){this[_0x4501('0xce')]=null;this['_emiUICommand'](MapVision[_0x4501('0xb3')]['SetObjectHighlight'],{'gid':_0x190315});};MapVision['View3d'][_0x4501('0x33')]['SetObjectsHighlight']=function(_0x55d1d4){this['_callback']=null;this['_emiUICommand'](MapVision[_0x4501('0xb3')]['SetObjectsHighlight'],{'objects':_0x55d1d4});};MapVision['View3d'][_0x4501('0x33')]['SetObjectsHighlightByPrefix']=function(_0x50e51a){this[_0x4501('0xce')]=null;this[_0x4501('0x11a')](MapVision['CommandType']['SetObjectsHighlightByPrefix'],{'prefix':_0x50e51a});};MapVision[_0x4501('0xde')]['prototype']['ClearHighlight']=function(){this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')][_0x4501('0x5b')]);};MapVision[_0x4501('0xde')]['prototype'][_0x4501('0x78')]=function(_0x4636c9,_0x829be7){this['_callback']=null;this[_0x4501('0x11a')](MapVision['CommandType'][_0x4501('0x78')],{'gid':_0x4636c9,'visible':_0x829be7});};MapVision[_0x4501('0xde')]['prototype'][_0x4501('0xec')]=function(_0x807d77,_0x519eb4){this['_callback']=null;this['_emiUICommand'](MapVision[_0x4501('0xb3')]['UpdateObjectVisibleByPrefix'],{'gid':_0x807d77,'visible':_0x519eb4});};MapVision[_0x4501('0xde')]['prototype']['CreateObject']=function(_0x446f8){this[_0x4501('0xce')]=null;this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')]['CreateObject'],_0x446f8);};MapVision['View3d'][_0x4501('0x33')][_0x4501('0xe5')]=function(_0x48bee4){this[_0x4501('0xce')]=null;this['_emiUICommand'](MapVision['CommandType']['CreateRoute'],_0x48bee4);};MapVision['View3d']['prototype']['StartRoute']=function(_0x29ce1f){this[_0x4501('0xce')]=null;this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')][_0x4501('0xf1')],_0x29ce1f);};MapVision['View3d']['prototype'][_0x4501('0x4f')]=function(_0x3a41ac){this[_0x4501('0xce')]=_0x3a41ac;this['_emiUICommand'](MapVision['CommandType']['PlayRoute']);};MapVision[_0x4501('0xde')][_0x4501('0x33')]['PauseRoute']=function(){this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')][_0x4501('0x0')]);};MapVision['View3d']['prototype']['StopRoute']=function(){this[_0x4501('0xce')]=null;this['_emiUICommand'](MapVision[_0x4501('0xb3')][_0x4501('0x1d')]);};MapVision[_0x4501('0xde')][_0x4501('0x33')][_0x4501('0xaf')]=function(){this[_0x4501('0x11a')](MapVision['CommandType']['ResumeRoute']);};MapVision['View3d'][_0x4501('0x33')]['PlaySequence']=function(_0x4dda68){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType'][_0x4501('0x40')],{'gid':_0x4dda68});};MapVision['View3d'][_0x4501('0x33')]['PauseSequence']=function(_0x37800f){this[_0x4501('0xce')]=null;this[_0x4501('0x11a')](MapVision['CommandType'][_0x4501('0x27')],{'gid':_0x37800f});};MapVision[_0x4501('0xde')][_0x4501('0x33')]['IsPlayingSequence']=function(_0x4833ac,_0x4b63bb){this[_0x4501('0xce')]=_0x4b63bb;this[_0x4501('0x11a')](MapVision['CommandType']['IsPlayingSequence'],{'gid':_0x4833ac});};MapVision[_0x4501('0xde')][_0x4501('0x33')][_0x4501('0x17')]=function(_0x1f410f,_0x1b8b3b){this[_0x4501('0xce')]=_0x1b8b3b;this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')][_0x4501('0x17')],{'gid':_0x1f410f});};MapVision['View3d'][_0x4501('0x33')]['StopSequence']=function(_0x2dc330,_0x5556ce){this[_0x4501('0xce')]=null;this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')]['StopSequence'],{'gid':_0x2dc330});};MapVision[_0x4501('0xde')]['prototype'][_0x4501('0x16')]=function(_0x4403b3){this[_0x4501('0xce')]=null;this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')]['StreamVideoOpen'],_0x4403b3);};MapVision['View3d']['prototype']['StreamVideoClose']=function(_0x345c3c){this['_callback']=null;if(!_0x345c3c)_0x345c3c=0x0;this[_0x4501('0x11a')](MapVision['CommandType'][_0x4501('0x4e')],{'index':_0x345c3c});};MapVision['View3d'][_0x4501('0x33')][_0x4501('0x7b')]=function(){this['_callback']=null;this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')]['StreamVideoCloseAll']);};MapVision[_0x4501('0xde')][_0x4501('0x33')]['GetBuildingNum']=function(_0x285a05){this[_0x4501('0xce')]=_0x285a05;this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')][_0x4501('0xe0')]);};MapVision[_0x4501('0xde')][_0x4501('0x33')][_0x4501('0xd1')]=function(_0x47310a,_0x356752){this['_callback']=_0x356752;this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')]['GetBuildingName'],{'bindex':_0x47310a});};MapVision['View3d'][_0x4501('0x33')][_0x4501('0x43')]=function(_0x1b702f){this['_callback']=_0x1b702f;this['_emiUICommand'](MapVision[_0x4501('0xb3')][_0x4501('0x43')]);};MapVision[_0x4501('0xde')][_0x4501('0x33')]['GetBuildingVisible']=function(_0x4cac02,_0x401c1b){this[_0x4501('0xce')]=_0x401c1b;this['_emiUICommand'](MapVision[_0x4501('0xb3')][_0x4501('0xdf')],{'gid':_0x4cac02});};MapVision['View3d']['prototype'][_0x4501('0x58')]=function(_0x53fe95,_0x28c5dd,_0x47553a){this['_emiUICommand'](MapVision[_0x4501('0xb3')]['SetBuildingVisible'],{'gid':_0x53fe95,'visible':_0x28c5dd,'opacity':_0x47553a});};MapVision['View3d']['prototype'][_0x4501('0x63')]=function(_0x5021ca,_0x4b7b08,_0x475a0e){this['_emiUICommand'](MapVision[_0x4501('0xb3')]['SetBuildingWkVisible'],{'gid':_0x5021ca,'visible':_0x4b7b08,'opacity':_0x475a0e});};MapVision[_0x4501('0xde')]['prototype'][_0x4501('0xf5')]=function(){this[_0x4501('0x11a')](MapVision['CommandType'][_0x4501('0xf5')]);};MapVision[_0x4501('0xde')]['prototype'][_0x4501('0x12')]=function(_0x12d13f,_0x2ffb17){this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')]['SplitBuilding'],{'gid':_0x12d13f,'offset':_0x2ffb17});};MapVision[_0x4501('0xde')][_0x4501('0x33')]['SplitBuildingReset']=function(_0x1e8a93){this['_emiUICommand'](MapVision['CommandType'][_0x4501('0x159')],{'gid':_0x1e8a93});};MapVision[_0x4501('0xde')]['prototype'][_0x4501('0x131')]=function(_0x173e9f,_0x13e0e9){this['_emiUICommand'](MapVision['CommandType']['SplitDynamicBuilding'],{'gid':_0x173e9f,'offset':_0x13e0e9});};MapVision['View3d'][_0x4501('0x33')]['SplitDynamicFloor']=function(_0x2375b3,_0x59d46e,_0x10a58a){this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')]['SplitDynamicFloor'],{'gid':_0x2375b3,'floor':_0x59d46e,'offset':_0x10a58a});};MapVision['View3d']['prototype']['SplitFloorReset']=function(_0xc5eb12,_0xf7faef){this['_emiUICommand'](MapVision['CommandType']['SplitFloorReset'],{'gid':_0xc5eb12,'floor':_0xf7faef});};MapVision['View3d'][_0x4501('0x33')]['GetFloorNum']=function(_0x14cd03,_0x343569){this['_callback']=_0x343569;this['_emiUICommand'](MapVision[_0x4501('0xb3')]['GetFloorNum'],{'gid':_0x14cd03});};MapVision['View3d']['prototype'][_0x4501('0x150')]=function(_0x4258c2,_0x2d53d2){this['_callback']=_0x2d53d2;this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')]['GetFloorNames'],{'gid':_0x4258c2});};MapVision['View3d']['prototype'][_0x4501('0x14b')]=function(_0x420195,_0x3e8264){this[_0x4501('0xce')]=_0x3e8264;this['_emiUICommand'](MapVision['CommandType'][_0x4501('0x14b')],{'gid':_0x420195});};MapVision['View3d']['prototype'][_0x4501('0x12d')]=function(_0x83cada,_0x3ec4e8,_0xb64876){this[_0x4501('0xce')]=_0xb64876;this['_emiUICommand'](MapVision['CommandType'][_0x4501('0x12d')],{'gid':_0x83cada,'floor':_0x3ec4e8});};MapVision['View3d'][_0x4501('0x33')][_0x4501('0x10c')]=function(_0x15e538,_0x210437,_0x1cf683,_0xfd4aa8){if(!_0x1cf683)_0x1cf683=![];if(!_0xfd4aa8)_0xfd4aa8=0x0;this['_emiUICommand'](MapVision[_0x4501('0xb3')]['SetFloorVisible'],{'gid':_0x15e538,'floor':_0x210437,'visible':_0x1cf683,'opacity':_0xfd4aa8});};MapVision[_0x4501('0xde')][_0x4501('0x33')][_0x4501('0xfa')]=function(_0x52a6c1,_0x1b5215,_0xf5253b){this['_callback']=_0xf5253b;this['_emiUICommand'](MapVision[_0x4501('0xb3')][_0x4501('0xfa')],{'gid':_0x52a6c1,'floor':_0x1b5215});};MapVision['View3d']['prototype']['GetUpFloorNames']=function(_0x38167f,_0x1afe3c,_0x57c50c){this[_0x4501('0xce')]=_0x57c50c;this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')]['GetUpFloorNames'],{'gid':_0x38167f,'floor':_0x1afe3c});};MapVision[_0x4501('0xde')]['prototype'][_0x4501('0x64')]=function(_0x595983,_0x52e351,_0x4b3625){this[_0x4501('0xce')]=_0x4b3625;this['_emiUICommand'](MapVision['CommandType']['GetDownFloorNum'],{'gid':_0x595983,'floor':_0x52e351});};MapVision['View3d']['prototype'][_0x4501('0xd6')]=function(_0x4e04d6,_0x27ba07,_0x290df2){this[_0x4501('0xce')]=_0x290df2;this[_0x4501('0x11a')](MapVision['CommandType']['GetDownFloorNames'],{'gid':_0x4e04d6,'floor':_0x27ba07});};MapVision['View3d']['prototype']['GetFloorRoomNum']=function(_0x32f0ed,_0x416851,_0x3735c7){this[_0x4501('0xce')]=_0x3735c7;this['_emiUICommand'](MapVision['CommandType'][_0x4501('0x127')],{'gid':_0x32f0ed,'floor':_0x416851});};MapVision['View3d'][_0x4501('0x33')][_0x4501('0x2a')]=function(_0x2297c1,_0x29192e,_0x36906a){this[_0x4501('0xce')]=_0x36906a;this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')]['GetFloorRoomNames'],{'gid':_0x2297c1,'floor':_0x29192e});};MapVision[_0x4501('0xde')]['prototype'][_0x4501('0x122')]=function(_0x36308a,_0x2d9a1d,_0x526643){this[_0x4501('0xce')]=_0x526643;this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')]['GetFloorRoomNames'],{'gid':_0x36308a,'floor':_0x2d9a1d});};MapVision[_0x4501('0xde')][_0x4501('0x33')]['GetFloorRoomVisible']=function(_0x51389f,_0x38548f,_0x3dedbc,_0x36097f){this['_callback']=_0x36097f;this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')][_0x4501('0x4b')],{'gid':_0x51389f,'floor':_0x38548f,'room':_0x3dedbc});};MapVision['View3d']['prototype']['SetFloorRoomVisible']=function(_0x2352a5,_0xfa80ea,_0x54e880,_0x2ddb00,_0x55e4d4){if(!_0x2ddb00)_0x2ddb00=![];if(!_0x55e4d4)_0x55e4d4=0x0;this['_emiUICommand'](MapVision[_0x4501('0xb3')][_0x4501('0x71')],{'gid':_0x2352a5,'floor':_0xfa80ea,'room':_0x54e880,'visible':_0x2ddb00,'opacity':_0x55e4d4});};MapVision[_0x4501('0xde')][_0x4501('0x33')]['GetFloorDeviceNum']=function(_0x3c560b,_0x435dca,_0x51e299){this['_callback']=_0x51e299;this['_emiUICommand'](MapVision['CommandType']['GetFloorDeviceNum'],{'gid':_0x3c560b,'floor':_0x435dca});};MapVision['View3d']['prototype'][_0x4501('0x12a')]=function(_0x59bda1,_0x52b44e,_0x3e192e){this[_0x4501('0xce')]=_0x3e192e;this['_emiUICommand'](MapVision['CommandType'][_0x4501('0x113')],{'gid':_0x59bda1,'floor':_0x52b44e});};MapVision['View3d']['prototype']['GetFloorDeviceNames']=function(_0x9b7e,_0x2c88d5,_0x995d25){this[_0x4501('0xce')]=_0x995d25;this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')]['GetFloorDeviceNames'],{'gid':_0x9b7e,'floor':_0x2c88d5});};MapVision['View3d']['prototype']['GetFloorDeviceVisible']=function(_0x1cf220,_0x442d23,_0x1fd8cb,_0x5b51bf){this[_0x4501('0xce')]=_0x5b51bf;this[_0x4501('0x11a')](MapVision['CommandType'][_0x4501('0xd5')],{'gid':_0x1cf220,'floor':_0x442d23,'device':_0x1fd8cb});};MapVision[_0x4501('0xde')]['prototype']['SetFloorDeviceVisible']=function(_0x4c3dae,_0x58e4e9,_0x4efea2,_0x225bbf,_0x44b956){if(!_0x225bbf)_0x225bbf=![];if(!_0x44b956)_0x44b956=0x0;this['_emiUICommand'](MapVision[_0x4501('0xb3')]['SetFloorDeviceVisible'],{'gid':_0x4c3dae,'floor':_0x58e4e9,'device':_0x4efea2,'visible':_0x225bbf,'opacity':_0x44b956});};MapVision[_0x4501('0xde')]['prototype']['SetGroundVisible']=function(_0x54f962){this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')][_0x4501('0x153')],{'visible':_0x54f962});};MapVision[_0x4501('0xde')]['prototype'][_0x4501('0x89')]=function(_0x1cf9c0,_0x136f31){this['_callback']=_0x136f31;this['_emiUICommand'](MapVision[_0x4501('0xb3')][_0x4501('0x89')],_0x1cf9c0);};MapVision[_0x4501('0xde')]['prototype'][_0x4501('0x55')]=function(){this[_0x4501('0xce')]=null;this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')]['OverLayerStopEdit']);};MapVision['View3d'][_0x4501('0x33')][_0x4501('0x133')]=function(_0x4e5730){this[_0x4501('0xce')]=_0x4e5730;this['_emiUICommand'](MapVision[_0x4501('0xb3')]['OverLayerSelectObjectEdit']);};MapVision[_0x4501('0xde')]['prototype'][_0x4501('0x23')]=function(_0x2dc9ef,_0x2940ac){this[_0x4501('0xce')]=_0x2940ac;this['_emiUICommand'](MapVision['CommandType'][_0x4501('0x23')],{'name':_0x2dc9ef});};MapVision['View3d'][_0x4501('0x33')]['OverLayerCreateObject']=function(_0x4f433c,_0x3a2d65){this[_0x4501('0xce')]=_0x3a2d65;this[_0x4501('0x11a')](MapVision['CommandType'][_0x4501('0x76')],_0x4f433c);};MapVision[_0x4501('0xde')]['prototype'][_0x4501('0x4')]=function(_0x4f3b39,_0x2dbc7f){this['_callback']=_0x2dbc7f;this[_0x4501('0x11a')](MapVision['CommandType']['OverLayerCreateObjects'],{'shapes':_0x4f3b39});};MapVision['View3d']['prototype']['OverLayerUpdateObject']=function(_0x54bb6e){this['_emiUICommand'](MapVision[_0x4501('0xb3')][_0x4501('0x139')],_0x54bb6e);};MapVision[_0x4501('0xde')]['prototype']['OverLayerRemoveObject']=function(_0x56eb04){this['_emiUICommand'](MapVision['CommandType']['OverLayerRemoveObject'],_0x56eb04);};MapVision['View3d']['prototype'][_0x4501('0x141')]=function(_0x3a9991){this['_emiUICommand'](MapVision['CommandType']['OverLayerRemoveObject'],{'gid':_0x3a9991});};MapVision['View3d']['prototype'][_0x4501('0x6')]=function(_0x3912e6){this[_0x4501('0x11a')](MapVision['CommandType'][_0x4501('0xef')],{'ids':_0x3912e6});};MapVision[_0x4501('0xde')]['prototype']['OverLayerRemoveAll']=function(_0x1dc59f){if(_0x1dc59f){this['_emiUICommand'](MapVision['CommandType']['OverLayerRemoveAllCustom'],{'types':_0x1dc59f});}else{this['_emiUICommand'](MapVision[_0x4501('0xb3')]['OverLayerRemoveAll']);}};MapVision['View3d']['prototype']['LayerLoad']=function(_0x678df5,_0x4a0171){this[_0x4501('0xce')]=_0x4a0171;this['_emiUICommand'](MapVision[_0x4501('0xb3')]['LayerLoad'],_0x678df5);};MapVision['View3d']['prototype'][_0x4501('0x2d')]=function(_0x58f876,_0x54a2bb){this['_callback']=_0x54a2bb;this[_0x4501('0x11a')](MapVision['CommandType']['LayerReLoad'],_0x58f876);};MapVision[_0x4501('0xde')][_0x4501('0x33')]['LayersLoad']=function(_0x1a69e2,_0x5ea5b9){this['_callback']=_0x5ea5b9;this['_emiUICommand'](MapVision['CommandType']['LayersLoad'],{'layers':_0x1a69e2});};MapVision['View3d'][_0x4501('0x33')][_0x4501('0x82')]=function(_0x4170b0,_0x2a6493){this[_0x4501('0xce')]=_0x2a6493;this[_0x4501('0x11a')](MapVision[_0x4501('0xb3')]['LayerSelectObject'],{'gid':_0x4170b0});};MapVision[_0x4501('0xde')][_0x4501('0x33')]['LayerRemove']=function(_0x4ac84d){this[_0x4501('0x11a')](MapVision['CommandType'][_0x4501('0x12b')],{'gid':_0x4ac84d});};MapVision[_0x4501('0xde')][_0x4501('0x33')]['LayerSetVisible']=function(_0x2cf113,_0x1bc657){this['_emiUICommand'](MapVision['CommandType']['LayerSetVisible'],{'gid':_0x2cf113,'visible':_0x1bc657});};MapVision['View3d'][_0x4501('0x33')][_0x4501('0x37')]=function(_0x5f4372,_0x3d69b6,_0x277894,_0x34c709){this['_emiUICommand'](MapVision['CommandType']['NorthControl'],{'visible':_0x5f4372,'x':_0x3d69b6,'y':_0x277894,'scale':_0x34c709});};MapVision[_0x4501('0xde')]['prototype'][_0x4501('0x38')]=function(_0x4905f2){let _0x645a40=this;_0x645a40['_webSocket']=new WebSocket(_0x4905f2);_0x645a40[_0x4501('0x26')]['onmessage']=function(_0x244c1e){var _0x2cfafd=JSON[_0x4501('0x5e')](_0x244c1e['data']);if(_0x2cfafd['type']==='config'){_0x645a40['_createWebRtcPlayer'](_0x645a40['id'],_0x2cfafd);}else if(_0x2cfafd['type']===_0x4501('0x72')){}else if(_0x2cfafd['type']==='answer'){_0x645a40[_0x4501('0xc6')](_0x2cfafd);}else if(_0x2cfafd['type']===_0x4501('0x115')){_0x645a40[_0x4501('0x154')](_0x2cfafd['candidate']);}else{console['log'](_0x4501('0xaa')+_0x2cfafd['type']);}};_0x645a40['_webSocket']['onerror']=function(_0x2fbe31){console[_0x4501('0x45')](_0x4501('0xf6')+JSON[_0x4501('0x18')](_0x2fbe31));if(_0x645a40[_0x4501('0x123')]){const _0xccc3ef={'code':0x64,'msg':'webSocket\x20connenect\x20error'};_0x645a40[_0x4501('0x123')](_0xccc3ef);}};_0x645a40['_webSocket'][_0x4501('0x6f')]=function(_0x43b69a){console['log']('WS\x20closed:\x20'+JSON['stringify'](_0x43b69a[_0x4501('0x7a')])+_0x4501('0xa6')+_0x43b69a['reason']);_0x645a40['_webSocket']=undefined;let _0x51310b=document['getElementById'](_0x645a40['id']);if(_0x645a40['_webRtcPlayerObj']){_0x51310b[_0x4501('0x9a')](_0x645a40[_0x4501('0x80')][_0x4501('0x2f')]);_0x645a40[_0x4501('0x80')]['close']();_0x645a40[_0x4501('0x80')]=undefined;}if(_0x645a40[_0x4501('0x123')]){const _0x5b9696={'code':0x190,'msg':_0x4501('0xa9')};_0x645a40['_registerCallback'](_0x5b9696);}};};MapVision['View3d']['prototype'][_0x4501('0x15')]=function(_0x2f9c94){let _0x5ca2ff=this;_0x2f9c94[_0x4501('0xba')]=_0x555c54=>{if(!_0x5ca2ff['enableMouse']){return;}_0x5ca2ff[_0x4501('0xae')](_0x555c54[_0x4501('0xe6')],_0x555c54['offsetY'],_0x555c54['movementX'],_0x555c54[_0x4501('0xf2')]);if(_0x5ca2ff[_0x4501('0x77')]&&_0x5ca2ff['_onMouseMoveCallback']){_0x5ca2ff[_0x4501('0x92')](_0x555c54,_0x5ca2ff['_onMouseSelectedObj']);}_0x555c54[_0x4501('0x135')]();};_0x2f9c94['onmousedown']=_0x3a8652=>{_0x5ca2ff['_mouseDownStatus']=!![];_0x5ca2ff['_onMouseSelectedObj']=null;if(!_0x5ca2ff[_0x4501('0x6a')]){return;}_0x5ca2ff[_0x4501('0x73')](_0x3a8652[_0x4501('0x88')],_0x3a8652['offsetX'],_0x3a8652['offsetY']);setTimeout(function(){if(_0x5ca2ff[_0x4501('0x110')]){_0x5ca2ff[_0x4501('0x110')](_0x3a8652,_0x5ca2ff[_0x4501('0x59')]);}},0x64);_0x3a8652['preventDefault']();};_0x2f9c94[_0x4501('0x5d')]=_0x7c87c2=>{_0x5ca2ff[_0x4501('0x77')]=![];if(!_0x5ca2ff[_0x4501('0x6a')]){return;}_0x5ca2ff['_onMouseUp'](_0x7c87c2[_0x4501('0x88')],_0x7c87c2[_0x4501('0xe6')],_0x7c87c2['offsetY']);if(_0x5ca2ff[_0x4501('0x68')]){_0x5ca2ff[_0x4501('0x68')](_0x7c87c2,_0x5ca2ff[_0x4501('0x59')]);}_0x7c87c2[_0x4501('0x135')]();};_0x2f9c94[_0x4501('0xc')]=_0x24c827=>{if(!_0x5ca2ff[_0x4501('0x6a')]){return;}_0x5ca2ff[_0x4501('0x60')](_0x24c827[_0x4501('0x88')],_0x24c827[_0x4501('0xe6')],_0x24c827[_0x4501('0xbe')]);_0x24c827['preventDefault']();};if('onmousewheel'in _0x2f9c94){_0x2f9c94['onmousewheel']=_0x54455b=>{if(!_0x5ca2ff['enableMouse']){return;}_0x5ca2ff['_onMouseWheel'](_0x54455b['wheelDelta'],_0x54455b['offsetX'],_0x54455b['offsetY']);_0x54455b[_0x4501('0x135')]();};}else{_0x2f9c94['addEventListener']('DOMMouseScroll',_0x30ec3b=>{if(!_0x5ca2ff['enableMouse']){return;}_0x5ca2ff[_0x4501('0x15a')](_0x30ec3b[_0x4501('0xa1')]*-0x78,_0x30ec3b[_0x4501('0xe6')],_0x30ec3b['offsetY']);_0x30ec3b[_0x4501('0x135')]();},![]);}_0x2f9c94['pressMouseButtons']=_0x5f4725=>{if(!_0x5ca2ff[_0x4501('0x6a')]){return;}_0x5ca2ff['_pressMouseButtons'](_0x5f4725['buttons'],_0x5f4725['offsetX'],_0x5f4725[_0x4501('0xbe')]);};_0x2f9c94['releaseMouseButtons']=_0x3a9b52=>{if(!_0x5ca2ff[_0x4501('0x6a')]){return;}_0x5ca2ff['_releaseMouseButtons'](_0x3a9b52[_0x4501('0x3f')],_0x3a9b52[_0x4501('0xe6')],_0x3a9b52[_0x4501('0xbe')]);};_0x2f9c94[_0x4501('0xbc')]=_0x45246e=>{if(!_0x5ca2ff[_0x4501('0x6a')]){return;}var _0x46c130=new DataView(new ArrayBuffer(0x1));_0x46c130[_0x4501('0x13d')](0x0,MapVision['MessageType'][_0x4501('0x44')]);_0x5ca2ff[_0x4501('0x8d')](_0x46c130['buffer']);_0x2f9c94['pressMouseButtons'](_0x45246e);};_0x2f9c94[_0x4501('0x132')]=_0x3026a0=>{if(!_0x5ca2ff['enableMouse']){return;}var _0x1a9ad1=new DataView(new ArrayBuffer(0x1));_0x1a9ad1[_0x4501('0x13d')](0x0,MapVision['MessageType']['MouseLeave']);_0x5ca2ff['_sendInputData'](_0x1a9ad1[_0x4501('0x158')]);_0x2f9c94[_0x4501('0x90')](_0x3026a0);};};MapVision['View3d'][_0x4501('0x33')][_0x4501('0xc9')]=function(_0x143197){};MapVision[_0x4501('0xde')][_0x4501('0x33')][_0x4501('0x87')]=function(_0x5cdf55){if(!_0x5cdf55){return;}_0x5cdf55['onmousemove']=_0x415ec7=>{_0x415ec7['preventDefault']();};_0x5cdf55[_0x4501('0x14d')]=_0x377381=>{_0x377381[_0x4501('0x135')]();};_0x5cdf55['onmouseup']=_0x5a30d7=>{_0x5a30d7['preventDefault']();};_0x5cdf55['oncontextmenu']=_0x14fa0b=>{_0x14fa0b['preventDefault']();};if(_0x4501('0x2c')in _0x5cdf55){_0x5cdf55[_0x4501('0x2c')]=_0x4489bf=>{_0x4489bf['preventDefault']();};}else{_0x5cdf55['addEventListener']('DOMMouseScroll',_0x2f074d=>{_0x2f074d['preventDefault']();},![]);}_0x5cdf55['pressMouseButtons']=_0x3ab562=>{};_0x5cdf55[_0x4501('0x90')]=_0x5c7fa8=>{};_0x5cdf55['onmouseenter']=_0x316db3=>{};_0x5cdf55[_0x4501('0x132')]=_0x4d4c01=>{};_0x5cdf55[_0x4501('0x3a')]=_0x1bd7da=>{};_0x5cdf55[_0x4501('0xf0')]=_0x7a871d=>{};_0x5cdf55['onkeypress']=_0x302049=>{};};MapVision[_0x4501('0xde')][_0x4501('0x33')][_0x4501('0x14')]=function(){let _0x4122ac=this;const _0xd9fd73={'BackSpace':0x8,'Shift':0x10,'Control':0x11,'Alt':0x12,'RightShift':0xfd,'RightControl':0xfe,'RightAlt':0xff};function _0x58e8e7(_0x5b51ef){if(_0x5b51ef[_0x4501('0xfb')]===_0xd9fd73['Shift']&&_0x5b51ef[_0x4501('0x7a')]===_0x4501('0x34'))return _0xd9fd73['RightShift'];else if(_0x5b51ef[_0x4501('0xfb')]===_0xd9fd73['Control']&&_0x5b51ef[_0x4501('0x7a')]==='ControlRight')return _0xd9fd73['RightControl'];else if(_0x5b51ef['keyCode']===_0xd9fd73['Alt']&&_0x5b51ef[_0x4501('0x7a')]==='AltRight')return _0xd9fd73[_0x4501('0xfd')];else return _0x5b51ef['keyCode'];};function _0x18944a(_0x16f6f5){return!(_0x16f6f5['keyCode']==0x1b||_0x16f6f5[_0x4501('0xfb')]==0x74||_0x16f6f5[_0x4501('0xfb')]==0xde||_0x16f6f5[_0x4501('0xfb')]==0xba||_0x16f6f5['keyCode']==0xbc||_0x16f6f5[_0x4501('0xd9')]&&_0x16f6f5['keyCode']==0x52);};var _0x5aa981=document['getElementsByTagName']('iframe');var _0x500198=null;if(_0x5aa981&&_0x5aa981['length']>0x0){_0x500198=_0x5aa981[0x0];}else{_0x500198=document;}_0x500198['onkeydown']=_0x3226a7=>{if(!_0x4122ac[_0x4501('0xcb')]){return;}if(_0x18944a(_0x3226a7)==![]){_0x3226a7[_0x4501('0x135')]();return;}_0x4122ac['_sendInputData'](new Uint8Array([MapVision[_0x4501('0xd4')]['KeyDown'],_0x58e8e7(_0x3226a7),_0x3226a7[_0x4501('0x14f')]])[_0x4501('0x158')]);if(_0x3226a7[_0x4501('0xfb')]===_0xd9fd73[_0x4501('0x8c')]){_0x500198['onkeypress']({'charCode':_0xd9fd73[_0x4501('0x8c')]});}};_0x500198['onkeyup']=_0x2a03af=>{if(!_0x4122ac['enableKeyboard']){return;}if(_0x18944a(_0x2a03af)==![]){_0x2a03af['preventDefault']();return;}_0x4122ac[_0x4501('0x8d')](new Uint8Array([MapVision['MessageType'][_0x4501('0x14c')],_0x58e8e7(_0x2a03af)])[_0x4501('0x158')]);};_0x500198[_0x4501('0x7d')]=_0x47a6c8=>{if(!_0x4122ac[_0x4501('0xcb')]){return;}if(_0x18944a(_0x47a6c8)==![]){_0x47a6c8['preventDefault']();return;}let _0x140879=new DataView(new ArrayBuffer(0x3));_0x140879[_0x4501('0x13d')](0x0,MapVision['MessageType']['KeyPress']);_0x140879[_0x4501('0x145')](0x1,_0x47a6c8['charCode'],!![]);_0x4122ac['_sendInputData'](_0x140879['buffer']);};};MapVision['View3d']['prototype']['_createWebRtcPlayer']=function(_0xe84b67,_0x1732aa){let _0x16a18c=this;_0x16a18c[_0x4501('0xd2')]=document['getElementById'](_0xe84b67);_0x16a18c[_0x4501('0x80')]=new webRtcPlayer({'peerConnectionOptions':_0x1732aa['peerConnectionOptions']});_0x16a18c[_0x4501('0xd2')][_0x4501('0xa0')][_0x4501('0x144')]='hidden';let _0x46c29f=_0x16a18c['_webRtcPlayerHtmlElement'];_0x46c29f[_0x4501('0x83')](_0x16a18c['_webRtcPlayerObj'][_0x4501('0x2f')]);_0x16a18c[_0x4501('0x80')][_0x4501('0x116')]=function(_0x1fe503){if(_0x16a18c['_webSocket']&&_0x16a18c[_0x4501('0x26')][_0x4501('0xb1')]===MapVision[_0x4501('0x2b')]){let _0x147f1e=JSON[_0x4501('0x18')](_0x1fe503);_0x16a18c['_webSocket']['send'](_0x147f1e);}};_0x16a18c['_webRtcPlayerObj'][_0x4501('0x1c')]=function(_0x450205){if(_0x16a18c[_0x4501('0x26')]&&_0x16a18c[_0x4501('0x26')]['readyState']===MapVision['WS_OPEN_STATE']){console[_0x4501('0x45')](_0x4501('0xc0')+JSON['stringify'](_0x450205,undefined,0x4));_0x16a18c['_webSocket']['send'](JSON['stringify']({'type':_0x4501('0x115'),'candidate':_0x450205}));}};_0x16a18c[_0x4501('0x80')]['onVideoInitialised']=function(){if(_0x16a18c['_webSocket']&&_0x16a18c['_webSocket'][_0x4501('0xb1')]===MapVision[_0x4501('0x2b')]){if(_0x16a18c['_webRtcPlayerObj']){_0x16a18c['_webRtcPlayerObj'][_0x4501('0x2f')][_0x4501('0x12c')]=!![];setTimeout(function(){_0x16a18c[_0x4501('0xfc')]();_0x16a18c[_0x4501('0x97')]();_0x16a18c['_webRtcPlayerObj']['video']['play']();},0x32);}}};_0x16a18c[_0x4501('0x80')]['onDataChannelConnected']=function(){if(_0x16a18c[_0x4501('0x26')]&&_0x16a18c['_webSocket'][_0x4501('0xb1')]===MapVision[_0x4501('0x2b')]){if(_0x16a18c[_0x4501('0x80')][_0x4501('0x2f')]&&_0x16a18c['_webRtcPlayerObj'][_0x4501('0x2f')][_0x4501('0x11c')]&&_0x16a18c['_webRtcPlayerObj']['onVideoInitialised']){_0x16a18c['_webRtcPlayerObj'][_0x4501('0x28')]();}if(_0x16a18c['_registerCallback']){const _0x34ae70={'code':0xc8,'msg':'websocket\x20connected'};_0x16a18c[_0x4501('0x123')](_0x34ae70);}_0x16a18c[_0x4501('0xd2')][_0x4501('0xa0')][_0x4501('0x144')]='visible';}};_0x16a18c['_webRtcPlayerObj'][_0x4501('0xc8')]=function(_0x5702d8){var _0x1be732=new Uint8Array(_0x5702d8);var _0x32aa5e=_0x1be732[0x0];if(_0x32aa5e===MapVision[_0x4501('0x79')]['QualityControlOwnership']){let _0x47634a=new TextDecoder('utf-16')[_0x4501('0x95')](_0x5702d8[_0x4501('0x14a')](0x1));console[_0x4501('0x45')](_0x4501('0x7f')+_0x47634a);}else if(_0x32aa5e===MapVision['ToClientMessageType']['Response']){let _0x5ca7ad=new TextDecoder(_0x4501('0x10'))[_0x4501('0x95')](_0x5702d8['slice'](0x1));let _0x346ea7=JSON['parse'](_0x5ca7ad);if(_0x346ea7&&_0x346ea7[_0x4501('0x61')]){_0x16a18c['_onMouseSelectedObj']=_0x346ea7;}if(_0x16a18c[_0x4501('0xad')]&&(_0x16a18c['_command']===MapVision[_0x4501('0xb3')]['SetMouseCallback']||_0x16a18c['_command']===MapVision[_0x4501('0xb3')]['SetMousePositionCallback']||_0x346ea7&&_0x346ea7['onMouse'])){_0x16a18c['_callbackMouse'](_0x346ea7);_0x16a18c['_callback']=null;}else if(_0x16a18c[_0x4501('0xce')]){if(_0x346ea7&&!_0x346ea7[_0x4501('0x61')]){_0x16a18c[_0x4501('0xce')](_0x346ea7);}}}else if(_0x32aa5e===MapVision['ToClientMessageType']['Command']){let _0x11c760=new TextDecoder('utf-16')[_0x4501('0x95')](_0x5702d8[_0x4501('0x14a')](0x1));console[_0x4501('0x45')]('->\x20SS:\x20Command:\x0a'+_0x11c760);}else if(_0x32aa5e===MapVision[_0x4501('0x79')]['FreezeFrame']){let _0x14b394=new TextDecoder('utf-16')['decode'](_0x5702d8['slice'](0x1));console['log']('->\x20SS:\x20FreezeFrame:\x0a'+_0x14b394);}else if(_0x32aa5e===MapVision['ToClientMessageType']['UnfreezeFrame']){let _0x3ca2dc=new TextDecoder('utf-16')[_0x4501('0x95')](_0x5702d8['slice'](0x1));console['log'](_0x4501('0x96')+_0x3ca2dc);}};_0x16a18c['_registerMouseEvents'](_0x46c29f);_0x16a18c[_0x4501('0xc9')](_0x46c29f);_0x16a18c[_0x4501('0x14')](_0x46c29f);_0x16a18c[_0x4501('0x80')]['createOffer']();};MapVision[_0x4501('0xde')]['prototype']['_sendInputData']=function(_0x210932){if(this[_0x4501('0x80')]){this[_0x4501('0x80')]['send'](_0x210932);}else{console[_0x4501('0x45')](_0x4501('0x9c'));}};MapVision['View3d'][_0x4501('0x33')][_0x4501('0xab')]=function(_0x2ddcc9,_0x1e4b20){let _0x3db02a=JSON['stringify'](_0x1e4b20);let _0x36f532=new DataView(new ArrayBuffer(0x1+0x2+0x2*_0x3db02a[_0x4501('0x156')]));let _0x61e418=0x0;_0x36f532['setUint8'](_0x61e418,_0x2ddcc9);_0x61e418++;_0x36f532[_0x4501('0x145')](_0x61e418,_0x3db02a[_0x4501('0x156')],!![]);_0x61e418+=0x2;for(let _0x1b5ad8=0x0;_0x1b5ad8<_0x3db02a['length'];_0x1b5ad8++){_0x36f532[_0x4501('0x145')](_0x61e418,_0x3db02a[_0x4501('0x118')](_0x1b5ad8),!![]);_0x61e418+=0x2;}this['_sendInputData'](_0x36f532[_0x4501('0x158')]);};MapVision[_0x4501('0xde')]['prototype']['_emiUICommand']=function(_0x1cf716,_0x6077a2){this[_0x4501('0x4a')]=_0x1cf716;const _0x3b6322={'cmd':_0x1cf716,'data':_0x6077a2};this['_emitDescriptor'](MapVision['MessageType']['UIInteraction'],_0x3b6322);};MapVision[_0x4501('0xde')]['prototype']['_requestInitialSettings']=function(){this['_sendInputData'](new Uint8Array([MapVision[_0x4501('0xd4')]['RequestInitialSettings']])[_0x4501('0x158')]);};MapVision[_0x4501('0xde')]['prototype']['_requestQualityControl']=function(){this['_sendInputData'](new Uint8Array([MapVision['MessageType']['RequestQualityControl']])['buffer']);};MapVision[_0x4501('0xde')]['prototype'][_0x4501('0xae')]=function(_0x250cda,_0x3c0274,_0x5afc3d,_0x2f94a8){let _0x4af946=this;if(!_0x4af946['_webSocket']){return;}let _0x40e682=_0x4af946['_normalizeAndQuantizeUnsigned'](_0x250cda,_0x3c0274);let _0x19e750=_0x4af946['_normalizeAndQuantizeSigned'](_0x5afc3d,_0x2f94a8);var _0x50df8d=new DataView(new ArrayBuffer(0x9));_0x50df8d['setUint8'](0x0,MapVision['MessageType']['MouseMove']);_0x50df8d[_0x4501('0x145')](0x1,_0x40e682['x'],!![]);_0x50df8d[_0x4501('0x145')](0x3,_0x40e682['y'],!![]);_0x50df8d['setInt16'](0x5,_0x19e750['x'],!![]);_0x50df8d['setInt16'](0x7,_0x19e750['y'],!![]);_0x4af946['_sendInputData'](_0x50df8d[_0x4501('0x158')]);};MapVision[_0x4501('0xde')]['prototype']['_onMouseDown']=function(_0x542a18,_0x55626e,_0x2595f6){let _0x221093=this;if(!_0x221093['_webSocket']){return;}let _0x23817b=_0x221093['_normalizeAndQuantizeUnsigned'](_0x55626e,_0x2595f6);var _0x70fa37=new DataView(new ArrayBuffer(0x6));_0x70fa37['setUint8'](0x0,MapVision[_0x4501('0xd4')]['MouseDown']);_0x70fa37['setUint8'](0x1,_0x542a18);_0x70fa37['setUint16'](0x2,_0x23817b['x'],!![]);_0x70fa37['setUint16'](0x4,_0x23817b['y'],!![]);_0x221093['_sendInputData'](_0x70fa37['buffer']);};MapVision[_0x4501('0xde')][_0x4501('0x33')][_0x4501('0x60')]=function(_0x3a2b9a,_0x489a30,_0x17987f){let _0x89e6d0=this;if(!_0x89e6d0[_0x4501('0x26')]){return;}let _0x126508=_0x89e6d0['_normalizeAndQuantizeUnsigned'](_0x489a30,_0x17987f);var _0x158bb8=new DataView(new ArrayBuffer(0x6));_0x158bb8[_0x4501('0x13d')](0x0,MapVision[_0x4501('0xd4')][_0x4501('0x136')]);_0x158bb8[_0x4501('0x13d')](0x1,_0x3a2b9a);_0x158bb8[_0x4501('0x145')](0x2,_0x126508['x'],!![]);_0x158bb8['setUint16'](0x4,_0x126508['y'],!![]);_0x89e6d0['_sendInputData'](_0x158bb8['buffer']);};MapVision['View3d'][_0x4501('0x33')][_0x4501('0x15a')]=function(_0x293752,_0x1f02d8,_0x25a25c){let _0x305178=this;if(!_0x305178['_webSocket']){return;}let _0x46f4cc=_0x305178['_normalizeAndQuantizeUnsigned'](_0x1f02d8,_0x25a25c);var _0x569142=new DataView(new ArrayBuffer(0x7));_0x569142[_0x4501('0x13d')](0x0,MapVision[_0x4501('0xd4')][_0x4501('0x147')]);_0x569142['setInt16'](0x1,_0x293752,!![]);_0x569142[_0x4501('0x145')](0x3,_0x46f4cc['x'],!![]);_0x569142['setUint16'](0x5,_0x46f4cc['y'],!![]);_0x305178['_sendInputData'](_0x569142['buffer']);};MapVision['View3d']['prototype'][_0x4501('0x146')]=function(_0x4252f4,_0x536a99,_0xb9c268){if(_0x4252f4&MapVision['MouseButtonsMask']['PrimaryButton']){this['_onMouseUp'](MapVision['MouseButton']['MainButton'],_0x536a99,_0xb9c268);}if(_0x4252f4&MapVision['MouseButtonsMask'][_0x4501('0x128')]){this[_0x4501('0x60')](MapVision['MouseButton']['SecondaryButton'],_0x536a99,_0xb9c268);}if(_0x4252f4&MapVision[_0x4501('0x94')][_0x4501('0xb')]){this['_onMouseUp'](MapVision['MouseButton']['AuxiliaryButton'],_0x536a99,_0xb9c268);}if(_0x4252f4&MapVision[_0x4501('0x94')]['FourthButton']){this[_0x4501('0x60')](MapVision[_0x4501('0x13e')]['FourthButton'],_0x536a99,_0xb9c268);}if(_0x4252f4&MapVision[_0x4501('0x94')][_0x4501('0x4c')]){this[_0x4501('0x60')](MapVision[_0x4501('0x13e')]['FifthButton'],_0x536a99,_0xb9c268);}};MapVision['View3d'][_0x4501('0x33')]['_pressMouseButtons']=function(_0x439654,_0x32ce0b,_0x1495b6){if(_0x439654&MapVision['MouseButtonsMask']['PrimaryButton']){this['_onMouseDown'](MapVision['MouseButton']['MainButton'],_0x32ce0b,_0x1495b6);}if(_0x439654&MapVision['MouseButtonsMask']['SecondaryButton']){this[_0x4501('0x73')](MapVision[_0x4501('0x13e')]['SecondaryButton'],_0x32ce0b,_0x1495b6);}if(_0x439654&MapVision[_0x4501('0x94')][_0x4501('0xb')]){this[_0x4501('0x73')](MapVision['MouseButton']['AuxiliaryButton'],_0x32ce0b,_0x1495b6);}if(_0x439654&MapVision[_0x4501('0x94')][_0x4501('0x1a')]){this[_0x4501('0x73')](MapVision['MouseButton'][_0x4501('0x1a')],_0x32ce0b,_0x1495b6);}if(_0x439654&MapVision['MouseButtonsMask'][_0x4501('0x4c')]){this[_0x4501('0x73')](MapVision['MouseButton'][_0x4501('0x4c')],_0x32ce0b,_0x1495b6);}};MapVision[_0x4501('0xde')]['prototype'][_0x4501('0x81')]=function(_0x14adb9,_0x5acabd){let _0x3d98df=this;if(!_0x3d98df['_webSocket']){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0xc4b654=_0x3d98df[_0x4501('0xd2')];let _0x3b120b=_0x3d98df['_webRtcPlayerObj']['video'];let _0x2c221c=_0xc4b654[_0x4501('0xe9')]/_0xc4b654[_0x4501('0x103')];let _0x1d6826=_0x3b120b['videoHeight']/_0x3b120b[_0x4501('0x7c')];_0x1d6826=_0x2c221c;if(_0x2c221c>_0x1d6826){let _0x288102=_0x2c221c/_0x1d6826;let _0x2a1854=_0x14adb9/_0xc4b654['clientWidth'];let _0x3c9b8b=_0x288102*(_0x5acabd/_0xc4b654[_0x4501('0xe9')]-0.5)+0.5;if(_0x2a1854<0x0||_0x2a1854>0x1||_0x3c9b8b<0x0||_0x3c9b8b>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x2a1854*0x10000,'y':_0x3c9b8b*0x10000};}}else{let _0x1bf2fd=_0x1d6826/_0x2c221c;let _0x35c88f=_0x1bf2fd*(_0x14adb9/_0xc4b654['clientWidth']-0.5)+0.5;let _0x10f706=_0x5acabd/_0xc4b654[_0x4501('0xe9')];if(_0x35c88f<0x0||_0x35c88f>0x1||_0x10f706<0x0||_0x10f706>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x35c88f*0x10000,'y':_0x10f706*0x10000};}}};MapVision['View3d'][_0x4501('0x33')]['_normalizeAndQuantizeSigned']=function(_0xc60f33,_0x47c80d){let _0x22a572=this;if(!_0x22a572['_webSocket']){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x1c3daf=_0x22a572[_0x4501('0xd2')];let _0x1ef7b4=_0x22a572['_webRtcPlayerObj'][_0x4501('0x2f')];let _0x5a74ba=_0x1c3daf[_0x4501('0xe9')]/_0x1c3daf['clientWidth'];let _0x35b47c=_0x1ef7b4['videoHeight']/_0x1ef7b4[_0x4501('0x7c')];_0x35b47c=_0x5a74ba;if(_0x5a74ba>_0x35b47c){let _0x3330bc=_0x5a74ba/_0x35b47c;let _0x384e82=_0xc60f33/(0.5*_0x1c3daf[_0x4501('0x103')]);let _0x1d1c74=_0x3330bc*_0x47c80d/(0.5*_0x1c3daf['clientHeight']);return{'x':_0x384e82*0x7fff,'y':_0x1d1c74*0x7fff};}else{let _0x703c27=_0x35b47c/_0x5a74ba;let _0x45d42c=_0x703c27*_0xc60f33/(0.5*_0x1c3daf[_0x4501('0x103')]);let _0x18a29b=_0x47c80d/(0.5*_0x1c3daf[_0x4501('0xe9')]);return{'x':_0x45d42c*0x7fff,'y':_0x18a29b*0x7fff};}};MapVision[_0x4501('0xde')]['prototype'][_0x4501('0x74')]=function(_0x1ae747,_0x50c6b6){let _0xbe2be4=this;if(!_0xbe2be4[_0x4501('0x26')]){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x3b1fc4=_0xbe2be4['_webRtcPlayerHtmlElement'];let _0x5af400=_0xbe2be4[_0x4501('0x80')]['video'];let _0x3ae4d3=_0x3b1fc4['clientHeight']/_0x3b1fc4[_0x4501('0x103')];let _0x41af9d=_0x5af400['videoHeight']/_0x5af400['videoWidth'];if(_0x3ae4d3>_0x41af9d){let _0x3bf81c=_0x3ae4d3/_0x41af9d;let _0x4db804=_0x1ae747/0x10000;let _0xde4e8b=(_0x50c6b6/0x10000-0.5)/_0x3bf81c+0.5;return{'x':_0x4db804*_0x3b1fc4['clientWidth'],'y':_0xde4e8b*_0x3b1fc4['clientHeight']};}else{let _0x147d5b=(_0x1ae747/0x10000-0.5)/ratio+0.5;let _0x285f7f=_0x50c6b6/0x10000;return{'x':_0x147d5b*_0x3b1fc4['clientWidth'],'y':_0x285f7f*_0x3b1fc4['clientHeight']};}};MapVision[_0x4501('0xde')]['prototype']['_onWebRtcAnswer']=function(_0x480335){this['_webRtcPlayerObj'][_0x4501('0x151')](_0x480335);this[_0x4501('0x80')][_0x4501('0x42')]=_0x4b1293=>{};this[_0x4501('0x80')]['aggregateStats'](0x1*0x3e8);};MapVision[_0x4501('0xde')]['prototype']['_onWebRtcIce']=function(_0x409d28){if(this[_0x4501('0x80')])this['_webRtcPlayerObj'][_0x4501('0x138')](_0x409d28);};MapVision[_0x4501('0xde')][_0x4501('0x33')][_0x4501('0xdc')]=function(_0x5b5bcb,_0x37d8e8,_0x2da706){var _0x2dc041=null;if(window[_0x4501('0x155')]){_0x2dc041=new XMLHttpRequest();}else if(window['ActiveXObject']){_0x2dc041=new ActiveXObject('Microsoft.XMLHTTP');}if(_0x2dc041==null){alert(' XMLHttp');return;}var _0x55a939=(_0x5b5bcb['type']||'GET')[_0x4501('0x11e')]();var _0x316ebc=_0x5b5bcb['dataType']||_0x4501('0xc2');var _0x3b2216=_0x5b5bcb[_0x4501('0x6b')]||'';var _0x5329bf=_0x5b5bcb[_0x4501('0x46')]||!![];var _0x3371d1=_0x5b5bcb['data']||[];var _0x57c233='';for(var _0x399a79 in _0x3371d1){_0x57c233+=_0x399a79+'='+_0x3371d1[_0x399a79]+'&';}_0x57c233=_0x57c233==''?'':_0x57c233[_0x4501('0x9f')](0x0,_0x57c233[_0x4501('0x156')]-0x1);console[_0x4501('0x45')](_0x57c233);_0x2dc041['onreadystatechange']=function(){if(_0x2dc041[_0x4501('0xb1')]==0x4&&_0x2dc041['status']==0xc8){var _0x58763f=JSON[_0x4501('0x5e')](_0x2dc041[_0x4501('0xe4')]);_0x37d8e8(_0x58763f);}else{_0x2da706;}};if(_0x55a939==_0x4501('0x29')){_0x2dc041['open'](_0x4501('0x29'),_0x3b2216,_0x5329bf);_0x2dc041[_0x4501('0x31')](null);}else if(_0x55a939==_0x4501('0x143')){_0x2dc041[_0x4501('0x119')](_0x4501('0x143'),_0x3b2216,_0x5329bf);_0x2dc041['setRequestHeader'](_0x4501('0x50'),'application/x-www-form-urlencoded');_0x2dc041['send'](_0x57c233);}};